{"mappings":"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","sources":["lib/convert.ts","node_modules/canvas/browser.js","node_modules/canvas/lib/parse-font.js","node_modules/path-browserify/index.js","node_modules/process/browser.js","lib/enums.ts","node_modules/src/php/math/round.js","node_modules/src/php/_helpers/_php_cast_float.js","node_modules/src/php/_helpers/_php_cast_int.js","node_modules/src/php/math/dechex.js","node_modules/src/php/strings/str_pad.js","node_modules/src/php/array/count.js","lib/image-q/constants/bt709.ts","lib/image-q/conversion/rgb2xyz.ts","lib/image-q/conversion/rgb2hsl.ts","lib/image-q/utils/arithmetic.ts","lib/image-q/conversion/rgb2lab.ts","lib/image-q/conversion/xyz2lab.ts","lib/image-q/conversion/lab2xyz.ts","lib/image-q/conversion/xyz2rgb.ts","lib/image-q/distance/distanceCalculator.ts","lib/image-q/distance/cie94.ts","lib/image-q/distance/ciede2000.ts","lib/image-q/distance/cmetric.ts","lib/image-q/distance/euclidean.ts","lib/image-q/distance/manhattan.ts","lib/image-q/distance/pngQuant.ts","lib/image-q/palette/paletteQuantizer.ts","lib/image-q/palette/neuquant/neuquant.ts","lib/image-q/utils/palette.ts","lib/image-q/utils/pointContainer.ts","lib/image-q/utils/point.ts","lib/image-q/utils/hueStatistics.ts","lib/image-q/utils/progressTracker.ts","lib/image-q/palette/neuquant/neuquantFloat.ts","lib/image-q/palette/rgbquant/rgbquant.ts","lib/image-q/palette/rgbquant/colorHistogram.ts","lib/image-q/palette/wu/wuQuant.ts","lib/image-q/image/imageQuantizer.ts","lib/image-q/image/nearestColor.ts","lib/image-q/image/array.ts","lib/image-q/image/riemersma.ts","lib/image-q/image/spaceFillingCurves/hilbertCurve.ts","lib/image-q/basicAPI.ts","node_modules/setimmediate/setImmediate.js","node_modules/assert/build/assert.js","node_modules/assert/build/internal/errors.js","node_modules/util/util.js","node_modules/util/support/types.js","node_modules/is-arguments/index.js","node_modules/has-tostringtag/shams.js","node_modules/has-symbols/shams.js","node_modules/call-bind/callBound.js","node_modules/get-intrinsic/index.js","node_modules/has-symbols/index.js","node_modules/function-bind/index.js","node_modules/function-bind/implementation.js","node_modules/has/src/index.js","node_modules/call-bind/index.js","node_modules/is-generator-function/index.js","node_modules/which-typed-array/index.js","node_modules/foreach/index.js","node_modules/available-typed-arrays/index.js","node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","node_modules/is-typed-array/index.js","node_modules/util/support/isBufferBrowser.js","node_modules/inherits/inherits_browser.js","node_modules/assert/build/internal/assert/assertion_error.js","node_modules/es6-object-assign/index.js","node_modules/object-is/index.js","node_modules/define-properties/index.js","node_modules/object-keys/index.js","node_modules/object-keys/isArguments.js","node_modules/object-keys/implementation.js","node_modules/object-is/implementation.js","node_modules/object-is/polyfill.js","node_modules/object-is/shim.js","node_modules/assert/build/internal/util/comparisons.js","node_modules/is-nan/index.js","node_modules/is-nan/implementation.js","node_modules/is-nan/polyfill.js","node_modules/is-nan/shim.js","node_modules/bs-custom-file-input/src/selector.js","node_modules/bs-custom-file-input/src/util.js","node_modules/bs-custom-file-input/src/eventHandlers.js","node_modules/bs-custom-file-input/src/index.js","node_modules/file-saver/src/FileSaver.js","web/index.js"],"sourcesContent":["import { createCanvas, loadImage, Image } from 'canvas';\nimport path from 'path';\nimport { ImageMode, ImageModeUtil, OutputMode } from './enums';\nimport round from 'locutus/php/math/round';\nimport dechex from 'locutus/php/math/dechex';\nimport str_pad from 'locutus/php/strings/str_pad';\nimport count from 'locutus/php/array/count';\nimport { buildPalette, utils, applyPalette, distance, image } from './image-q/image-q';\n\ninterface ConverterOptions {\n    dith: boolean;\n    cf: ImageMode;\n    outputFormat: OutputMode;\n    binaryFormat: ImageMode;\n    swapEndian: boolean;\n    outName: string;\n}\nclass Converter {\n    dith = false;      /*Dithering enable/disable*/\n    w = 0;         /*Image width*/\n    h = 0;         /*Image height*/\n    raw_len = 0; /* RAW image data size */\n    cf: ImageMode;        /*Color format*/\n    outputFormat: OutputMode;\n    alpha = false;     /*Add alpha byte or not*/\n    chroma = false;    /*Chroma keyed?*/\n    d_out: Array<number>;     /*Output data (result)*/\n    imageData: Array<number>|Uint8Array; /* Input image data */\n    swapEndian = false; /* Whether to swap endian or not */\n    options: ConverterOptions;\n\n    /*Helper variables*/\n    r_act: number;\n    b_act: number;\n    g_act: number;\n\n    /*For dithering*/\n    r_earr: Array<number>;  /*Classification error for next row of pixels*/\n    g_earr: Array<number>;\n    b_earr: Array<number>;\n\n    r_nerr: number;  /*Classification error for next pixel*/\n    g_nerr: number;\n    b_nerr: number;\n\n\n    constructor(w: number, h: number, imageData, alpha: boolean, options: Partial<ConverterOptions>) {\n        this.dith = options.dith;\n        this.w = w;\n        this.h = h;\n        this.imageData = imageData;\n        this.r_earr = [];  /*Classification error for next row of pixels*/\n        this.g_earr = [];\n        this.b_earr = [];\n\n        if(this.dith) {\n            for(var i = 0; i < this.w + 2; ++i){\n                this.r_earr[i] = 0;\n                this.g_earr[i] = 0;\n                this.b_earr[i] = 0;\n            }\n        }\n\n        this.r_nerr = 0;  /*Classification error for next pixel*/\n        this.g_nerr = 0;\n        this.b_nerr = 0;\n        this.cf = options.cf;\n        this.alpha = alpha;\n        this.swapEndian = options.swapEndian;\n        this.outputFormat = options.outputFormat;\n        this.options = options as ConverterOptions;\n    }\n\n    async convert(): Promise<string|ArrayBuffer> {\n        if(this.cf == ImageMode.CF_RAW || this.cf == ImageMode.CF_RAW_ALPHA) {\n            const d_array = Array.from((this.imageData as Uint8Array));\n            this.raw_len = d_array.length;\n            let str = \"\\n    \" + d_array.map((val, i) => \"0x\" + str_pad(dechex(val), 2, '0', 'STR_PAD_LEFT') + ((i % 13) == 12 ? \", \\n    \" : \", \")).join(\"\");\n            str = str.substr(0, str.length-2);\n            return str + \"\\n\";\n        }\n        var palette_size = 0, bits_per_value = 0;\n        if(this.cf == ImageMode.CF_INDEXED_1_BIT) {\n            palette_size = 2;\n            bits_per_value = 1;\n        } else if(this.cf == ImageMode.CF_INDEXED_2_BIT) {\n            palette_size = 4;\n            bits_per_value = 2;\n        } else if(this.cf == ImageMode.CF_INDEXED_4_BIT) {\n            palette_size = 16;\n            bits_per_value = 4;\n        } else if(this.cf == ImageMode.CF_INDEXED_8_BIT) {\n            palette_size = 256;\n            bits_per_value = 8;\n        }\n        this.d_out = [];\n\n        if(palette_size) {\n            const pointContainer = utils.PointContainer.fromUint8Array(this.imageData, this.w, this.h);\n            const palette = await buildPalette([pointContainer], {\n                colors: palette_size, // optional\n            });\n            const color_arr = this.d_out;\n            const palettePointArray = palette.getPointContainer().getPointArray();\n            const paletteColors = palettePointArray.map((point) => {\n                return point.uint32;\n            });\n            for(var i = 0; i < palette_size; i++) {\n                if(i < palettePointArray.length) {\n                    color_arr.push(palettePointArray[i].b, palettePointArray[i].g, palettePointArray[i].r, palettePointArray[i].a);\n                } else {\n                    color_arr.push(0, 0, 0, 0);\n                }\n            }\n\n            const outPointContainer = await applyPalette(pointContainer, palette, {\n            });\n            let currentValue = 0;\n            let numBitsShifted = 0;\n            const outPointArray = outPointContainer.getPointArray();\n            this.imageData = [];\n            outPointArray.forEach((point, arrayIndex) => {\n                const index = paletteColors.indexOf(point.uint32);\n                if(index == -1)\n                    throw new Error(\"Unknown color??\");\n                (this.imageData as Array<number>).push(index);\n            });\n        }\n\n        \n        let oldColorFormat;\n        const needsFormatSwap = this.outputFormat == OutputMode.BIN && ImageModeUtil.isTrueColor(this.cf);\n        if(needsFormatSwap) {\n            oldColorFormat = this.cf;\n            this.cf = this.options.binaryFormat;\n        }\n        /*Convert all the pixels*/\n        for(var y = 0; y < this.h; y++) {\n            this.dith_reset();\n\n            for(var x = 0; x < this.w; ++x){\n                this.conv_px(x, y);\n            }\n        }\n\n        if(needsFormatSwap) {\n            this.cf = oldColorFormat;\n        }\n\n        if(this.outputFormat == OutputMode.C)\n            return this.format_to_c_array();\n        else {\n            var $content = this.d_out;\n            var $cf = this.cf;\n            var $lv_cf = 4;               /*Color format in LittlevGL*/\n            switch($cf) {\n                case ImageMode.CF_TRUE_COLOR:\n                    $lv_cf = 4; break;\n                case ImageMode.CF_TRUE_COLOR_ALPHA:\n                    $lv_cf = 5; break;\n                case ImageMode.CF_TRUE_COLOR_CHROMA:\n                    $lv_cf = 6; break;\n                case ImageMode.CF_INDEXED_1_BIT:\n                    $lv_cf = 7; break;\n                case ImageMode.CF_INDEXED_2_BIT:\n                    $lv_cf = 8; break;\n                case ImageMode.CF_INDEXED_4_BIT:\n                    $lv_cf = 9; break;\n                case ImageMode.CF_INDEXED_8_BIT:\n                    $lv_cf = 10; break;\n                case ImageMode.CF_ALPHA_1_BIT:\n                    $lv_cf = 11; break;\n                case ImageMode.CF_ALPHA_2_BIT:\n                    $lv_cf = 12; break;\n                case ImageMode.CF_ALPHA_4_BIT:\n                    $lv_cf = 13; break;\n                case ImageMode.CF_ALPHA_8_BIT:\n                    $lv_cf = 14; break;\n            }\n\n            var $header_32bit = ($lv_cf | (this.w << 10) | (this.h << 21)) >>> 0;\n\n            var finalBinary = new Uint8Array(this.d_out.length + 4);\n            finalBinary[0] = ($header_32bit & 0xFF);\n            finalBinary[1] = ($header_32bit & 0xFF00) >> 8;\n            finalBinary[2] = ($header_32bit & 0xFF0000) >> 16;\n            finalBinary[3] = ($header_32bit & 0xFF000000) >> 24;\n\n            for(var i = 0; i < this.d_out.length; i++) {\n                finalBinary[i+4] = this.d_out[i];\n                \n            }\n            return finalBinary.buffer;\n        }\n    }\n\n    get_c_header(out_name: string): string {\n        var $c_header =\n        `#ifdef LV_LVGL_H_INCLUDE_SIMPLE\n#include \"lvgl.h\"\n#else\n#include \"lvgl/lvgl.h\"\n#endif\n\n#ifndef LV_ATTRIBUTE_MEM_ALIGN\n#define LV_ATTRIBUTE_MEM_ALIGN\n#endif\n`;\n        var $attr_name = \"LV_ATTRIBUTE_IMG_\" + out_name.toUpperCase(); \n        $c_header += \n`#ifndef ${$attr_name}\n#define ${$attr_name}\n#endif\nconst LV_ATTRIBUTE_MEM_ALIGN ${$attr_name} uint8_t ` + out_name+ \"_map[] = {\";\n\n        return $c_header;\n    }\n\n    get_c_footer($cf, out_name) {\n        var $c_footer =\n        `\\n};\\n\nconst lv_img_dsc_t ${out_name} = {\n  .header.always_zero = 0,\n  .header.w = ${this.w},\n  .header.h = ${this.h},\\n`;\n\n    if($cf == ImageMode.CF_TRUE_COLOR) $c_footer += \"  .data_size = \" + this.w * this.h + \" * LV_COLOR_SIZE / 8,\\n  .header.cf = LV_IMG_CF_TRUE_COLOR,\";\n    else if($cf == ImageMode.CF_TRUE_COLOR_ALPHA) $c_footer += \"  .data_size = \" + this.w * this.h + \" * LV_IMG_PX_SIZE_ALPHA_BYTE,\\n  .header.cf = LV_IMG_CF_TRUE_COLOR_ALPHA,\";\n    else if($cf == ImageMode.CF_TRUE_COLOR_CHROMA) $c_footer += \"  .data_size = \" + this.w * this.h + \" * LV_COLOR_SIZE / 8,\\n  .header.cf = LV_IMG_CF_TRUE_COLOR_CHROMA_KEYED,\";\n    else if($cf == ImageMode.CF_ALPHA_1_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_ALPHA_1BIT,\";\n    else if($cf == ImageMode.CF_ALPHA_2_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_ALPHA_2BIT,\";\n    else if($cf == ImageMode.CF_ALPHA_4_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_ALPHA_4BIT,\";\n    else if($cf == ImageMode.CF_ALPHA_8_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_ALPHA_8BIT,\";\n    else if($cf == ImageMode.CF_INDEXED_1_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_INDEXED_1BIT,\";\n    else if($cf == ImageMode.CF_INDEXED_2_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_INDEXED_2BIT,\";\n    else if($cf == ImageMode.CF_INDEXED_4_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_INDEXED_4BIT,\";\n    else if($cf == ImageMode.CF_INDEXED_8_BIT) $c_footer += \"  .data_size = \" + count(this.d_out) + \",\\n  .header.cf = LV_IMG_CF_INDEXED_8BIT,\";\n    else if($cf == ImageMode.CF_RAW) $c_footer += \"  .data_size = \" + this.raw_len + \",\\n  .header.cf = LV_IMG_CF_RAW,\";\n    else if($cf == ImageMode.CF_RAW_ALPHA) $c_footer += \"  .data_size = \" + this.raw_len + \",\\n  .header.cf = LV_IMG_CF_RAW_ALPHA,\";\n    else if($cf == ImageMode.CF_RAW_CHROMA) $c_footer += \"  .data_size = \" + this.raw_len + \",\\n  .header.cf = LV_IMG_CF_RAW_CHROMA_KEYED,\";\n\n    $c_footer += \"\\n  .data = \" + out_name + `_map,\n};\\n`;\n\n        return $c_footer;\n    }\n\n\n    private conv_px(x, y) {\n        function array_push<T>(arr: Array<T>, v: T) {\n            arr.push(v);\n        }\n        function isset(val: any): boolean {\n            return typeof val != 'undefined' && val != undefined;\n        }\n        const startIndex = ((y*this.w)+x)*4;\n        let a;\n        if(this.alpha){\n            a = this.imageData[startIndex+3];\n        } else {\n            a = 0xff;\n        }\n        const r = this.imageData[startIndex];\n        const g = this.imageData[startIndex+1];\n        const b = this.imageData[startIndex+2];\n\n        const c = this.imageData[((y*this.w)+x)];\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_565 || this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP || this.cf == ImageMode.ICF_TRUE_COLOR_332 || this.cf == ImageMode.ICF_TRUE_COLOR_888)\n            this.dith_next(r, g, b, x);\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_332) {\n            const c8 = (this.r_act) | (this.g_act >> 3) | (this.b_act >> 6);\t//RGB332\n            array_push(this.d_out, c8);\n            if(this.alpha) array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_565) {\n            const c16 = ((this.r_act) << 8) | ((this.g_act) << 3) | ((this.b_act) >> 3);\t//RGR565\n            array_push(this.d_out, c16 & 0xFF);\n            array_push(this.d_out, (c16 >> 8) & 0xFF);\n            if(this.alpha) array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP) {\n            const c16 = ((this.r_act) << 8) | ((this.g_act) << 3) | ((this.b_act) >> 3);\t//RGR565\n            array_push(this.d_out, (c16 >> 8) & 0xFF);\n            array_push(this.d_out, c16 & 0xFF);\n            if(this.alpha) array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_888) {\n            array_push(this.d_out, this.b_act);\n            array_push(this.d_out, this.g_act);\n            array_push(this.d_out, this.r_act);\n            array_push(this.d_out, a);\n        } else if(this.cf == ImageMode.CF_ALPHA_1_BIT) {\n            let w = this.w >> 3;\n            if(this.w & 0x07) w++;\n            const p = w * y + (x >> 3);\n            if(!isset(this.d_out[p])) {\n                this.d_out[p] = 0;          /*Clear the bits first*/\n            }\n            if(a > 0x80) {\n                this.d_out[p] |= 1 << (7 - (x & 0x7));\n            }\n        }\n        else if(this.cf == ImageMode.CF_ALPHA_2_BIT) {\n            let w = this.w >> 2;\n            if(this.w & 0x03) w++;\n\n            const p = w * y + (x >> 2);\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          /*Clear the bits first*/\n            this.d_out[p] |= (a >> 6) << (6 - ((x & 0x3) * 2));\n        }\n        else if(this.cf == ImageMode.CF_ALPHA_4_BIT) {\n            let w = this.w >> 1;\n            if(this.w & 0x01) w++;\n\n            const p = w * y + (x >> 1);\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          /*Clear the bits first*/\n            this.d_out[p] |= (a >> 4) << (4 - ((x & 0x1) * 4));\n        }\n        else if(this.cf == ImageMode.CF_ALPHA_8_BIT) {\n            const p = this.w * y + x;\n            this.d_out[p] = a;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_1_BIT) {\n            let w = this.w >> 3;\n            if(this.w & 0x07) w++;\n\n            const p = w * y + (x >> 3) + 8;                       // +8 for the palette\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          //Clear the bits first\n            this.d_out[p] |= (c & 0x1) << (7 - (x & 0x7));\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_2_BIT) {\n            let w = this.w >> 2;\n            if(this.w & 0x03) w++;\n\n            const p = w * y + (x >> 2) + 16;                              // +16 for the palette\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          // Clear the bits first\n            this.d_out[p] |= (c & 0x3) << (6 - ((x & 0x3) * 2));\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_4_BIT) {\n            let w = this.w >> 1;\n            if(this.w & 0x01) w++;\n\n            const p = w * y + (x >> 1) + 64;                              // +64 for the palette\n            if(!isset(this.d_out[p])) this.d_out[p] = 0;          // Clear the bits first\n            this.d_out[p] |= (c & 0xF) << (4 - ((x & 0x1) * 4));\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_8_BIT) {\n            const p = this.w * y + x + 1024;                              // +1024 for the palette\n            this.d_out[p] = c & 0xFF;\n        }\n\t}\n\n    dith_reset() {\n        if(this.dith){\n          this.r_nerr = 0;\n          this.g_nerr = 0;\n          this.b_nerr = 0;\n        }\n    }\n\n    dith_next(r, g, b, x) {\n\n     if(this.dith){\n        this.r_act = r + this.r_nerr + this.r_earr[x+1];\n        this.r_earr[x+1] = 0;\n\n        this.g_act = g + this.g_nerr + this.g_earr[x+1];\n        this.g_earr[x+1] = 0;\n\n        this.b_act = b + this.b_nerr + this.b_earr[x+1];\n        this.b_earr[x+1] = 0;\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_332) {\n            this.r_act = this.classify_pixel(this.r_act, 3);\n            this.g_act = this.classify_pixel(this.g_act, 3);\n            this.b_act = this.classify_pixel(this.b_act, 2);\n\n            if(this.r_act > 0xE0) this.r_act = 0xE0;\n            if(this.g_act > 0xE0) this.g_act = 0xE0;\n            if(this.b_act > 0xC0) this.b_act = 0xC0;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_565 || this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP) {\n            this.r_act = this.classify_pixel(this.r_act, 5);\n            this.g_act = this.classify_pixel(this.g_act, 6);\n            this.b_act = this.classify_pixel(this.b_act, 5);\n\n            if(this.r_act > 0xF8) this.r_act = 0xF8;\n            if(this.g_act > 0xFC) this.g_act = 0xFC;\n            if(this.b_act > 0xF8) this.b_act = 0xF8;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_888) {\n            this.r_act = this.classify_pixel(this.r_act, 8);\n            this.g_act = this.classify_pixel(this.g_act, 8);\n            this.b_act = this.classify_pixel(this.b_act, 8);\n\n            if(this.r_act > 0xFF) this.r_act = 0xFF;\n            if(this.g_act > 0xFF) this.g_act = 0xFF;\n            if(this.b_act > 0xFF) this.b_act = 0xFF;\n        }\n\n        this.r_nerr = r - this.r_act;\n        this.g_nerr = g - this.g_act;\n        this.b_nerr = b - this.b_act;\n\n        this.r_nerr = round((7 * this.r_nerr) / 16);\n        this.g_nerr = round((7 * this.g_nerr) / 16);\n        this.b_nerr = round((7 * this.b_nerr) / 16);\n\n        this.r_earr[x] += round((3 * this.r_nerr) / 16);\n        this.g_earr[x] += round((3 * this.g_nerr) / 16);\n        this.b_earr[x] += round((3 * this.b_nerr) / 16);\n\n        this.r_earr[x+1] += round((5 * this.r_nerr) / 16);\n        this.g_earr[x+1] += round((5 * this.g_nerr) / 16);\n        this.b_earr[x+1] += round((5 * this.b_nerr) / 16);\n\n        this.r_earr[x+2] += round(this.r_nerr / 16);\n        this.g_earr[x+2] += round(this.g_nerr / 16);\n        this.b_earr[x+2] += round(this.b_nerr / 16);\n      }\n      else{\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_332) {\n            this.r_act = this.classify_pixel(r, 3);\n            this.g_act = this.classify_pixel(g, 3);\n            this.b_act = this.classify_pixel(b, 2);\n\n            if(this.r_act > 0xE0) this.r_act = 0xE0;\n            if(this.g_act > 0xE0) this.g_act = 0xE0;\n            if(this.b_act > 0xC0) this.b_act = 0xC0;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_565 || this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP) {\n            this.r_act = this.classify_pixel(r, 5);\n            this.g_act = this.classify_pixel(g, 6);\n            this.b_act = this.classify_pixel(b, 5);\n\n            if(this.r_act > 0xF8) this.r_act = 0xF8;\n            if(this.g_act > 0xFC) this.g_act = 0xFC;\n            if(this.b_act > 0xF8) this.b_act = 0xF8;\n\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_888) {\n            this.r_act = this.classify_pixel(r, 8);\n            this.g_act = this.classify_pixel(g, 8);\n            this.b_act = this.classify_pixel(b, 8);\n\n            if(this.r_act > 0xFF) this.r_act = 0xFF;\n            if(this.g_act > 0xFF) this.g_act = 0xFF;\n            if(this.b_act > 0xFF) this.b_act = 0xFF;\n        }\n      }\n    }\n\n    classify_pixel(value, bits){\n      const tmp = 1 << (8 - bits);\n      let val = round(value / tmp, 0, 'PHP_ROUND_HALF_DOWN') * tmp;\n      if(val < 0) val = 0;\n      return val;\n    }\n    format_to_c_array() {\n        \n        let c_array = \"\";\n        var i = 0;\n        let y_end = this.h;\n        let x_end = this.w;\n\n        if(this.cf == ImageMode.ICF_TRUE_COLOR_332) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 1 || LV_COLOR_DEPTH == 8\";\n            if(!this.alpha) c_array += \"\\n  /*Pixel format: Red: 3 bit, Green: 3 bit, Blue: 2 bit*/\";\n            else  c_array += \"\\n  /*Pixel format: Alpha 8 bit, Red: 3 bit, Green: 3 bit, Blue: 2 bit*/\";\n        } else if(this.cf == ImageMode.ICF_TRUE_COLOR_565) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 16 && LV_COLOR_16_SWAP == 0\";\n            if(!this.alpha) c_array += \"\\n  /*Pixel format: Red: 5 bit, Green: 6 bit, Blue: 5 bit*/\";\n            else c_array += \"\\n  /*Pixel format: Alpha 8 bit, Red: 5 bit, Green: 6 bit, Blue: 5 bit*/\";\n        }  else if(this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 16 && LV_COLOR_16_SWAP != 0\";\n            if(!this.alpha) c_array +=  \"\\n  /*Pixel format: Red: 5 bit, Green: 6 bit, Blue: 5 bit BUT the 2 bytes are swapped*/\";\n            else c_array += \"\\n  /*Pixel format: Alpha 8 bit, Red: 5 bit, Green: 6 bit, Blue: 5 bit  BUT the 2  color bytes are swapped*/\";\n        }  else if(this.cf == ImageMode.ICF_TRUE_COLOR_888) {\n            c_array += \"\\n#if LV_COLOR_DEPTH == 32\";\n            if(!this.alpha) c_array += \"\\n  /*Pixel format: Fix 0xFF: 8 bit, Red: 8 bit, Green: 8 bit, Blue: 8 bit*/\";\n            else \"\\n  /*Pixel format: Alpha 8 bit, Red: 8 bit, Green: 8 bit, Blue: 8 bit*/\";\n        } else if(this.cf == ImageMode.CF_INDEXED_1_BIT) {\n            c_array += \"\\n\";\n            for(var p = 0; p < 2; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_2_BIT) {\n            c_array += \"\\n\";\n            for(p = 0; p < 4; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_4_BIT) {\n            c_array += \"\\n\";\n            for(p = 0; p < 16; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_INDEXED_8_BIT) {\n            c_array += \"\\n\";\n            for(p = 0; p < 256; p ++) {\n                c_array += \"  0x\" + str_pad(dechex(this.d_out[p * 4 + 0]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 2]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += \"0x\" + str_pad(dechex(this.d_out[p * 4 + 3]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                c_array += `\\t/*Color of index ${p}*/\\n`;\n            }\n    \n            i = p * 4;\n        }\n        else if(this.cf == ImageMode.CF_RAW_ALPHA || this.cf == ImageMode.CF_RAW_CHROMA) {\n            y_end = 1;\n            x_end = count(this.d_out);\n            i = 1;\n        }\n    \n        this.d_out.push(0);\n        for(var y = 0; y < y_end; y++) {\n            c_array += \"\\n  \";\n            for(var x = 0; x < x_end; x++) {\n                if(i >= this.d_out.length) {\n                    console.error(\"index out of range (\" + i + \")\");\n                }\n                if(this.cf == ImageMode.ICF_TRUE_COLOR_332) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";  i++;\n                    if(this.alpha) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.ICF_TRUE_COLOR_565 || this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP) {\n                    if(this.swapEndian) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    } else {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    }\n                    i += 2;\n                    if(this.alpha) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.ICF_TRUE_COLOR_888) {\n                    if(this.swapEndian) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+2]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    } else {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+1]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i+2]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    }\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i+3]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    \n                    i += 4;\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_1_BIT || this.cf == ImageMode.CF_INDEXED_1_BIT) {\n                    if((x & 0x7) == 0) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_2_BIT || this.cf == ImageMode.CF_INDEXED_2_BIT) {\n                    if((x & 0x3) == 0) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_4_BIT || this.cf == ImageMode.CF_INDEXED_4_BIT) {\n                    if((x & 0x1) == 0) {\n                        c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                        i++;\n                    }\n                }\n                else if(this.cf == ImageMode.CF_ALPHA_8_BIT || this.cf == ImageMode.CF_INDEXED_8_BIT) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    i++;\n                }\n                else if(this.cf == ImageMode.CF_RAW_ALPHA || this.cf == ImageMode.CF_RAW_CHROMA) {\n                    c_array += \"0x\" + str_pad(dechex(this.d_out[i]), 2, '0', 'STR_PAD_LEFT') + \", \";\n                    if(i != 0 && ((i % 16) == 0)) c_array += \"\\n  \";\n                    i++;\n                }\n            }\n        }\n    \n        if(this.cf == ImageMode.ICF_TRUE_COLOR_332 || this.cf == ImageMode.ICF_TRUE_COLOR_565 || this.cf == ImageMode.ICF_TRUE_COLOR_565_SWAP || this.cf == ImageMode.ICF_TRUE_COLOR_888) {\n            c_array += \"\\n#endif\";\n        }\n        return c_array;\n    \n    }\n}\n\n\nasync function convertImageBlob(img: Image|Uint8Array, options: Partial<ConverterOptions>): Promise<string|ArrayBuffer> {\n    function isImage(img, options): img is Image {\n        return options.cf != ImageMode.CF_RAW && options.cf != ImageMode.CF_RAW_ALPHA && options.cf != ImageMode.CF_RAW_CHROMA;\n    }\n    let c_res_array: string;\n    let bin_res_blob: ArrayBuffer;\n    const out_name = options.outName;\n    const outputFormat: OutputMode = options.outputFormat;\n    let c_creator: Converter;\n    if(isImage(img, options)) {\n        const canvas = createCanvas(img.width, img.height);\n        const ctx = canvas.getContext('2d')\n        ctx.drawImage(img, 0, 0);\n        const imageData = ctx.getImageData(0, 0, img.width, img.height).data;\n    \n        const alpha = (options.cf == ImageMode.CF_TRUE_COLOR_ALPHA || options.cf == ImageMode.CF_ALPHA_1_BIT || options.cf == ImageMode.CF_ALPHA_2_BIT || options.cf == ImageMode.CF_ALPHA_4_BIT || options.cf == ImageMode.CF_ALPHA_8_BIT);\n        c_creator = new Converter(img.width, img.height, imageData, alpha, options);\n        \n        if(options.outputFormat == OutputMode.C) {\n            if(options.cf == ImageMode.CF_TRUE_COLOR || options.cf == ImageMode.CF_TRUE_COLOR_ALPHA || options.cf == ImageMode.CF_TRUE_COLOR_CHROMA) {\n                const arrayList = await Promise.all([\n                    ImageMode.ICF_TRUE_COLOR_332,\n                    ImageMode.ICF_TRUE_COLOR_565,\n                    ImageMode.ICF_TRUE_COLOR_565_SWAP,\n                    ImageMode.ICF_TRUE_COLOR_888\n                ].map(cf => new Converter(img.width, img.height, imageData, alpha, Object.assign({}, options, { cf })).convert())) as string[];\n                c_res_array = arrayList.join(\"\");\n            } else\n                c_res_array = await c_creator.convert() as string;\n        } else {\n            const binaryConv = new Converter(img.width, img.height, imageData, alpha, options);\n            bin_res_blob = await binaryConv.convert() as ArrayBuffer;\n        }\n        \n        console.log(`${img.width}x${img.height}`);\n    } else {\n        c_creator = new Converter(0, 0, img, options.cf == ImageMode.CF_RAW_ALPHA, options);\n        if(options.outputFormat == OutputMode.C)\n            c_res_array = await c_creator.convert() as string;\n        else\n            bin_res_blob = await c_creator.convert() as ArrayBuffer;\n    }\n    \n    \n    if(outputFormat == OutputMode.BIN)\n        return bin_res_blob;\n    else\n        return c_creator.get_c_header(out_name) + c_res_array + c_creator.get_c_footer(options.cf, out_name);\n}\n\nasync function convert(imagePath, options) {\n    let img: Image|Uint8Array;\n    if(options.cf != ImageMode.CF_RAW && options.cf != ImageMode.CF_RAW_ALPHA && options.cf != ImageMode.CF_RAW_CHROMA)\n        img = await loadImage(imagePath);\n    else {\n        eval(\"var fs = require('fs');\");\n        /** @ts-ignore */\n        img = fs.readFileSync(imagePath);\n    }\n    return convertImageBlob(img, Object.assign({}, options, { outName: options.outName || path.parse(imagePath).name }));\n    \n}\n\nexport default convert;\nexport { convertImageBlob };","/* globals document, ImageData */\n\nconst parseFont = require('./lib/parse-font')\n\nexports.parseFont = parseFont\n\nexports.createCanvas = function (width, height) {\n  return Object.assign(document.createElement('canvas'), { width: width, height: height })\n}\n\nexports.createImageData = function (array, width, height) {\n  // Browser implementation of ImageData looks at the number of arguments passed\n  switch (arguments.length) {\n    case 0: return new ImageData()\n    case 1: return new ImageData(array)\n    case 2: return new ImageData(array, width)\n    default: return new ImageData(array, width, height)\n  }\n}\n\nexports.loadImage = function (src, options) {\n  return new Promise(function (resolve, reject) {\n    const image = Object.assign(document.createElement('img'), options)\n\n    function cleanup () {\n      image.onload = null\n      image.onerror = null\n    }\n\n    image.onload = function () { cleanup(); resolve(image) }\n    image.onerror = function () { cleanup(); reject(new Error('Failed to load the image \"' + src + '\"')) }\n\n    image.src = src\n  })\n}\n","'use strict'\n\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00'\nconst styles = 'italic|oblique'\nconst variants = 'small-caps'\nconst stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded'\nconst units = 'px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q'\nconst string = '\\'([^\\']+)\\'|\"([^\"]+)\"|[\\\\w\\\\s-]+'\n\n// [ [ <font-style> || <font-variant-css21> || <font-weight> || <font-stretch> ]?\n//    <font-size> [ / <line-height> ]? <font-family> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\nconst weightRe = new RegExp(`(${weights}) +`, 'i')\nconst styleRe = new RegExp(`(${styles}) +`, 'i')\nconst variantRe = new RegExp(`(${variants}) +`, 'i')\nconst stretchRe = new RegExp(`(${stretches}) +`, 'i')\nconst sizeFamilyRe = new RegExp(\n  `([\\\\d\\\\.]+)(${units}) *((?:${string})( *, *(?:${string}))*)`)\n\n/**\n * Cache font parsing.\n */\n\nconst cache = {}\n\nconst defaultHeight = 16 // pt, common browser default\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nmodule.exports = str => {\n  // Cached\n  if (cache[str]) return cache[str]\n\n  // Try for required properties first.\n  const sizeFamily = sizeFamilyRe.exec(str)\n  if (!sizeFamily) return // invalid\n\n  // Default values and required properties\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/[\"']/g, '').replace(/ *, */g, ',')\n  }\n\n  // Optional, unordered properties.\n  let weight, style, variant, stretch\n  // Stop search at `sizeFamily.index`\n  const substr = str.substring(0, sizeFamily.index)\n  if ((weight = weightRe.exec(substr))) font.weight = weight[1]\n  if ((style = styleRe.exec(substr))) font.style = style[1]\n  if ((variant = variantRe.exec(substr))) font.variant = variant[1]\n  if ((stretch = stretchRe.exec(substr))) font.stretch = stretch[1]\n\n  // Convert to device units. (`font.unit` is the original unit)\n  // TODO: ch, ex\n  switch (font.unit) {\n    case 'pt':\n      font.size /= 0.75\n      break\n    case 'pc':\n      font.size *= 16\n      break\n    case 'in':\n      font.size *= 96\n      break\n    case 'cm':\n      font.size *= 96.0 / 2.54\n      break\n    case 'mm':\n      font.size *= 96.0 / 25.4\n      break\n    case '%':\n      // TODO disabled because existing unit tests assume 100\n      // font.size *= defaultHeight / 100 / 0.75\n      break\n    case 'em':\n    case 'rem':\n      font.size *= defaultHeight / 0.75\n      break\n    case 'q':\n      font.size *= 96 / 25.4 / 4\n      break\n  }\n\n  return (cache[str] = font)\n}\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","enum ImageMode {\n    ICF_TRUE_COLOR_332 = 0,      /*Helper formats. Used internally*/\n    ICF_TRUE_COLOR_565 = 1,\n    ICF_TRUE_COLOR_565_SWAP = 2,\n    ICF_TRUE_COLOR_888 = 3,\n    CF_ALPHA_1_BIT = 4,\n    CF_ALPHA_2_BIT = 5,\n    CF_ALPHA_4_BIT = 6,\n    CF_ALPHA_8_BIT = 7,\n    CF_INDEXED_1_BIT = 8,\n    CF_INDEXED_2_BIT = 9,\n    CF_INDEXED_4_BIT = 10,\n    CF_INDEXED_8_BIT = 11,\n    CF_RAW = 12,\n    CF_RAW_ALPHA = 13,\n    CF_RAW_CHROMA = 12,\n\n    CF_TRUE_COLOR = 100,          /*Helper formats is C arrays contains all treu color formats (usin in \"download\")*/\n    CF_TRUE_COLOR_ALPHA = 101,\n    CF_TRUE_COLOR_CHROMA = 102,\n};\n\nclass ImageModeUtil {\n    public static isTrueColor(mode: string|ImageMode) {\n        if(typeof mode != 'string')\n            mode = ImageMode[mode];\n        return mode.startsWith(\"CF_TRUE_COLOR\");\n    }\n}\n\nenum OutputMode {\n    C,\n    BIN\n}\n\n\nconst BINARY_FORMAT_PREFIX = \"ICF_TRUE_COLOR_\";\n\nexport { ImageMode, ImageModeUtil, OutputMode, BINARY_FORMAT_PREFIX };","function roundToInt (value, mode) {\n  let tmp = Math.floor(Math.abs(value) + 0.5)\n\n  if (\n    (mode === 'PHP_ROUND_HALF_DOWN' && value === (tmp - 0.5)) ||\n      (mode === 'PHP_ROUND_HALF_EVEN' && value === (0.5 + 2 * Math.floor(tmp / 2))) ||\n      (mode === 'PHP_ROUND_HALF_ODD' && value === (0.5 + 2 * Math.floor(tmp / 2) - 1))) {\n    tmp -= 1\n  }\n\n  return value < 0 ? -tmp : tmp\n}\n\nmodule.exports = function round (value, precision = 0, mode = 'PHP_ROUND_HALF_UP') {\n  //  discuss at: https://locutus.io/php/round/\n  // original by: Philip Peterson\n  //  revised by: Onno Marsman (https://twitter.com/onnomarsman)\n  //  revised by: T.Wild\n  //  revised by: Rafa Kukawski (https://blog.kukawski.pl)\n  //    input by: Greenseed\n  //    input by: meo\n  //    input by: William\n  //    input by: Josep Sanz (https://www.ws3.es/)\n  // bugfixed by: Brett Zamir (https://brett-zamir.me)\n  //  revised by: Rafa Kukawski\n  //   example 1: round(1241757, -3)\n  //   returns 1: 1242000\n  //   example 2: round(3.6)\n  //   returns 2: 4\n  //   example 3: round(2.835, 2)\n  //   returns 3: 2.84\n  //   example 4: round(1.1749999999999, 2)\n  //   returns 4: 1.17\n  //   example 5: round(58551.799999999996, 2)\n  //   returns 5: 58551.8\n  //   example 6: round(4096.485, 2)\n  //   returns 6: 4096.49\n\n  const floatCast = require('../_helpers/_php_cast_float')\n  const intCast = require('../_helpers/_php_cast_int')\n  let p\n\n  // the code is heavily based on the native PHP implementation\n  // https://github.com/php/php-src/blob/PHP-7.4/ext/standard/math.c#L355\n\n  value = floatCast(value)\n  precision = intCast(precision)\n  p = Math.pow(10, precision)\n\n  if (isNaN(value) || !isFinite(value)) {\n    return value\n  }\n\n  // if value already integer and positive precision\n  // then nothing to do, return early\n  if (Math.trunc(value) === value && precision >= 0) {\n    return value\n  }\n\n  // PHP does a pre-rounding before rounding to desired precision\n  // https://wiki.php.net/rfc/rounding#pre-rounding_to_the_value_s_precision_if_possible\n  const preRoundPrecision = 14 - Math.floor(Math.log10(Math.abs(value)))\n\n  if (preRoundPrecision > precision && preRoundPrecision - 15 < precision) {\n    value = roundToInt(value * Math.pow(10, preRoundPrecision), mode)\n    value /= Math.pow(10, Math.abs(precision - preRoundPrecision))\n  } else {\n    value *= p\n  }\n\n  value = roundToInt(value, mode)\n\n  return value / p\n}\n","module.exports = function _php_cast_float (value) { // eslint-disable-line camelcase\n  // original by: Rafa Kukawski\n  //   example 1: _php_cast_float(false)\n  //   returns 1: 0\n  //   example 2: _php_cast_float(true)\n  //   returns 2: 1\n  //   example 3: _php_cast_float(0)\n  //   returns 3: 0\n  //   example 4: _php_cast_float(1)\n  //   returns 4: 1\n  //   example 5: _php_cast_float(3.14)\n  //   returns 5: 3.14\n  //   example 6: _php_cast_float('')\n  //   returns 6: 0\n  //   example 7: _php_cast_float('0')\n  //   returns 7: 0\n  //   example 8: _php_cast_float('abc')\n  //   returns 8: 0\n  //   example 9: _php_cast_float(null)\n  //   returns 9: 0\n  //  example 10: _php_cast_float(undefined)\n  //  returns 10: 0\n  //  example 11: _php_cast_float('123abc')\n  //  returns 11: 123\n  //  example 12: _php_cast_float('123e4')\n  //  returns 12: 1230000\n  //  example 13: _php_cast_float(0x200000001)\n  //  returns 13: 8589934593\n  //  example 14: _php_cast_float('3.14abc')\n  //  returns 14: 3.14\n\n  const type = typeof value\n\n  switch (type) {\n    case 'number':\n      return value\n    case 'string':\n      return parseFloat(value) || 0\n    case 'boolean':\n      // fall through\n    default:\n      // PHP docs state, that for types other than string\n      // conversion is {input type}->int->float\n      return require('./_php_cast_int')(value)\n  }\n}\n","module.exports = function _php_cast_int (value) { // eslint-disable-line camelcase\n  // original by: Rafa Kukawski\n  //   example 1: _php_cast_int(false)\n  //   returns 1: 0\n  //   example 2: _php_cast_int(true)\n  //   returns 2: 1\n  //   example 3: _php_cast_int(0)\n  //   returns 3: 0\n  //   example 4: _php_cast_int(1)\n  //   returns 4: 1\n  //   example 5: _php_cast_int(3.14)\n  //   returns 5: 3\n  //   example 6: _php_cast_int('')\n  //   returns 6: 0\n  //   example 7: _php_cast_int('0')\n  //   returns 7: 0\n  //   example 8: _php_cast_int('abc')\n  //   returns 8: 0\n  //   example 9: _php_cast_int(null)\n  //   returns 9: 0\n  //  example 10: _php_cast_int(undefined)\n  //  returns 10: 0\n  //  example 11: _php_cast_int('123abc')\n  //  returns 11: 123\n  //  example 12: _php_cast_int('123e4')\n  //  returns 12: 123\n  //  example 13: _php_cast_int(0x200000001)\n  //  returns 13: 8589934593\n\n  const type = typeof value\n\n  switch (type) {\n    case 'number':\n      if (isNaN(value) || !isFinite(value)) {\n        // from PHP 7, NaN and Infinity are casted to 0\n        return 0\n      }\n\n      return value < 0 ? Math.ceil(value) : Math.floor(value)\n    case 'string':\n      return parseInt(value, 10) || 0\n    case 'boolean':\n      // fall through\n    default:\n      // Behaviour for types other than float, string, boolean\n      // is undefined and can change any time.\n      // To not invent complex logic\n      // that mimics PHP 7.0 behaviour\n      // casting value->bool->number is used\n      return +!!value\n  }\n}\n","module.exports = function dechex (number) {\n  //  discuss at: https://locutus.io/php/dechex/\n  // original by: Philippe Baumann\n  // bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\n  // improved by: https://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript\n  //    input by: pilus\n  //   example 1: dechex(10)\n  //   returns 1: 'a'\n  //   example 2: dechex(47)\n  //   returns 2: '2f'\n  //   example 3: dechex(-1415723993)\n  //   returns 3: 'ab9dc427'\n\n  if (number < 0) {\n    number = 0xFFFFFFFF + number + 1\n  }\n  return parseInt(number, 10)\n    .toString(16)\n}\n","module.exports = function str_pad (input, padLength, padString, padType) { // eslint-disable-line camelcase\n  //  discuss at: https://locutus.io/php/str_pad/\n  // original by: Kevin van Zonneveld (https://kvz.io)\n  // improved by: Michael White (https://getsprink.com)\n  //    input by: Marco van Oort\n  // bugfixed by: Brett Zamir (https://brett-zamir.me)\n  //   example 1: str_pad('Kevin van Zonneveld', 30, '-=', 'STR_PAD_LEFT')\n  //   returns 1: '-=-=-=-=-=-Kevin van Zonneveld'\n  //   example 2: str_pad('Kevin van Zonneveld', 30, '-', 'STR_PAD_BOTH')\n  //   returns 2: '------Kevin van Zonneveld-----'\n\n  let half = ''\n  let padToGo\n\n  const _strPadRepeater = function (s, len) {\n    let collect = ''\n\n    while (collect.length < len) {\n      collect += s\n    }\n    collect = collect.substr(0, len)\n\n    return collect\n  }\n\n  input += ''\n  padString = padString !== undefined ? padString : ' '\n\n  if (padType !== 'STR_PAD_LEFT' && padType !== 'STR_PAD_RIGHT' && padType !== 'STR_PAD_BOTH') {\n    padType = 'STR_PAD_RIGHT'\n  }\n  if ((padToGo = padLength - input.length) > 0) {\n    if (padType === 'STR_PAD_LEFT') {\n      input = _strPadRepeater(padString, padToGo) + input\n    } else if (padType === 'STR_PAD_RIGHT') {\n      input = input + _strPadRepeater(padString, padToGo)\n    } else if (padType === 'STR_PAD_BOTH') {\n      half = _strPadRepeater(padString, Math.ceil(padToGo / 2))\n      input = half + input + half\n      input = input.substr(0, padLength)\n    }\n  }\n\n  return input\n}\n","module.exports = function count (mixedVar, mode) {\n  //  discuss at: https://locutus.io/php/count/\n  // original by: Kevin van Zonneveld (https://kvz.io)\n  //    input by: Waldo Malqui Silva (https://waldo.malqui.info)\n  //    input by: merabi\n  // bugfixed by: Soren Hansen\n  // bugfixed by: Olivier Louvignes (https://mg-crea.com/)\n  // improved by: Brett Zamir (https://brett-zamir.me)\n  //   example 1: count([[0,0],[0,-4]], 'COUNT_RECURSIVE')\n  //   returns 1: 6\n  //   example 2: count({'one' : [1,2,3,4,5]}, 'COUNT_RECURSIVE')\n  //   returns 2: 6\n\n  let key\n  let cnt = 0\n\n  if (mixedVar === null || typeof mixedVar === 'undefined') {\n    return 0\n  } else if (mixedVar.constructor !== Array && mixedVar.constructor !== Object) {\n    return 1\n  }\n\n  if (mode === 'COUNT_RECURSIVE') {\n    mode = 1\n  }\n  if (mode !== 1) {\n    mode = 0\n  }\n\n  for (key in mixedVar) {\n    if (mixedVar.hasOwnProperty(key)) {\n      cnt++\n      if (mode === 1 && mixedVar[key] &&\n        (mixedVar[key].constructor === Array ||\n          mixedVar[key].constructor === Object)) {\n        cnt += count(mixedVar[key], 1)\n      }\n    }\n  }\n\n  return cnt\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * constants.ts - part of Image Quantization Library\n */\n\n/**\n * sRGB (based on ITU-R Recommendation BT.709)\n * http://en.wikipedia.org/wiki/SRGB\n */\nexport enum Y {\n  RED = 0.2126,\n  GREEN = 0.7152,\n  BLUE = 0.0722,\n  WHITE = 1,\n}\n\n// tslint:disable-next-line:naming-convention\nexport enum x {\n  RED = 0.64,\n  GREEN = 0.3,\n  BLUE = 0.15,\n  WHITE = 0.3127,\n}\n\n// tslint:disable-next-line:naming-convention\nexport enum y {\n  RED = 0.33,\n  GREEN = 0.6,\n  BLUE = 0.06,\n  WHITE = 0.329,\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgb2xyz.ts - part of Image Quantization Library\n */\nfunction correctGamma(n: number) {\n  return n > 0.04045 ? ((n + 0.055) / 1.055) ** 2.4 : n / 12.92;\n}\n\nexport function rgb2xyz(r: number, g: number, b: number) {\n  // gamma correction, see https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation\n  r = correctGamma(r / 255);\n  g = correctGamma(g / 255);\n  b = correctGamma(b / 255);\n\n  // Observer. = 2, Illuminant = D65\n  return {\n    x: r * 0.4124 + g * 0.3576 + b * 0.1805,\n    y: r * 0.2126 + g * 0.7152 + b * 0.0722,\n    z: r * 0.0193 + g * 0.1192 + b * 0.9505,\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgb2hsl.ts - part of Image Quantization Library\n */\nimport { min3, max3 } from '../utils/arithmetic';\n\n/**\n * Calculate HSL from RGB\n * Hue is in degrees [0..360]\n * Lightness: [0..1]\n * Saturation: [0..1]\n * http://web.archive.org/web/20060914040436/http://local.wasp.uwa.edu.au/~pbourke/colour/hsl/\n */\nexport function rgb2hsl(r: number, g: number, b: number) {\n  const min = min3(r, g, b);\n  const max = max3(r, g, b);\n  const delta = max - min;\n  const l = (min + max) / 510;\n\n  let s = 0;\n  if (l > 0 && l < 1) s = delta / (l < 0.5 ? max + min : 510 - max - min);\n\n  let h = 0;\n  if (delta > 0) {\n    if (max === r) {\n      h = (g - b) / delta;\n    } else if (max === g) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n\n    h *= 60;\n    if (h < 0) h += 360;\n  }\n  return { h, s, l };\n}\n","export function degrees2radians(n: number) {\n  return n * (Math.PI / 180);\n}\n\nexport function max3(a: number, b: number, c: number) {\n  let m = a;\n  if (m < b) m = b;\n  if (m < c) m = c;\n  return m;\n}\n\nexport function min3(a: number, b: number, c: number) {\n  let m = a;\n  if (m > b) m = b;\n  if (m > c) m = c;\n  return m;\n}\n\nexport function intInRange(value: number, low: number, high: number) {\n  if (value > high) value = high;\n  if (value < low) value = low;\n  return value | 0;\n}\n\nexport function inRange0to255Rounded(n: number) {\n  n = Math.round(n);\n  if (n > 255) n = 255;\n  else if (n < 0) n = 0;\n  return n;\n}\n\nexport function inRange0to255(n: number) {\n  if (n > 255) n = 255;\n  else if (n < 0) n = 0;\n  return n;\n}\n\nexport function stableSort<T>(\n  arrayToSort: T[],\n  callback: (a: T, b: T) => number,\n) {\n  const type = typeof arrayToSort[0];\n  let sorted: T[];\n\n  if (type === 'number' || type === 'string') {\n    const ord = Object.create(null); // tslint:disable-line:no-null-keyword\n    for (let i = 0, l = arrayToSort.length; i < l; i++) {\n      const val = (arrayToSort[i] as unknown) as string;\n      if (ord[val] || ord[val] === 0) continue;\n      ord[val] = i;\n    }\n\n    sorted = arrayToSort.sort((a, b) => callback(a, b) || ord[a] - ord[b]);\n  } else {\n    const ord2 = arrayToSort.slice(0);\n    sorted = arrayToSort.sort(\n      (a, b) => callback(a, b) || ord2.indexOf(a) - ord2.indexOf(b),\n    );\n  }\n\n  return sorted;\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgb2lab.ts - part of Image Quantization Library\n */\nimport { rgb2xyz } from './rgb2xyz';\nimport { xyz2lab } from './xyz2lab';\n\nexport function rgb2lab(r: number, g: number, b: number) {\n  const xyz = rgb2xyz(r, g, b);\n  return xyz2lab(xyz.x, xyz.y, xyz.z);\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * xyz2lab.ts - part of Image Quantization Library\n */\nconst refX = 0.95047; // ref_X =  95.047   Observer= 2, Illuminant= D65\nconst refY = 1.0; // ref_Y = 100.000\nconst refZ = 1.08883; // ref_Z = 108.883\n\nfunction pivot(n: number) {\n  return n > 0.008856 ? n ** (1 / 3) : 7.787 * n + 16 / 116;\n}\n\nexport function xyz2lab(x: number, y: number, z: number) {\n  x = pivot(x / refX);\n  y = pivot(y / refY);\n  z = pivot(z / refZ);\n\n  if (116 * y - 16 < 0) throw new Error('xxx');\n  return {\n    L: Math.max(0, 116 * y - 16),\n    a: 500 * (x - y),\n    b: 200 * (y - z),\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * lab2xyz.ts - part of Image Quantization Library\n */\nconst refX = 0.95047; // ref_X =  95.047   Observer= 2, Illuminant = D65\nconst refY = 1.0; // ref_Y = 100.000\nconst refZ = 1.08883; // ref_Z = 108.883\n\nfunction pivot(n: number) {\n  return n > 0.206893034 ? n ** 3 : (n - 16 / 116) / 7.787;\n}\n\n// tslint:disable-next-line:naming-convention\nexport function lab2xyz(L: number, a: number, b: number) {\n  const y = (L + 16) / 116;\n  const x = a / 500 + y;\n  const z = y - b / 200;\n\n  return {\n    x: refX * pivot(x),\n    y: refY * pivot(y),\n    z: refZ * pivot(z),\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * xyz2rgb.ts - part of Image Quantization Library\n */\nimport { inRange0to255Rounded } from '../utils/arithmetic';\n\n// gamma correction, see https://en.wikipedia.org/wiki/SRGB#The_reverse_transformation\nfunction correctGamma(n: number) {\n  return n > 0.0031308 ? 1.055 * n ** (1 / 2.4) - 0.055 : 12.92 * n;\n}\n\nexport function xyz2rgb(x: number, y: number, z: number) {\n  // Observer. = 2, Illuminant = D65\n  const r = correctGamma(x * 3.2406 + y * -1.5372 + z * -0.4986);\n  const g = correctGamma(x * -0.9689 + y * 1.8758 + z * 0.0415);\n  const b = correctGamma(x * 0.0557 + y * -0.204 + z * 1.057);\n\n  return {\n    r: inRange0to255Rounded(r * 255),\n    g: inRange0to255Rounded(g * 255),\n    b: inRange0to255Rounded(b * 255),\n  };\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * common.ts - part of Image Quantization Library\n */\nimport { PointRGBA } from '../utils/point';\n\nexport abstract class AbstractDistanceCalculator {\n  protected _maxDistance!: number;\n  protected _whitePoint!: {\n    r: number;\n    g: number;\n    b: number;\n    a: number;\n  };\n\n  constructor() {\n    this._setDefaults();\n\n    // set default maximal color component deltas (255 - 0 = 255)\n    this.setWhitePoint(255, 255, 255, 255);\n  }\n\n  setWhitePoint(r: number, g: number, b: number, a: number) {\n    this._whitePoint = {\n      r: r > 0 ? 255 / r : 0,\n      g: g > 0 ? 255 / g : 0,\n      b: b > 0 ? 255 / b : 0,\n      a: a > 0 ? 255 / a : 0,\n    };\n    this._maxDistance = this.calculateRaw(r, g, b, a, 0, 0, 0, 0);\n  }\n\n  calculateNormalized(colorA: PointRGBA, colorB: PointRGBA) {\n    return (\n      this.calculateRaw(\n        colorA.r,\n        colorA.g,\n        colorA.b,\n        colorA.a,\n        colorB.r,\n        colorB.g,\n        colorB.b,\n        colorB.a,\n      ) / this._maxDistance\n    );\n  }\n\n  /**\n   * Calculate raw distance (non-normalized)\n   */\n  abstract calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ): number;\n\n  protected abstract _setDefaults(): void;\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * cie94.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { rgb2lab } from '../conversion/rgb2lab';\nimport { inRange0to255 } from '../utils/arithmetic';\n\n/**\n * CIE94 method of delta-e\n * http://en.wikipedia.org/wiki/Color_difference#CIE94\n */\nexport abstract class AbstractCIE94 extends AbstractDistanceCalculator {\n  /**\n   * Weight in distance: 0.25\n   * Max DeltaE: 100\n   * Max DeltaA: 255\n   */\n  protected _kA!: number;\n  protected _Kl!: number; // tslint:disable-line:naming-convention\n  protected _K1!: number; // tslint:disable-line:naming-convention\n  protected _K2!: number; // tslint:disable-line:naming-convention\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const lab1 = rgb2lab(\n      inRange0to255(r1 * this._whitePoint.r),\n      inRange0to255(g1 * this._whitePoint.g),\n      inRange0to255(b1 * this._whitePoint.b),\n    );\n    const lab2 = rgb2lab(\n      inRange0to255(r2 * this._whitePoint.r),\n      inRange0to255(g2 * this._whitePoint.g),\n      inRange0to255(b2 * this._whitePoint.b),\n    );\n\n    const dL = lab1.L - lab2.L;\n    const dA = lab1.a - lab2.a;\n    const dB = lab1.b - lab2.b;\n    const c1 = Math.sqrt(lab1.a * lab1.a + lab1.b * lab1.b);\n    const c2 = Math.sqrt(lab2.a * lab2.a + lab2.b * lab2.b);\n    const dC = c1 - c2;\n\n    let deltaH = dA * dA + dB * dB - dC * dC;\n    deltaH = deltaH < 0 ? 0 : Math.sqrt(deltaH);\n\n    const dAlpha = (a2 - a1) * this._whitePoint.a * this._kA;\n\n    // TODO: add alpha channel support\n    return Math.sqrt(\n      (dL / this._Kl) ** 2 +\n        (dC / (1.0 + this._K1 * c1)) ** 2 +\n        (deltaH / (1.0 + this._K2 * c1)) ** 2 +\n        dAlpha ** 2,\n    );\n  }\n}\n\nexport class CIE94Textiles extends AbstractCIE94 {\n  protected _setDefaults() {\n    this._Kl = 2.0;\n    this._K1 = 0.048;\n    this._K2 = 0.014;\n    this._kA = (0.25 * 50) / 255;\n  }\n}\n\nexport class CIE94GraphicArts extends AbstractCIE94 {\n  protected _setDefaults() {\n    this._Kl = 1.0;\n    this._K1 = 0.045;\n    this._K2 = 0.015;\n    this._kA = (0.25 * 100) / 255;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * ciede2000.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { rgb2lab } from '../conversion/rgb2lab';\nimport { degrees2radians, inRange0to255 } from '../utils/arithmetic';\n\n// tslint:disable:variable-name\n// tslint:disable:naming-convention\n\n/**\n * CIEDE2000 algorithm - Adapted from Sharma et al's MATLAB implementation at\n * http://www.ece.rochester.edu/~gsharma/ciede2000/\n */\nexport class CIEDE2000 extends AbstractDistanceCalculator {\n  /**\n   * Weight in distance: 0.25\n   * Max DeltaE: 100\n   * Max DeltaA: 255\n   */\n  private static readonly _kA = (0.25 * 100) / 255;\n  private static readonly _pow25to7 = 25 ** 7; // 1Math.pow(25, 7);\n  private static readonly _deg360InRad = degrees2radians(360);\n  private static readonly _deg180InRad = degrees2radians(180);\n  private static readonly _deg30InRad = degrees2radians(30);\n  private static readonly _deg6InRad = degrees2radians(6);\n  private static readonly _deg63InRad = degrees2radians(63);\n  private static readonly _deg275InRad = degrees2radians(275);\n  private static readonly _deg25InRad = degrees2radians(25);\n\n  protected _setDefaults() {}\n\n  private static _calculatehp(b: number, ap: number) {\n    const hp = Math.atan2(b, ap);\n    if (hp >= 0) return hp;\n    return hp + CIEDE2000._deg360InRad;\n  }\n\n  private static _calculateRT(ahp: number, aCp: number) {\n    const aCp_to_7 = aCp ** 7.0;\n    const R_C = 2.0 * Math.sqrt(aCp_to_7 / (aCp_to_7 + CIEDE2000._pow25to7)); // 25^7\n    const delta_theta =\n      CIEDE2000._deg30InRad *\n      Math.exp(\n        -(((ahp - CIEDE2000._deg275InRad) / CIEDE2000._deg25InRad) ** 2.0),\n      );\n    return -Math.sin(2.0 * delta_theta) * R_C;\n  }\n\n  private static _calculateT(ahp: number) {\n    return (\n      1.0 -\n      0.17 * Math.cos(ahp - CIEDE2000._deg30InRad) +\n      0.24 * Math.cos(ahp * 2.0) +\n      0.32 * Math.cos(ahp * 3.0 + CIEDE2000._deg6InRad) -\n      0.2 * Math.cos(ahp * 4.0 - CIEDE2000._deg63InRad)\n    );\n  }\n\n  private static _calculate_ahp(\n    C1pC2p: number,\n    h_bar: number,\n    h1p: number,\n    h2p: number,\n  ) {\n    const hpSum = h1p + h2p;\n    if (C1pC2p === 0) return hpSum;\n    if (h_bar <= CIEDE2000._deg180InRad) return hpSum / 2.0;\n    if (hpSum < CIEDE2000._deg360InRad) {\n      return (hpSum + CIEDE2000._deg360InRad) / 2.0;\n    }\n    return (hpSum - CIEDE2000._deg360InRad) / 2.0;\n  }\n\n  private static _calculate_dHp(\n    C1pC2p: number,\n    h_bar: number,\n    h2p: number,\n    h1p: number,\n  ) {\n    let dhp;\n    if (C1pC2p === 0) {\n      dhp = 0;\n    } else if (h_bar <= CIEDE2000._deg180InRad) {\n      dhp = h2p - h1p;\n    } else if (h2p <= h1p) {\n      dhp = h2p - h1p + CIEDE2000._deg360InRad;\n    } else {\n      dhp = h2p - h1p - CIEDE2000._deg360InRad;\n    }\n    return 2.0 * Math.sqrt(C1pC2p) * Math.sin(dhp / 2.0);\n  }\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const lab1 = rgb2lab(\n      inRange0to255(r1 * this._whitePoint.r),\n      inRange0to255(g1 * this._whitePoint.g),\n      inRange0to255(b1 * this._whitePoint.b),\n    );\n    const lab2 = rgb2lab(\n      inRange0to255(r2 * this._whitePoint.r),\n      inRange0to255(g2 * this._whitePoint.g),\n      inRange0to255(b2 * this._whitePoint.b),\n    );\n    const dA = (a2 - a1) * this._whitePoint.a * CIEDE2000._kA;\n    const dE2 = this.calculateRawInLab(lab1, lab2);\n\n    return Math.sqrt(dE2 + dA * dA);\n  }\n\n  calculateRawInLab(\n    Lab1: { L: number; a: number; b: number },\n    Lab2: { L: number; a: number; b: number },\n  ) {\n    // Get L,a,b values for color 1\n    const L1 = Lab1.L;\n    const a1 = Lab1.a;\n    const b1 = Lab1.b;\n\n    // Get L,a,b values for color 2\n    const L2 = Lab2.L;\n    const a2 = Lab2.a;\n    const b2 = Lab2.b;\n\n    // Calculate Cprime1, Cprime2, Cabbar\n    const C1 = Math.sqrt(a1 * a1 + b1 * b1);\n    const C2 = Math.sqrt(a2 * a2 + b2 * b2);\n    const pow_a_C1_C2_to_7 = ((C1 + C2) / 2.0) ** 7.0;\n\n    const G =\n      0.5 *\n      (1.0 -\n        Math.sqrt(pow_a_C1_C2_to_7 / (pow_a_C1_C2_to_7 + CIEDE2000._pow25to7))); // 25^7\n    const a1p = (1.0 + G) * a1;\n    const a2p = (1.0 + G) * a2;\n\n    const C1p = Math.sqrt(a1p * a1p + b1 * b1);\n    const C2p = Math.sqrt(a2p * a2p + b2 * b2);\n    const C1pC2p = C1p * C2p;\n\n    // Angles in Degree.\n    const h1p = CIEDE2000._calculatehp(b1, a1p);\n    const h2p = CIEDE2000._calculatehp(b2, a2p);\n    const h_bar = Math.abs(h1p - h2p);\n    const dLp = L2 - L1;\n    const dCp = C2p - C1p;\n    const dHp = CIEDE2000._calculate_dHp(C1pC2p, h_bar, h2p, h1p);\n    const ahp = CIEDE2000._calculate_ahp(C1pC2p, h_bar, h1p, h2p);\n\n    const T = CIEDE2000._calculateT(ahp);\n\n    const aCp = (C1p + C2p) / 2.0;\n    const aLp_minus_50_square = ((L1 + L2) / 2.0 - 50.0) ** 2.0;\n    const S_L =\n      1.0 +\n      (0.015 * aLp_minus_50_square) / Math.sqrt(20.0 + aLp_minus_50_square);\n    const S_C = 1.0 + 0.045 * aCp;\n    const S_H = 1.0 + 0.015 * T * aCp;\n\n    const R_T = CIEDE2000._calculateRT(ahp, aCp);\n\n    const dLpSL = dLp / S_L; // S_L * kL, where kL is 1.0\n    const dCpSC = dCp / S_C; // S_C * kC, where kC is 1.0\n    const dHpSH = dHp / S_H; // S_H * kH, where kH is 1.0\n\n    return dLpSL ** 2 + dCpSC ** 2 + dHpSH ** 2 + R_T * dCpSC * dHpSH;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * cmetric.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\n\n/**\n * TODO: Name it: http://www.compuphase.com/cmetric.htm\n */\nexport class CMetric extends AbstractDistanceCalculator {\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const rmean = ((r1 + r2) / 2) * this._whitePoint.r;\n    const r = (r1 - r2) * this._whitePoint.r;\n    const g = (g1 - g2) * this._whitePoint.g;\n    const b = (b1 - b2) * this._whitePoint.b;\n    const dE =\n      (((512 + rmean) * r * r) >> 8) +\n      4 * g * g +\n      (((767 - rmean) * b * b) >> 8);\n    const dA = (a2 - a1) * this._whitePoint.a;\n\n    return Math.sqrt(dE + dA * dA);\n  }\n\n  protected _setDefaults() {}\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * euclidean.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { Y } from '../constants/bt709';\n\n/**\n * Euclidean color distance\n */\nexport abstract class AbstractEuclidean extends AbstractDistanceCalculator {\n  protected _kR!: number;\n  protected _kG!: number;\n  protected _kB!: number;\n  protected _kA!: number;\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const dR = r2 - r1;\n    const dG = g2 - g1;\n    const dB = b2 - b1;\n    const dA = a2 - a1;\n    return Math.sqrt(\n      this._kR * dR * dR +\n        this._kG * dG * dG +\n        this._kB * dB * dB +\n        this._kA * dA * dA,\n    );\n  }\n}\n\nexport class Euclidean extends AbstractEuclidean {\n  protected _setDefaults() {\n    this._kR = 1;\n    this._kG = 1;\n    this._kB = 1;\n    this._kA = 1;\n  }\n}\n\n/**\n * Euclidean color distance (RGBQuant modification w Alpha)\n */\nexport class EuclideanBT709 extends AbstractEuclidean {\n  protected _setDefaults() {\n    this._kR = Y.RED;\n    this._kG = Y.GREEN;\n    this._kB = Y.BLUE;\n    // TODO: what is the best coefficient below?\n    this._kA = 1;\n  }\n}\n\n/**\n * Euclidean color distance (RGBQuant modification w/o Alpha)\n */\nexport class EuclideanBT709NoAlpha extends AbstractEuclidean {\n  protected _setDefaults() {\n    this._kR = Y.RED;\n    this._kG = Y.GREEN;\n    this._kB = Y.BLUE;\n    this._kA = 0;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * manhattanNeuQuant.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\nimport { Y } from '../constants/bt709';\n\n/**\n * Manhattan distance (NeuQuant modification) - w/o sRGB coefficients\n */\nexport abstract class AbstractManhattan extends AbstractDistanceCalculator {\n  protected _kR!: number;\n  protected _kG!: number;\n  protected _kB!: number;\n  protected _kA!: number;\n\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    let dR = r2 - r1;\n    let dG = g2 - g1;\n    let dB = b2 - b1;\n    let dA = a2 - a1;\n    if (dR < 0) dR = 0 - dR;\n    if (dG < 0) dG = 0 - dG;\n    if (dB < 0) dB = 0 - dB;\n    if (dA < 0) dA = 0 - dA;\n\n    return this._kR * dR + this._kG * dG + this._kB * dB + this._kA * dA;\n  }\n}\n\nexport class Manhattan extends AbstractManhattan {\n  protected _setDefaults() {\n    this._kR = 1;\n    this._kG = 1;\n    this._kB = 1;\n    this._kA = 1;\n  }\n}\n\n/**\n * Manhattan distance (Nommyde modification)\n * https://github.com/igor-bezkrovny/image-quantization/issues/4#issuecomment-235155320\n */\nexport class ManhattanNommyde extends AbstractManhattan {\n  protected _setDefaults() {\n    this._kR = 0.4984;\n    this._kG = 0.8625;\n    this._kB = 0.2979;\n    // TODO: what is the best coefficient below?\n    this._kA = 1;\n  }\n}\n\n/**\n * Manhattan distance (sRGB coefficients)\n */\nexport class ManhattanBT709 extends AbstractManhattan {\n  protected _setDefaults() {\n    this._kR = Y.RED;\n    this._kG = Y.GREEN;\n    this._kB = Y.BLUE;\n    // TODO: what is the best coefficient below?\n    this._kA = 1;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * pngQuant.ts - part of Image Quantization Library\n */\nimport { AbstractDistanceCalculator } from './distanceCalculator';\n\n/**\n * TODO: check quality of this distance equation\n * TODO: ask author for usage rights\n * taken from:\n * {@link http://stackoverflow.com/questions/4754506/color-similarity-distance-in-rgba-color-space/8796867#8796867}\n * {@link https://github.com/pornel/pngquant/blob/cc39b47799a7ff2ef17b529f9415ff6e6b213b8f/lib/pam.h#L148}\n */\nexport class PNGQuant extends AbstractDistanceCalculator {\n  /**\n   * Author's comments\n   * px_b.rgb = px.rgb + 0*(1-px.a) // blend px on black\n   * px_b.a   = px.a   + 1*(1-px.a)\n   * px_w.rgb = px.rgb + 1*(1-px.a) // blend px on white\n   * px_w.a   = px.a   + 1*(1-px.a)\n   *\n   * px_b.rgb = px.rgb              // difference same as in opaque RGB\n   * px_b.a   = 1\n   * px_w.rgb = px.rgb - px.a       // difference simplifies to formula below\n   * px_w.a   = 1\n   *\n   * (px.rgb - px.a) - (py.rgb - py.a)\n   * (px.rgb - py.rgb) + (py.a - px.a)\n   *\n   */\n  calculateRaw(\n    r1: number,\n    g1: number,\n    b1: number,\n    a1: number,\n    r2: number,\n    g2: number,\n    b2: number,\n    a2: number,\n  ) {\n    const alphas = (a2 - a1) * this._whitePoint.a;\n    return (\n      this._colordifferenceCh(\n        r1 * this._whitePoint.r,\n        r2 * this._whitePoint.r,\n        alphas,\n      ) +\n      this._colordifferenceCh(\n        g1 * this._whitePoint.g,\n        g2 * this._whitePoint.g,\n        alphas,\n      ) +\n      this._colordifferenceCh(\n        b1 * this._whitePoint.b,\n        b2 * this._whitePoint.b,\n        alphas,\n      )\n    );\n  }\n\n  private _colordifferenceCh(x: number, y: number, alphas: number) {\n    // maximum of channel blended on white, and blended on black\n    // premultiplied alpha and backgrounds 0/1 shorten the formula\n    const black = x - y;\n    const white = black + alphas;\n\n    return black * black + white * white;\n  }\n\n  protected _setDefaults() {}\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * common.ts - part of Image Quantization Library\n */\nimport { PointContainer } from '../utils/pointContainer';\nimport { PaletteQuantizerYieldValue } from './paletteQuantizerYieldValue';\n\nexport abstract class AbstractPaletteQuantizer {\n  abstract sample(pointContainer: PointContainer): void;\n  abstract quantize(): IterableIterator<PaletteQuantizerYieldValue>;\n\n  quantizeSync() {\n    for (const value of this.quantize()) {\n      if (value.palette) {\n        return value.palette;\n      }\n    }\n\n    throw new Error('unreachable');\n  }\n}\n","/*\n * NeuQuant Neural-Net Quantization Algorithm\n * ------------------------------------------\n *\n * Copyright (c) 1994 Anthony Dekker\n *\n * NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\n * \"Kohonen neural networks for optimal colour quantization\" in \"Network:\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\n * the algorithm.\n *\n * Any party obtaining a copy of these files from the author, directly or\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\n * this software and documentation files (the \"Software\"), including without\n * limitation the rights to use, copy, modify, merge, publish, distribute,\n * sublicense, and/or sell copies of the Software, and to permit persons who\n * receive copies from any such party to do so, with the only requirement being\n * that this copyright notice remain intact.\n */\n\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * neuquant.ts - part of Image Quantization Library\n */\n\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { ProgressTracker } from '../../utils';\n\n// bias for colour values\nconst networkBiasShift = 3;\n\nclass Neuron {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n\n  constructor(defaultValue: number) {\n    this.r = this.g = this.b = this.a = defaultValue;\n  }\n\n  /**\n   * There is a fix in original NEUQUANT by Anthony Dekker (http://members.ozemail.com.au/~dekker/NEUQUANT.HTML)\n   * @example\n   * r = Math.min(255, (neuron.r + (1 << (networkBiasShift - 1))) >> networkBiasShift);\n   */\n  toPoint() {\n    return Point.createByRGBA(\n      this.r >> networkBiasShift,\n      this.g >> networkBiasShift,\n      this.b >> networkBiasShift,\n      this.a >> networkBiasShift,\n    );\n  }\n\n  subtract(r: number, g: number, b: number, a: number) {\n    this.r -= r | 0;\n    this.g -= g | 0;\n    this.b -= b | 0;\n    this.a -= a | 0;\n  }\n\n  /*\n   public subtract(r : number, g : number, b : number, a : number) : void {\n   this.r = (-r + this.r) | 0;\n   this.g = (-g + this.g) | 0;\n   this.b = (-b + this.b) | 0;\n   this.a = (-a + this.a) | 0;\n\n   this.r -= r;\n   this.g -= g;\n   this.b -= b;\n   this.a -= a;\n\n   this.r -= r | 0;\n   this.g -= g | 0;\n   this.b -= b | 0;\n   this.a -= a | 0;\n   }\n   */\n}\n\nexport class NeuQuant extends AbstractPaletteQuantizer {\n  /*\n   four primes near 500 - assume no image has a length so large\n   that it is divisible by all four primes\n   */\n  private static readonly _prime1 = 499;\n  private static readonly _prime2 = 491;\n  private static readonly _prime3 = 487;\n  private static readonly _prime4 = 503;\n  private static readonly _minpicturebytes = NeuQuant._prime4;\n\n  // no. of learning cycles\n  private static readonly _nCycles = 100;\n\n  // defs for freq and bias\n  private static readonly _initialBiasShift = 16;\n\n  // bias for fractions\n  private static readonly _initialBias = 1 << NeuQuant._initialBiasShift;\n  private static readonly _gammaShift = 10;\n\n  // gamma = 1024\n  // TODO: why gamma is never used?\n  // private static _gamma : number     = (1 << NeuQuant._gammaShift);\n  private static readonly _betaShift = 10;\n  private static readonly _beta = NeuQuant._initialBias >> NeuQuant._betaShift;\n\n  // beta = 1/1024\n  private static readonly _betaGamma =\n    NeuQuant._initialBias << (NeuQuant._gammaShift - NeuQuant._betaShift);\n\n  /*\n   * for 256 cols, radius starts\n   */\n  private static readonly _radiusBiasShift = 6;\n\n  // at 32.0 biased by 6 bits\n  private static readonly _radiusBias = 1 << NeuQuant._radiusBiasShift;\n\n  // and decreases by a factor of 1/30 each cycle\n  private static readonly _radiusDecrease = 30;\n\n  /* defs for decreasing alpha factor */\n\n  // alpha starts at 1.0\n  private static readonly _alphaBiasShift = 10;\n\n  // biased by 10 bits\n  private static readonly _initAlpha = 1 << NeuQuant._alphaBiasShift;\n\n  /* radBias and alphaRadBias used for radpower calculation */\n  private static readonly _radBiasShift = 8;\n  private static readonly _radBias = 1 << NeuQuant._radBiasShift;\n  private static readonly _alphaRadBiasShift =\n    NeuQuant._alphaBiasShift + NeuQuant._radBiasShift;\n  private static readonly _alphaRadBias = 1 << NeuQuant._alphaRadBiasShift;\n\n  private _pointArray: Point[];\n  private readonly _networkSize: number;\n  private _network!: Neuron[];\n\n  /** sampling factor 1..30 */\n  private readonly _sampleFactor!: number;\n  private _radPower!: number[];\n\n  // bias and freq arrays for learning\n  private _freq!: number[];\n\n  /* for network lookup - really 256 */\n  private _bias!: number[];\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._pointArray = [];\n    this._sampleFactor = 1;\n    this._networkSize = colors;\n\n    this._distance.setWhitePoint(\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n    );\n  }\n\n  sample(pointContainer: PointContainer) {\n    this._pointArray = this._pointArray.concat(pointContainer.getPointArray());\n  }\n\n  *quantize(): IterableIterator<PaletteQuantizerYieldValue> {\n    this._init();\n\n    yield* this._learn();\n\n    yield {\n      palette: this._buildPalette(),\n      progress: 100,\n    };\n  }\n\n  private _init() {\n    this._freq = [];\n    this._bias = [];\n    this._radPower = [];\n    this._network = [];\n    for (let i = 0; i < this._networkSize; i++) {\n      this._network[i] = new Neuron(\n        ((i << (networkBiasShift + 8)) / this._networkSize) | 0,\n      );\n\n      // 1/this._networkSize\n      this._freq[i] = (NeuQuant._initialBias / this._networkSize) | 0;\n      this._bias[i] = 0;\n    }\n  }\n\n  /**\n   * Main Learning Loop\n   */\n  private *_learn() {\n    let sampleFactor = this._sampleFactor;\n    const pointsNumber = this._pointArray.length;\n    if (pointsNumber < NeuQuant._minpicturebytes) sampleFactor = 1;\n\n    const alphadec = (30 + (sampleFactor - 1) / 3) | 0;\n    const pointsToSample = (pointsNumber / sampleFactor) | 0;\n\n    let delta = (pointsToSample / NeuQuant._nCycles) | 0;\n    let alpha = NeuQuant._initAlpha;\n    let radius = (this._networkSize >> 3) * NeuQuant._radiusBias;\n\n    let rad = radius >> NeuQuant._radiusBiasShift;\n    if (rad <= 1) rad = 0;\n\n    for (let i = 0; i < rad; i++) {\n      this._radPower[i] =\n        (alpha * (((rad * rad - i * i) * NeuQuant._radBias) / (rad * rad))) >>>\n        0;\n    }\n\n    let step;\n    if (pointsNumber < NeuQuant._minpicturebytes) {\n      step = 1;\n    } else if (pointsNumber % NeuQuant._prime1 !== 0) {\n      step = NeuQuant._prime1;\n    } else if (pointsNumber % NeuQuant._prime2 !== 0) {\n      step = NeuQuant._prime2;\n    } else if (pointsNumber % NeuQuant._prime3 !== 0) {\n      step = NeuQuant._prime3;\n    } else {\n      step = NeuQuant._prime4;\n    }\n\n    const tracker = new ProgressTracker(pointsToSample, 99);\n    for (let i = 0, pointIndex = 0; i < pointsToSample; ) {\n      if (tracker.shouldNotify(i)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n\n      const point = this._pointArray[pointIndex];\n      const b = point.b << networkBiasShift;\n      const g = point.g << networkBiasShift;\n      const r = point.r << networkBiasShift;\n      const a = point.a << networkBiasShift;\n      const neuronIndex = this._contest(b, g, r, a);\n\n      this._alterSingle(alpha, neuronIndex, b, g, r, a);\n      if (rad !== 0) this._alterNeighbour(rad, neuronIndex, b, g, r, a);\n\n      /* alter neighbours */\n      pointIndex += step;\n      if (pointIndex >= pointsNumber) pointIndex -= pointsNumber;\n      i++;\n\n      if (delta === 0) delta = 1;\n\n      if (i % delta === 0) {\n        alpha -= (alpha / alphadec) | 0;\n        radius -= (radius / NeuQuant._radiusDecrease) | 0;\n        rad = radius >> NeuQuant._radiusBiasShift;\n\n        if (rad <= 1) rad = 0;\n        for (let j = 0; j < rad; j++) {\n          this._radPower[j] =\n            (alpha *\n              (((rad * rad - j * j) * NeuQuant._radBias) / (rad * rad))) >>>\n            0;\n        }\n      }\n    }\n  }\n\n  private _buildPalette() {\n    const palette = new Palette();\n\n    this._network.forEach(neuron => {\n      palette.add(neuron.toPoint());\n    });\n\n    palette.sort();\n    return palette;\n  }\n\n  /**\n   * Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2)) in radpower[|i-j|]\n   */\n  private _alterNeighbour(\n    rad: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    al: number,\n  ) {\n    let lo = i - rad;\n    if (lo < -1) lo = -1;\n\n    let hi = i + rad;\n    if (hi > this._networkSize) hi = this._networkSize;\n\n    let j = i + 1;\n    let k = i - 1;\n    let m = 1;\n\n    while (j < hi || k > lo) {\n      const a = this._radPower[m++] / NeuQuant._alphaRadBias;\n      if (j < hi) {\n        const p = this._network[j++];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n\n      if (k > lo) {\n        const p = this._network[k--];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n    }\n  }\n\n  /**\n   * Move neuron i towards biased (b,g,r) by factor alpha\n   */\n  private _alterSingle(\n    alpha: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    a: number,\n  ) {\n    alpha /= NeuQuant._initAlpha;\n\n    /* alter hit neuron */\n    const n = this._network[i];\n    n.subtract(\n      alpha * (n.r - r),\n      alpha * (n.g - g),\n      alpha * (n.b - b),\n      alpha * (n.a - a),\n    );\n  }\n\n  /**\n   * Search for biased BGR values\n   * description:\n   *    finds closest neuron (min dist) and updates freq\n   *    finds best neuron (min dist-bias) and returns position\n   *    for frequently chosen neurons, freq[i] is high and bias[i] is negative\n   *    bias[i] = _gamma*((1/this._networkSize)-freq[i])\n   *\n   * Original distance equation:\n   *        dist = abs(dR) + abs(dG) + abs(dB)\n   */\n  private _contest(b: number, g: number, r: number, a: number) {\n    const multiplier = (255 * 4) << networkBiasShift;\n\n    let bestd = ~(1 << 31);\n    let bestbiasd = bestd;\n    let bestpos = -1;\n    let bestbiaspos = bestpos;\n\n    for (let i = 0; i < this._networkSize; i++) {\n      const n = this._network[i];\n      const dist =\n        (this._distance.calculateNormalized(n, { r, g, b, a }) * multiplier) |\n        0;\n\n      if (dist < bestd) {\n        bestd = dist;\n        bestpos = i;\n      }\n\n      const biasdist =\n        dist -\n        (this._bias[i] >> (NeuQuant._initialBiasShift - networkBiasShift));\n      if (biasdist < bestbiasd) {\n        bestbiasd = biasdist;\n        bestbiaspos = i;\n      }\n      const betafreq = this._freq[i] >> NeuQuant._betaShift;\n      this._freq[i] -= betafreq;\n      this._bias[i] += betafreq << NeuQuant._gammaShift;\n    }\n    this._freq[bestpos] += NeuQuant._beta;\n    this._bias[bestpos] -= NeuQuant._betaGamma;\n    return bestbiaspos;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * palette.ts - part of Image Quantization Library\n */\n\nimport { Point } from './point';\nimport { PointContainer } from './pointContainer';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { rgb2hsl } from '../conversion/rgb2hsl';\n\n// TODO: make paletteArray via pointContainer, so, export will be available via pointContainer.exportXXX\n\nconst hueGroups = 10;\n\nexport function hueGroup(hue: number, segmentsNumber: number) {\n  const maxHue = 360;\n  const seg = maxHue / segmentsNumber;\n  const half = seg / 2;\n\n  for (let i = 1, mid = seg - half; i < segmentsNumber; i++, mid += seg) {\n    if (hue >= mid && hue < mid + seg) return i;\n  }\n  return 0;\n}\n\nexport class Palette {\n  private readonly _pointContainer: PointContainer;\n  private readonly _pointArray: Point[] = [];\n  private _i32idx: { [key: string]: number } = {};\n\n  constructor() {\n    this._pointContainer = new PointContainer();\n    this._pointContainer.setHeight(1);\n    this._pointArray = this._pointContainer.getPointArray();\n  }\n\n  add(color: Point) {\n    this._pointArray.push(color);\n    this._pointContainer.setWidth(this._pointArray.length);\n  }\n\n  has(color: Point) {\n    for (let i = this._pointArray.length - 1; i >= 0; i--) {\n      if (color.uint32 === this._pointArray[i].uint32) return true;\n    }\n\n    return false;\n  }\n\n  // TOTRY: use HUSL - http://boronine.com/husl/ http://www.husl-colors.org/ https://github.com/husl-colors/husl\n  getNearestColor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    color: Point,\n  ) {\n    return this._pointArray[\n      this._getNearestIndex(colorDistanceCalculator, color) | 0\n    ];\n  }\n\n  getPointContainer() {\n    return this._pointContainer;\n  }\n\n  // TOTRY: use HUSL - http://boronine.com/husl/\n  /*\n   public nearestIndexByUint32(i32) {\n   var idx : number = this._nearestPointFromCache(\"\" + i32);\n   if (idx >= 0) return idx;\n\n   var min = 1000,\n   rgb = [\n   (i32 & 0xff),\n   (i32 >>> 8) & 0xff,\n   (i32 >>> 16) & 0xff,\n   (i32 >>> 24) & 0xff\n   ],\n   len = this._pointArray.length;\n\n   idx = 0;\n   for (var i = 0; i < len; i++) {\n   var dist = Utils.distEuclidean(rgb, this._pointArray[i].rgba);\n\n   if (dist < min) {\n   min = dist;\n   idx = i;\n   }\n   }\n\n   this._i32idx[i32] = idx;\n   return idx;\n   }\n   */\n\n  private _nearestPointFromCache(key: string) {\n    return typeof this._i32idx[key] === 'number' ? this._i32idx[key] : -1;\n  }\n\n  private _getNearestIndex(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    point: Point,\n  ) {\n    let idx = this._nearestPointFromCache('' + point.uint32); // eslint-disable-line prefer-template\n    if (idx >= 0) return idx;\n\n    let minimalDistance = Number.MAX_VALUE;\n\n    idx = 0;\n    for (let i = 0, l = this._pointArray.length; i < l; i++) {\n      const p = this._pointArray[i];\n      const distance = colorDistanceCalculator.calculateRaw(\n        point.r,\n        point.g,\n        point.b,\n        point.a,\n        p.r,\n        p.g,\n        p.b,\n        p.a,\n      );\n\n      if (distance < minimalDistance) {\n        minimalDistance = distance;\n        idx = i;\n      }\n    }\n\n    this._i32idx[point.uint32] = idx;\n    return idx;\n  }\n\n  /*\n   public reduce(histogram : ColorHistogram, colors : number) {\n   if (this._pointArray.length > colors) {\n   var idxi32 = histogram.getImportanceSortedColorsIDXI32();\n\n   // quantize histogram to existing palette\n   var keep = [], uniqueColors = 0, idx, pruned = false;\n\n   for (var i = 0, len = idxi32.length; i < len; i++) {\n   // palette length reached, unset all remaining colors (sparse palette)\n   if (uniqueColors >= colors) {\n   this.prunePal(keep);\n   pruned = true;\n   break;\n   } else {\n   idx = this.nearestIndexByUint32(idxi32[i]);\n   if (keep.indexOf(idx) < 0) {\n   keep.push(idx);\n   uniqueColors++;\n   }\n   }\n   }\n\n   if (!pruned) {\n   this.prunePal(keep);\n   }\n   }\n   }\n\n   // TODO: check usage, not tested!\n   public prunePal(keep : number[]) {\n   var colors = this._pointArray.length;\n   for (var colorIndex = colors - 1; colorIndex >= 0; colorIndex--) {\n   if (keep.indexOf(colorIndex) < 0) {\n\n   if(colorIndex + 1 < colors) {\n   this._pointArray[ colorIndex ] = this._pointArray [ colors - 1 ];\n   }\n   --colors;\n   //this._pointArray[colorIndex] = null;\n   }\n   }\n   console.log(\"colors pruned: \" + (this._pointArray.length - colors));\n   this._pointArray.length = colors;\n   this._i32idx = {};\n   }\n   */\n\n  // TODO: group very low lum and very high lum colors\n  // TODO: pass custom sort order\n  // TODO: sort criteria function should be placed to HueStats class\n  sort() {\n    this._i32idx = {};\n    this._pointArray.sort((a: Point, b: Point) => {\n      const hslA = rgb2hsl(a.r, a.g, a.b);\n      const hslB = rgb2hsl(b.r, b.g, b.b);\n\n      // sort all grays + whites together\n      const hueA =\n        a.r === a.g && a.g === a.b ? 0 : 1 + hueGroup(hslA.h, hueGroups);\n      const hueB =\n        b.r === b.g && b.g === b.b ? 0 : 1 + hueGroup(hslB.h, hueGroups);\n      /*\n       var hueA = (a.r === a.g && a.g === a.b) ? 0 : 1 + Utils.hueGroup(hslA.h, hueGroups);\n       var hueB = (b.r === b.g && b.g === b.b) ? 0 : 1 + Utils.hueGroup(hslB.h, hueGroups);\n       */\n\n      const hueDiff = hueB - hueA;\n      if (hueDiff) return -hueDiff;\n\n      /*\n       var lumDiff = Utils.lumGroup(+hslB.l.toFixed(2)) - Utils.lumGroup(+hslA.l.toFixed(2));\n       if (lumDiff) return -lumDiff;\n       */\n      const lA = a.getLuminosity(true);\n      const lB = b.getLuminosity(true);\n\n      if (lB - lA !== 0) return lB - lA;\n\n      const satDiff = ((hslB.s * 100) | 0) - ((hslA.s * 100) | 0);\n      if (satDiff) return -satDiff;\n\n      return 0;\n    });\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * pointContainer.ts - part of Image Quantization Library\n */\nimport { Point } from './point';\n\n/**\n * v8 optimizations done.\n * fromXXX methods are static to move out polymorphic code from class instance itself.\n */\nexport class PointContainer {\n  private readonly _pointArray: Point[];\n  private _width: number;\n  private _height: number;\n\n  constructor() {\n    this._width = 0;\n    this._height = 0;\n    this._pointArray = [];\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  setWidth(width: number) {\n    this._width = width;\n  }\n\n  setHeight(height: number) {\n    this._height = height;\n  }\n\n  getPointArray() {\n    return this._pointArray;\n  }\n\n  clone() {\n    const clone = new PointContainer();\n    clone._width = this._width;\n    clone._height = this._height;\n\n    for (let i = 0, l = this._pointArray.length; i < l; i++) {\n      clone._pointArray[i] = Point.createByUint32(\n        this._pointArray[i].uint32 | 0,\n      ); // \"| 0\" is added for v8 optimization\n    }\n\n    return clone;\n  }\n\n  toUint32Array() {\n    const l = this._pointArray.length;\n    const uint32Array = new Uint32Array(l);\n\n    for (let i = 0; i < l; i++) {\n      uint32Array[i] = this._pointArray[i].uint32;\n    }\n\n    return uint32Array;\n  }\n\n  toUint8Array() {\n    return new Uint8Array(this.toUint32Array().buffer);\n  }\n\n  static fromHTMLImageElement(img: HTMLImageElement) {\n    const width = img.naturalWidth;\n    const height = img.naturalHeight;\n\n    // eslint-disable-next-line no-undef\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const ctx = canvas.getContext('2d')!; // tslint:disable-line:no-non-null-assertion\n    ctx.drawImage(img, 0, 0, width, height, 0, 0, width, height);\n\n    return PointContainer.fromHTMLCanvasElement(canvas);\n  }\n\n  static fromHTMLCanvasElement(canvas: HTMLCanvasElement) {\n    const width = canvas.width;\n    const height = canvas.height;\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const ctx = canvas.getContext('2d')!; // tslint:disable-line:no-non-null-assertion\n    const imgData = ctx.getImageData(0, 0, width, height);\n\n    return PointContainer.fromImageData(imgData);\n  }\n\n  static fromImageData(imageData: ImageData) {\n    const width = imageData.width;\n    const height = imageData.height;\n\n    return PointContainer.fromUint8Array(imageData.data, width, height);\n  }\n\n  static fromUint8Array(\n    uint8Array: number[] | Uint8Array | Uint8ClampedArray,\n    width: number,\n    height: number,\n  ) {\n    switch (Object.prototype.toString.call(uint8Array)) {\n      case '[object Uint8ClampedArray]':\n      case '[object Uint8Array]':\n        break;\n\n      default:\n        uint8Array = new Uint8Array(uint8Array);\n    }\n\n    const uint32Array = new Uint32Array((uint8Array as Uint8Array).buffer);\n    return PointContainer.fromUint32Array(uint32Array, width, height);\n  }\n\n  static fromUint32Array(\n    uint32Array: Uint32Array,\n    width: number,\n    height: number,\n  ) {\n    const container = new PointContainer();\n\n    container._width = width;\n    container._height = height;\n\n    for (let i = 0, l = uint32Array.length; i < l; i++) {\n      container._pointArray[i] = Point.createByUint32(uint32Array[i] | 0); // \"| 0\" is added for v8 optimization\n    }\n\n    return container;\n  }\n\n  static fromBuffer(buffer: Buffer, width: number, height: number) {\n    const uint32Array = new Uint32Array(\n      buffer.buffer,\n      buffer.byteOffset,\n      buffer.byteLength / Uint32Array.BYTES_PER_ELEMENT,\n    );\n    return PointContainer.fromUint32Array(uint32Array, width, height);\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * point.ts - part of Image Quantization Library\n */\nimport { Y } from '../constants/bt709';\n\nexport interface PointRGBA {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n}\n\n/**\n * v8 optimized class\n * 1) \"constructor\" should have initialization with worst types\n * 2) \"set\" should have |0 / >>> 0\n */\nexport class Point implements PointRGBA {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n  uint32: number;\n  rgba: number[]; // TODO: better name is quadruplet or quad may be?\n  // Lab : { L : number; a : number; b : number };\n\n  static createByQuadruplet(quadruplet: number[]) {\n    const point = new Point();\n\n    point.r = quadruplet[0] | 0;\n    point.g = quadruplet[1] | 0;\n    point.b = quadruplet[2] | 0;\n    point.a = quadruplet[3] | 0;\n    point._loadUINT32();\n    point._loadQuadruplet();\n    // point._loadLab();\n    return point;\n  }\n\n  static createByRGBA(red: number, green: number, blue: number, alpha: number) {\n    const point = new Point();\n\n    point.r = red | 0;\n    point.g = green | 0;\n    point.b = blue | 0;\n    point.a = alpha | 0;\n    point._loadUINT32();\n    point._loadQuadruplet();\n    // point._loadLab();\n    return point;\n  }\n\n  static createByUint32(uint32: number) {\n    const point = new Point();\n\n    point.uint32 = uint32 >>> 0;\n    point._loadRGBA();\n    point._loadQuadruplet();\n    // point._loadLab();\n    return point;\n  }\n\n  constructor() {\n    this.uint32 = -1 >>> 0;\n    this.r = this.g = this.b = this.a = 0;\n    this.rgba = new Array(4);\n    this.rgba[0] = 0;\n    this.rgba[1] = 0;\n    this.rgba[2] = 0;\n    this.rgba[3] = 0;\n    /*\n     this.Lab = {\n     L : 0.0,\n     a : 0.0,\n     b : 0.0\n     };\n     */\n  }\n\n  from(point: Point) {\n    this.r = point.r;\n    this.g = point.g;\n    this.b = point.b;\n    this.a = point.a;\n    this.uint32 = point.uint32;\n    this.rgba[0] = point.r;\n    this.rgba[1] = point.g;\n    this.rgba[2] = point.b;\n    this.rgba[3] = point.a;\n\n    /*\n     this.Lab.L = point.Lab.L;\n     this.Lab.a = point.Lab.a;\n     this.Lab.b = point.Lab.b;\n     */\n  }\n\n  /*\n   * TODO:\n   Luminance from RGB:\n\n   Luminance (standard for certain colour spaces): (0.2126*R + 0.7152*G + 0.0722*B) [1]\n   Luminance (perceived option 1): (0.299*R + 0.587*G + 0.114*B) [2]\n   Luminance (perceived option 2, slower to calculate):  sqrt( 0.241*R^2 + 0.691*G^2 + 0.068*B^2 ) ? sqrt( 0.299*R^2 + 0.587*G^2 + 0.114*B^2 ) (thanks to @MatthewHerbst) [http://alienryderflex.com/hsp.html]\n   */\n  getLuminosity(useAlphaChannel: boolean) {\n    let r = this.r;\n    let g = this.g;\n    let b = this.b;\n\n    if (useAlphaChannel) {\n      r = Math.min(255, 255 - this.a + (this.a * r) / 255);\n      g = Math.min(255, 255 - this.a + (this.a * g) / 255);\n      b = Math.min(255, 255 - this.a + (this.a * b) / 255);\n    }\n\n    // var luma = this.r * Point._RED_COEFFICIENT + this.g * Point._GREEN_COEFFICIENT + this.b * Point._BLUE_COEFFICIENT;\n\n    /*\n     if(useAlphaChannel) {\n     luma = (luma * (255 - this.a)) / 255;\n     }\n     */\n\n    return r * Y.RED + g * Y.GREEN + b * Y.BLUE;\n  }\n\n  private _loadUINT32() {\n    this.uint32 =\n      ((this.a << 24) | (this.b << 16) | (this.g << 8) | this.r) >>> 0;\n  }\n\n  private _loadRGBA() {\n    this.r = this.uint32 & 0xff;\n    this.g = (this.uint32 >>> 8) & 0xff;\n    this.b = (this.uint32 >>> 16) & 0xff;\n    this.a = (this.uint32 >>> 24) & 0xff;\n  }\n\n  private _loadQuadruplet() {\n    this.rgba[0] = this.r;\n    this.rgba[1] = this.g;\n    this.rgba[2] = this.b;\n    this.rgba[3] = this.a;\n\n    /*\n     var xyz = rgb2xyz(this.r, this.g, this.b);\n     var lab = xyz2lab(xyz.x, xyz.y, xyz.z);\n     this.lab.l = lab.l;\n     this.lab.a = lab.a;\n     this.lab.b = lab.b;\n     */\n  }\n\n  /*\n   private _loadLab() : void {\n   var Lab = Color.Conversion.rgb2lab(this.r, this.g, this.b);\n   this.Lab.L = Lab.L;\n   this.Lab.a = Lab.a;\n   this.Lab.b = Lab.b;\n   }\n   */\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * hueStatistics.ts - part of Image Quantization Library\n */\nimport { rgb2hsl } from '../conversion/rgb2hsl';\nimport { hueGroup } from './palette';\n\nclass HueGroup {\n  num = 0;\n  cols: number[] = [];\n}\n\nexport class HueStatistics {\n  private _numGroups: number;\n  private _minCols: number;\n  private _stats: HueGroup[];\n  private _groupsFull: number;\n\n  constructor(numGroups: number, minCols: number) {\n    this._numGroups = numGroups;\n    this._minCols = minCols;\n    this._stats = [];\n\n    for (let i = 0; i <= numGroups; i++) {\n      this._stats[i] = new HueGroup();\n    }\n\n    this._groupsFull = 0;\n  }\n\n  check(i32: number) {\n    if (this._groupsFull === this._numGroups + 1) {\n      this.check = () => {};\n    }\n\n    const r = i32 & 0xff;\n    const g = (i32 >>> 8) & 0xff;\n    const b = (i32 >>> 16) & 0xff;\n    const hg =\n      r === g && g === b\n        ? 0\n        : 1 + hueGroup(rgb2hsl(r, g, b).h, this._numGroups);\n    const gr = this._stats[hg];\n    const min = this._minCols;\n\n    gr.num++;\n\n    if (gr.num > min) {\n      return;\n    }\n    if (gr.num === min) {\n      this._groupsFull++;\n    }\n\n    if (gr.num <= min) {\n      this._stats[hg].cols.push(i32);\n    }\n  }\n\n  injectIntoDictionary(histG: Record<string, number>) {\n    for (let i = 0; i <= this._numGroups; i++) {\n      if (this._stats[i].num <= this._minCols) {\n        this._stats[i].cols.forEach((col: number) => {\n          if (!histG[col]) {\n            histG[col] = 1;\n          } else {\n            histG[col]++;\n          }\n        });\n      }\n    }\n  }\n\n  injectIntoArray(histG: string[]) {\n    for (let i = 0; i <= this._numGroups; i++) {\n      if (this._stats[i].num <= this._minCols) {\n        this._stats[i].cols.forEach((col: unknown) => {\n          if (histG.indexOf(col as string) === -1) {\n            histG.push(col as string);\n          }\n        });\n      }\n    }\n  }\n}\n","export class ProgressTracker {\n  static readonly steps = 100;\n\n  progress: number;\n\n  private _step: number;\n  private _range: number;\n  private _last: number;\n  private _progressRange: number;\n\n  constructor(valueRange: number, progressRange: number) {\n    this._range = valueRange;\n    this._progressRange = progressRange;\n    this._step = Math.max(1, (this._range / (ProgressTracker.steps + 1)) | 0);\n    this._last = -this._step;\n    this.progress = 0;\n  }\n\n  shouldNotify(current: number) {\n    if (current - this._last >= this._step) {\n      this._last = current;\n      this.progress = Math.min(\n        (this._progressRange * this._last) / this._range,\n        this._progressRange,\n      );\n      return true;\n    }\n\n    return false;\n  }\n}\n","/*\n * NeuQuantFloat Neural-Net Quantization Algorithm\n * ------------------------------------------\n *\n * Copyright (c) 1994 Anthony Dekker\n *\n * NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\n * \"Kohonen neural networks for optimal colour quantization\" in \"Network:\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\n * the algorithm.\n *\n * Any party obtaining a copy of these files from the author, directly or\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\n * this software and documentation files (the \"Software\"), including without\n * limitation the rights to use, copy, modify, merge, publish, distribute,\n * sublicense, and/or sell copies of the Software, and to permit persons who\n * receive copies from any such party to do so, with the only requirement being\n * that this copyright notice remain intact.\n */\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * neuquant.ts - part of Image Quantization Library\n */\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { ProgressTracker } from '../../utils';\n\n// bias for colour values\nconst networkBiasShift = 3;\n\nclass NeuronFloat {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n\n  constructor(defaultValue: number) {\n    this.r = this.g = this.b = this.a = defaultValue;\n  }\n\n  /**\n   * There is a fix in original NEUQUANT by Anthony Dekker (http://members.ozemail.com.au/~dekker/NEUQUANT.HTML)\n   * @example\n   * r = Math.min(255, (neuron.r + (1 << (networkBiasShift - 1))) >> networkBiasShift);\n   */\n  toPoint() {\n    return Point.createByRGBA(\n      this.r >> networkBiasShift,\n      this.g >> networkBiasShift,\n      this.b >> networkBiasShift,\n      this.a >> networkBiasShift,\n    );\n  }\n\n  subtract(r: number, g: number, b: number, a: number) {\n    this.r -= r;\n    this.g -= g;\n    this.b -= b;\n    this.a -= a;\n  }\n}\n\nexport class NeuQuantFloat extends AbstractPaletteQuantizer {\n  /*\n   four primes near 500 - assume no image has a length so large\n   that it is divisible by all four primes\n   */\n  private static readonly _prime1 = 499;\n  private static readonly _prime2 = 491;\n  private static readonly _prime3 = 487;\n  private static readonly _prime4 = 503;\n  private static readonly _minpicturebytes = NeuQuantFloat._prime4;\n\n  // no. of learning cycles\n  private static readonly _nCycles = 100;\n\n  // defs for freq and bias\n  private static readonly _initialBiasShift = 16;\n\n  // bias for fractions\n  private static readonly _initialBias = 1 << NeuQuantFloat._initialBiasShift;\n  private static readonly _gammaShift = 10;\n\n  // gamma = 1024\n  // TODO: why gamma is never used?\n  // private static _gamma : number     = (1 << NeuQuantFloat._gammaShift);\n  private static readonly _betaShift = 10;\n  private static readonly _beta =\n    NeuQuantFloat._initialBias >> NeuQuantFloat._betaShift;\n\n  // beta = 1/1024\n  private static readonly _betaGamma =\n    NeuQuantFloat._initialBias <<\n    (NeuQuantFloat._gammaShift - NeuQuantFloat._betaShift);\n\n  /*\n   * for 256 cols, radius starts\n   */\n  private static readonly _radiusBiasShift = 6;\n\n  // at 32.0 biased by 6 bits\n  private static readonly _radiusBias = 1 << NeuQuantFloat._radiusBiasShift;\n\n  // and decreases by a factor of 1/30 each cycle\n  private static readonly _radiusDecrease = 30;\n\n  /* defs for decreasing alpha factor */\n\n  // alpha starts at 1.0\n  private static readonly _alphaBiasShift = 10;\n\n  // biased by 10 bits\n  private static readonly _initAlpha = 1 << NeuQuantFloat._alphaBiasShift;\n\n  /* radBias and alphaRadBias used for radpower calculation */\n  private static readonly _radBiasShift = 8;\n  private static readonly _radBias = 1 << NeuQuantFloat._radBiasShift;\n  private static readonly _alphaRadBiasShift =\n    NeuQuantFloat._alphaBiasShift + NeuQuantFloat._radBiasShift;\n  private static readonly _alphaRadBias = 1 << NeuQuantFloat._alphaRadBiasShift;\n\n  private _pointArray!: Point[];\n  private readonly _networkSize!: number;\n  private _network!: NeuronFloat[];\n\n  /** sampling factor 1..30 */\n  private readonly _sampleFactor!: number;\n  private _radPower!: number[];\n\n  // bias and freq arrays for learning\n  private _freq!: number[];\n\n  /* for network lookup - really 256 */\n  private _bias!: number[];\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._pointArray = [];\n    this._sampleFactor = 1;\n    this._networkSize = colors;\n\n    this._distance.setWhitePoint(\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n      255 << networkBiasShift,\n    );\n  }\n\n  sample(pointContainer: PointContainer) {\n    this._pointArray = this._pointArray.concat(pointContainer.getPointArray());\n  }\n\n  *quantize() {\n    this._init();\n    yield* this._learn();\n\n    yield {\n      palette: this._buildPalette(),\n      progress: 100,\n    };\n  }\n\n  private _init() {\n    this._freq = [];\n    this._bias = [];\n    this._radPower = [];\n    this._network = [];\n    for (let i = 0; i < this._networkSize; i++) {\n      this._network[i] = new NeuronFloat(\n        (i << (networkBiasShift + 8)) / this._networkSize,\n      );\n\n      // 1/this._networkSize\n      this._freq[i] = NeuQuantFloat._initialBias / this._networkSize;\n      this._bias[i] = 0;\n    }\n  }\n\n  /**\n   * Main Learning Loop\n   */\n  private *_learn(): IterableIterator<PaletteQuantizerYieldValue> {\n    let sampleFactor = this._sampleFactor;\n\n    const pointsNumber = this._pointArray.length;\n    if (pointsNumber < NeuQuantFloat._minpicturebytes) sampleFactor = 1;\n\n    const alphadec = 30 + (sampleFactor - 1) / 3;\n    const pointsToSample = pointsNumber / sampleFactor;\n\n    let delta = (pointsToSample / NeuQuantFloat._nCycles) | 0;\n    let alpha = NeuQuantFloat._initAlpha;\n    let radius = (this._networkSize >> 3) * NeuQuantFloat._radiusBias;\n\n    let rad = radius >> NeuQuantFloat._radiusBiasShift;\n    if (rad <= 1) rad = 0;\n\n    for (let i = 0; i < rad; i++) {\n      this._radPower[i] =\n        alpha * (((rad * rad - i * i) * NeuQuantFloat._radBias) / (rad * rad));\n    }\n\n    let step;\n    if (pointsNumber < NeuQuantFloat._minpicturebytes) {\n      step = 1;\n    } else if (pointsNumber % NeuQuantFloat._prime1 !== 0) {\n      step = NeuQuantFloat._prime1;\n    } else if (pointsNumber % NeuQuantFloat._prime2 !== 0) {\n      step = NeuQuantFloat._prime2;\n    } else if (pointsNumber % NeuQuantFloat._prime3 !== 0) {\n      step = NeuQuantFloat._prime3;\n    } else {\n      step = NeuQuantFloat._prime4;\n    }\n\n    const tracker = new ProgressTracker(pointsToSample, 99);\n    for (let i = 0, pointIndex = 0; i < pointsToSample; ) {\n      if (tracker.shouldNotify(i)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n\n      const point = this._pointArray[pointIndex];\n      const b = point.b << networkBiasShift;\n      const g = point.g << networkBiasShift;\n      const r = point.r << networkBiasShift;\n      const a = point.a << networkBiasShift;\n      const neuronIndex = this._contest(b, g, r, a);\n\n      this._alterSingle(alpha, neuronIndex, b, g, r, a);\n      if (rad !== 0) this._alterNeighbour(rad, neuronIndex, b, g, r, a);\n\n      /* alter neighbours */\n      pointIndex += step;\n      if (pointIndex >= pointsNumber) pointIndex -= pointsNumber;\n      i++;\n\n      if (delta === 0) delta = 1;\n\n      if (i % delta === 0) {\n        alpha -= alpha / alphadec;\n        radius -= radius / NeuQuantFloat._radiusDecrease;\n        rad = radius >> NeuQuantFloat._radiusBiasShift;\n\n        if (rad <= 1) rad = 0;\n        for (let j = 0; j < rad; j++) {\n          this._radPower[j] =\n            alpha *\n            (((rad * rad - j * j) * NeuQuantFloat._radBias) / (rad * rad));\n        }\n      }\n    }\n  }\n\n  private _buildPalette() {\n    const palette = new Palette();\n\n    this._network.forEach(neuron => {\n      palette.add(neuron.toPoint());\n    });\n\n    palette.sort();\n    return palette;\n  }\n\n  /**\n   * Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2)) in radpower[|i-j|]\n   */\n  private _alterNeighbour(\n    rad: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    al: number,\n  ) {\n    let lo = i - rad;\n    if (lo < -1) lo = -1;\n\n    let hi = i + rad;\n    if (hi > this._networkSize) hi = this._networkSize;\n\n    let j = i + 1;\n    let k = i - 1;\n    let m = 1;\n\n    while (j < hi || k > lo) {\n      const a = this._radPower[m++] / NeuQuantFloat._alphaRadBias;\n      if (j < hi) {\n        const p = this._network[j++];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n\n      if (k > lo) {\n        const p = this._network[k--];\n        p.subtract(a * (p.r - r), a * (p.g - g), a * (p.b - b), a * (p.a - al));\n      }\n    }\n  }\n\n  /**\n   * Move neuron i towards biased (b,g,r) by factor alpha\n   */\n  private _alterSingle(\n    alpha: number,\n    i: number,\n    b: number,\n    g: number,\n    r: number,\n    a: number,\n  ) {\n    alpha /= NeuQuantFloat._initAlpha;\n\n    /* alter hit neuron */\n    const n = this._network[i];\n    n.subtract(\n      alpha * (n.r - r),\n      alpha * (n.g - g),\n      alpha * (n.b - b),\n      alpha * (n.a - a),\n    );\n  }\n\n  /**\n   * Search for biased BGR values\n   * description:\n   *    finds closest neuron (min dist) and updates freq\n   *    finds best neuron (min dist-bias) and returns position\n   *    for frequently chosen neurons, freq[i] is high and bias[i] is negative\n   *    bias[i] = _gamma*((1/this._networkSize)-freq[i])\n   *\n   * Original distance equation:\n   *        dist = abs(dR) + abs(dG) + abs(dB)\n   */\n  private _contest(b: number, g: number, r: number, al: number) {\n    const multiplier = (255 * 4) << networkBiasShift;\n\n    let bestd = ~(1 << 31);\n    let bestbiasd = bestd;\n    let bestpos = -1;\n    let bestbiaspos = bestpos;\n\n    for (let i = 0; i < this._networkSize; i++) {\n      const n = this._network[i];\n      const dist =\n        this._distance.calculateNormalized(n, { r, g, b, a: al }) * multiplier;\n\n      if (dist < bestd) {\n        bestd = dist;\n        bestpos = i;\n      }\n\n      const biasdist =\n        dist -\n        (this._bias[i] >> (NeuQuantFloat._initialBiasShift - networkBiasShift));\n      if (biasdist < bestbiasd) {\n        bestbiasd = biasdist;\n        bestbiaspos = i;\n      }\n      const betafreq = this._freq[i] >> NeuQuantFloat._betaShift;\n      this._freq[i] -= betafreq;\n      this._bias[i] += betafreq << NeuQuantFloat._gammaShift;\n    }\n    this._freq[bestpos] += NeuQuantFloat._beta;\n    this._bias[bestpos] -= NeuQuantFloat._betaGamma;\n    return bestbiaspos;\n  }\n}\n","/*\n * Copyright (c) 2015, Leon Sorokin\n * All rights reserved. (MIT Licensed)\n *\n * RGBQuant.js - an image quantization lib\n */\n\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * rgbquant.ts - part of Image Quantization Library\n */\n\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { ColorHistogram } from './colorHistogram';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { stableSort } from '../../utils/arithmetic';\nimport { ProgressTracker } from '../../utils';\n\nclass RemovedColor {\n  readonly index: number;\n  readonly color: Point;\n  readonly distance: number;\n\n  constructor(index: number, color: Point, distance: number) {\n    this.index = index;\n    this.color = color;\n    this.distance = distance;\n  }\n}\n\n// TODO: make input/output image and input/output palettes with instances of class Point only!\nexport class RGBQuant extends AbstractPaletteQuantizer {\n  // desired final palette size\n  private readonly _colors: number;\n\n  // color-distance threshold for initial reduction pass\n  private readonly _initialDistance: number;\n\n  // subsequent passes threshold\n  private readonly _distanceIncrement: number;\n\n  // accumulated histogram\n  private readonly _histogram: ColorHistogram;\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n    method = 2,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    // desired final palette size\n    this._colors = colors;\n\n    // histogram to accumulate\n    this._histogram = new ColorHistogram(method, colors);\n\n    this._initialDistance = 0.01;\n    this._distanceIncrement = 0.005;\n  }\n\n  // gathers histogram info\n  sample(image: PointContainer) {\n    /*\n     var pointArray = image.getPointArray(), max = [0, 0, 0, 0], min = [255, 255, 255, 255];\n\n     for (var i = 0, l = pointArray.length; i < l; i++) {\n     var color = pointArray[i];\n     for (var componentIndex = 0; componentIndex < 4; componentIndex++) {\n     if (max[componentIndex] < color.rgba[componentIndex]) max[componentIndex] = color.rgba[componentIndex];\n     if (min[componentIndex] > color.rgba[componentIndex]) min[componentIndex] = color.rgba[componentIndex];\n     }\n     }\n     var rd = max[0] - min[0], gd = max[1] - min[1], bd = max[2] - min[2], ad = max[3] - min[3];\n     this._distance.setWhitePoint(rd, gd, bd, ad);\n\n     this._initialDistance = (Math.sqrt(rd * rd + gd * gd + bd * bd + ad * ad) / Math.sqrt(255 * 255 + 255 * 255 + 255 * 255)) * 0.01;\n     */\n\n    this._histogram.sample(image);\n  }\n\n  // reduces histogram to palette, remaps & memoizes reduced colors\n  *quantize() {\n    const idxi32 = this._histogram.getImportanceSortedColorsIDXI32();\n    if (idxi32.length === 0) {\n      throw new Error('No colors in image');\n    }\n\n    yield* this._buildPalette(idxi32);\n  }\n\n  // reduces similar colors from an importance-sorted Uint32 rgba array\n  private *_buildPalette(\n    idxi32: number[],\n  ): IterableIterator<PaletteQuantizerYieldValue> {\n    // reduce histogram to create initial palette\n    // build full rgb palette\n    const palette = new Palette();\n    const colorArray = palette.getPointContainer().getPointArray();\n    const usageArray = new Array(idxi32.length); // tslint:disable-line:prefer-array-literal\n\n    for (let i = 0; i < idxi32.length; i++) {\n      colorArray.push(Point.createByUint32(idxi32[i]));\n      usageArray[i] = 1;\n    }\n\n    const len = colorArray.length;\n    const memDist = [];\n\n    let palLen = len;\n    let thold = this._initialDistance;\n\n    // palette already at or below desired length\n    const tracker = new ProgressTracker(palLen - this._colors, 99);\n    while (palLen > this._colors) {\n      memDist.length = 0;\n\n      // iterate palette\n      for (let i = 0; i < len; i++) {\n        if (tracker.shouldNotify(len - palLen)) {\n          yield {\n            progress: tracker.progress,\n          };\n        }\n\n        if (usageArray[i] === 0) continue;\n        const pxi = colorArray[i];\n        // if (!pxi) continue;\n\n        for (let j = i + 1; j < len; j++) {\n          if (usageArray[j] === 0) continue;\n          const pxj = colorArray[j];\n          // if (!pxj) continue;\n\n          const dist = this._distance.calculateNormalized(pxi, pxj);\n          if (dist < thold) {\n            // store index,rgb,dist\n            memDist.push(new RemovedColor(j, pxj, dist));\n            usageArray[j] = 0;\n            palLen--;\n          }\n        }\n      }\n      // palette reduction pass\n      // console.log(\"palette length: \" + palLen);\n\n      // if palette is still much larger than target, increment by larger initDist\n      thold +=\n        palLen > this._colors * 3\n          ? this._initialDistance\n          : this._distanceIncrement;\n    }\n\n    // if palette is over-reduced, re-add removed colors with largest distances from last round\n    if (palLen < this._colors) {\n      // sort descending\n      stableSort(memDist, (a, b) => b.distance - a.distance);\n\n      let k = 0;\n      while (palLen < this._colors && k < memDist.length) {\n        const removedColor = memDist[k];\n        // re-inject rgb into final palette\n        usageArray[removedColor.index] = 1;\n        palLen++;\n        k++;\n      }\n    }\n\n    let colors = colorArray.length;\n    for (let colorIndex = colors - 1; colorIndex >= 0; colorIndex--) {\n      if (usageArray[colorIndex] === 0) {\n        if (colorIndex !== colors - 1) {\n          colorArray[colorIndex] = colorArray[colors - 1];\n        }\n        --colors;\n      }\n    }\n    colorArray.length = colors;\n\n    palette.sort();\n\n    yield {\n      palette,\n      progress: 100,\n    };\n  }\n}\n","/*\n * Copyright (c) 2015, Leon Sorokin\n * All rights reserved. (MIT Licensed)\n *\n * ColorHistogram.js - an image quantization lib\n */\n\n/**\n * @preserve TypeScript port:\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * colorHistogram.ts - part of Image Quantization Library\n */\nimport { HueStatistics } from '../../utils/hueStatistics';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { stableSort } from '../../utils/arithmetic';\n\ninterface Box {\n  x: number;\n  y: number;\n  h: number;\n  w: number;\n}\n\nexport class ColorHistogram {\n  private static _boxSize = [64, 64];\n  private static _boxPixels = 2;\n  private static _hueGroups = 10;\n\n  // 1 = by global population, 2 = subregion population threshold\n  private _method: number;\n\n  // HueStatistics instance\n  private _hueStats: HueStatistics;\n\n  private _histogram: { [color: string]: number };\n\n  // # of highest-frequency colors to start with for palette reduction\n  private _initColors: number;\n\n  // if > 0, enables hues stats and min-color retention per group\n  private _minHueCols: number;\n\n  constructor(method: number, colors: number) {\n    // 1 = by global population, 2 = subregion population threshold\n    this._method = method;\n\n    // if > 0, enables hues stats and min-color retention per group\n    this._minHueCols = colors << 2; // opts.minHueCols || 0;\n\n    // # of highest-frequency colors to start with for palette reduction\n    this._initColors = colors << 2;\n\n    // HueStatistics instance\n    this._hueStats = new HueStatistics(\n      ColorHistogram._hueGroups,\n      this._minHueCols,\n    );\n\n    this._histogram = Object.create(null); // tslint:disable-line:no-null-keyword\n  }\n\n  sample(pointContainer: PointContainer) {\n    // eslint-disable-next-line default-case\n    switch (this._method) {\n      case 1:\n        this._colorStats1D(pointContainer);\n        break;\n      case 2:\n        this._colorStats2D(pointContainer);\n        break;\n    }\n  }\n\n  getImportanceSortedColorsIDXI32() {\n    // TODO: fix typing issue in stableSort func\n    const sorted = stableSort(\n      Object.keys(this._histogram),\n      (a, b) => this._histogram[b] - this._histogram[a],\n    );\n    if (sorted.length === 0) {\n      return [];\n    }\n\n    let idxi32;\n    switch (this._method) {\n      case 1:\n        const initialColorsLimit = Math.min(sorted.length, this._initColors);\n        const last = sorted[initialColorsLimit - 1];\n        const freq = this._histogram[last];\n\n        idxi32 = sorted.slice(0, initialColorsLimit);\n\n        // add any cut off colors with same freq as last\n        let pos = initialColorsLimit;\n        const len = sorted.length;\n        while (pos < len && this._histogram[sorted[pos]] === freq) {\n          idxi32.push(sorted[pos++]);\n        }\n\n        // inject min huegroup colors\n        this._hueStats.injectIntoArray(idxi32);\n        break;\n\n      case 2:\n        idxi32 = sorted;\n        break;\n\n      default:\n        // TODO: rethink errors\n        throw new Error('Incorrect method');\n    }\n\n    // int32-ify values\n    return idxi32.map(v => +v);\n  }\n\n  // global top-population\n  private _colorStats1D(pointContainer: PointContainer) {\n    const histG = this._histogram;\n    const pointArray = pointContainer.getPointArray();\n    const len = pointArray.length;\n\n    for (let i = 0; i < len; i++) {\n      const col = pointArray[i].uint32;\n\n      // collect hue stats\n      this._hueStats.check(col);\n\n      if (col in histG) {\n        histG[col]++;\n      } else {\n        histG[col] = 1;\n      }\n    }\n  }\n\n  // population threshold within subregions\n  // FIXME: this can over-reduce (few/no colors same?), need a way to keep\n  // important colors that dont ever reach local thresholds (gradients?)\n  private _colorStats2D(pointContainer: PointContainer) {\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n    const pointArray = pointContainer.getPointArray();\n\n    const boxW = ColorHistogram._boxSize[0];\n    const boxH = ColorHistogram._boxSize[1];\n    const area = boxW * boxH;\n    const boxes = this._makeBoxes(width, height, boxW, boxH);\n    const histG = this._histogram;\n\n    boxes.forEach(box => {\n      let effc = Math.round((box.w * box.h) / area) * ColorHistogram._boxPixels;\n      if (effc < 2) effc = 2;\n\n      const histL: Record<string, number> = {};\n      this._iterateBox(box, width, i => {\n        const col = pointArray[i].uint32;\n\n        // collect hue stats\n        this._hueStats.check(col);\n\n        if (col in histG) {\n          histG[col]++;\n        } else if (col in histL) {\n          if (++histL[col] >= effc) {\n            histG[col] = histL[col];\n          }\n        } else {\n          histL[col] = 1;\n        }\n      });\n    });\n\n    // inject min huegroup colors\n    this._hueStats.injectIntoDictionary(histG);\n  }\n\n  // iterates @bbox within a parent rect of width @wid; calls @fn, passing index within parent\n  private _iterateBox(bbox: Box, wid: number, fn: (i: number) => void) {\n    const b = bbox;\n    const i0 = b.y * wid + b.x;\n    const i1 = (b.y + b.h - 1) * wid + (b.x + b.w - 1);\n    const incr = wid - b.w + 1;\n\n    let cnt = 0;\n    let i = i0;\n\n    do {\n      fn.call(this, i);\n      i += ++cnt % b.w === 0 ? incr : 1;\n    } while (i <= i1);\n  }\n\n  /**\n   *    partitions a rectangle of width x height into\n   *    array of boxes stepX x stepY (or less)\n   */\n  private _makeBoxes(\n    width: number,\n    height: number,\n    stepX: number,\n    stepY: number,\n  ) {\n    const wrem = width % stepX;\n    const hrem = height % stepY;\n    const xend = width - wrem;\n    const yend = height - hrem;\n    const boxesArray = [];\n\n    for (let y = 0; y < height; y += stepY) {\n      for (let x = 0; x < width; x += stepX) {\n        boxesArray.push({\n          x,\n          y,\n          w: x === xend ? wrem : stepX,\n          h: y === yend ? hrem : stepY,\n        });\n      }\n    }\n\n    return boxesArray;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * wuQuant.ts - part of Image Quantization Library\n */\nimport { Palette } from '../../utils/palette';\nimport { Point } from '../../utils/point';\nimport { PointContainer } from '../../utils/pointContainer';\nimport { AbstractDistanceCalculator } from '../../distance/distanceCalculator';\nimport { AbstractPaletteQuantizer } from '../paletteQuantizer';\nimport { PaletteQuantizerYieldValue } from '../paletteQuantizerYieldValue';\nimport { ProgressTracker } from '../../utils';\n\nfunction createArray1D(dimension1: number) {\n  const a = [];\n  for (let k = 0; k < dimension1; k++) {\n    a[k] = 0;\n  }\n  return a;\n}\n\nfunction createArray4D(\n  dimension1: number,\n  dimension2: number,\n  dimension3: number,\n  dimension4: number,\n): number[][][][] {\n  const a = new Array(dimension1);\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = new Array(dimension2);\n    for (let j = 0; j < dimension2; j++) {\n      a[i][j] = new Array(dimension3);\n      for (let k = 0; k < dimension3; k++) {\n        a[i][j][k] = new Array(dimension4);\n        for (let l = 0; l < dimension4; l++) {\n          a[i][j][k][l] = 0;\n        }\n      }\n    }\n  }\n  return a;\n}\n\nfunction createArray3D(\n  dimension1: number,\n  dimension2: number,\n  dimension3: number,\n): number[][][] {\n  const a = new Array(dimension1);\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = new Array(dimension2);\n    for (let j = 0; j < dimension2; j++) {\n      a[i][j] = new Array(dimension3);\n      for (let k = 0; k < dimension3; k++) {\n        a[i][j][k] = 0;\n      }\n    }\n  }\n  return a;\n}\n\nfunction fillArray3D<T>(\n  a: T[][][],\n  dimension1: number,\n  dimension2: number,\n  dimension3: number,\n  value: T,\n) {\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = [];\n    for (let j = 0; j < dimension2; j++) {\n      a[i][j] = [];\n      for (let k = 0; k < dimension3; k++) {\n        a[i][j][k] = value;\n      }\n    }\n  }\n}\n\nfunction fillArray1D<T>(a: T[], dimension1: number, value: T) {\n  for (let i = 0; i < dimension1; i++) {\n    a[i] = value;\n  }\n}\n\nexport class WuColorCube {\n  redMinimum!: number;\n  redMaximum!: number;\n  greenMinimum!: number;\n  greenMaximum!: number;\n  blueMinimum!: number;\n  blueMaximum!: number;\n  volume!: number;\n  alphaMinimum!: number;\n  alphaMaximum!: number;\n}\n\nexport class WuQuant extends AbstractPaletteQuantizer {\n  private static readonly _alpha = 3;\n  private static readonly _red = 2;\n  private static readonly _green = 1;\n  private static readonly _blue = 0;\n\n  private _reds!: number[];\n  private _greens!: number[];\n  private _blues!: number[];\n  private _alphas!: number[];\n  private _sums!: number[];\n\n  private _weights!: number[][][][];\n  private _momentsRed!: number[][][][];\n  private _momentsGreen!: number[][][][];\n  private _momentsBlue!: number[][][][];\n  private _momentsAlpha!: number[][][][];\n  private _moments!: number[][][][];\n  private _table!: number[];\n  private _pixels!: Point[];\n\n  private _cubes!: WuColorCube[];\n  private _colors!: number;\n\n  private _significantBitsPerChannel!: number;\n  private _maxSideIndex!: number;\n  private _alphaMaxSideIndex!: number;\n  private _sideSize!: number;\n  private _alphaSideSize!: number;\n\n  private readonly _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    colors = 256,\n    significantBitsPerChannel = 5,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._setQuality(significantBitsPerChannel);\n    this._initialize(colors);\n  }\n\n  sample(image: PointContainer) {\n    const pointArray = image.getPointArray();\n\n    for (let i = 0, l = pointArray.length; i < l; i++) {\n      this._addColor(pointArray[i]);\n    }\n\n    this._pixels = this._pixels.concat(pointArray);\n  }\n\n  *quantize() {\n    yield* this._preparePalette();\n\n    const palette = new Palette();\n\n    // generates palette\n    for (let paletteIndex = 0; paletteIndex < this._colors; paletteIndex++) {\n      if (this._sums[paletteIndex] > 0) {\n        const sum = this._sums[paletteIndex];\n        const r = this._reds[paletteIndex] / sum;\n        const g = this._greens[paletteIndex] / sum;\n        const b = this._blues[paletteIndex] / sum;\n        const a = this._alphas[paletteIndex] / sum;\n\n        const color = Point.createByRGBA(r | 0, g | 0, b | 0, a | 0);\n        palette.add(color);\n      }\n    }\n\n    palette.sort();\n\n    yield {\n      palette,\n      progress: 100,\n    };\n  }\n\n  private *_preparePalette() {\n    // preprocess the colors\n    yield* this._calculateMoments();\n\n    let next = 0;\n    const volumeVariance = createArray1D(this._colors);\n\n    // processes the cubes\n    for (let cubeIndex = 1; cubeIndex < this._colors; ++cubeIndex) {\n      // if cut is possible; make it\n      if (this._cut(this._cubes[next], this._cubes[cubeIndex])) {\n        volumeVariance[next] =\n          this._cubes[next].volume > 1\n            ? this._calculateVariance(this._cubes[next])\n            : 0.0;\n        volumeVariance[cubeIndex] =\n          this._cubes[cubeIndex].volume > 1\n            ? this._calculateVariance(this._cubes[cubeIndex])\n            : 0.0;\n      } else {\n        // the cut was not possible, revert the index\n        volumeVariance[next] = 0.0;\n        cubeIndex--;\n      }\n\n      next = 0;\n      let temp = volumeVariance[0];\n\n      for (let index = 1; index <= cubeIndex; ++index) {\n        if (volumeVariance[index] > temp) {\n          temp = volumeVariance[index];\n          next = index;\n        }\n      }\n\n      if (temp <= 0.0) {\n        this._colors = cubeIndex + 1;\n        break;\n      }\n    }\n\n    const lookupRed = [];\n    const lookupGreen = [];\n    const lookupBlue = [];\n    const lookupAlpha = [];\n\n    // precalculates lookup tables\n    for (let k = 0; k < this._colors; ++k) {\n      const weight = WuQuant._volume(this._cubes[k], this._weights);\n\n      if (weight > 0) {\n        lookupRed[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsRed) / weight) | 0;\n        lookupGreen[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsGreen) / weight) | 0;\n        lookupBlue[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsBlue) / weight) | 0;\n        lookupAlpha[k] =\n          (WuQuant._volume(this._cubes[k], this._momentsAlpha) / weight) | 0;\n      } else {\n        lookupRed[k] = 0;\n        lookupGreen[k] = 0;\n        lookupBlue[k] = 0;\n        lookupAlpha[k] = 0;\n      }\n    }\n\n    this._reds = createArray1D(this._colors + 1);\n    this._greens = createArray1D(this._colors + 1);\n    this._blues = createArray1D(this._colors + 1);\n    this._alphas = createArray1D(this._colors + 1);\n    this._sums = createArray1D(this._colors + 1);\n\n    // scans and adds colors\n    for (let index = 0, l = this._pixels.length; index < l; index++) {\n      const color = this._pixels[index];\n\n      const match = -1;\n\n      let bestMatch = match;\n      let bestDistance = Number.MAX_VALUE;\n\n      for (let lookup = 0; lookup < this._colors; lookup++) {\n        const foundRed = lookupRed[lookup];\n        const foundGreen = lookupGreen[lookup];\n        const foundBlue = lookupBlue[lookup];\n        const foundAlpha = lookupAlpha[lookup];\n\n        const distance = this._distance.calculateRaw(\n          foundRed,\n          foundGreen,\n          foundBlue,\n          foundAlpha,\n          color.r,\n          color.g,\n          color.b,\n          color.a,\n        );\n\n        if (distance < bestDistance) {\n          bestDistance = distance;\n          bestMatch = lookup;\n        }\n      }\n\n      this._reds[bestMatch] += color.r;\n      this._greens[bestMatch] += color.g;\n      this._blues[bestMatch] += color.b;\n      this._alphas[bestMatch] += color.a;\n      this._sums[bestMatch]++;\n    }\n  }\n\n  private _addColor(color: Point) {\n    const bitsToRemove = 8 - this._significantBitsPerChannel;\n    const indexRed = (color.r >> bitsToRemove) + 1;\n    const indexGreen = (color.g >> bitsToRemove) + 1;\n    const indexBlue = (color.b >> bitsToRemove) + 1;\n    const indexAlpha = (color.a >> bitsToRemove) + 1;\n\n    // if(color.a > 10) {\n    this._weights[indexAlpha][indexRed][indexGreen][indexBlue]++;\n    this._momentsRed[indexAlpha][indexRed][indexGreen][indexBlue] += color.r;\n    this._momentsGreen[indexAlpha][indexRed][indexGreen][indexBlue] += color.g;\n    this._momentsBlue[indexAlpha][indexRed][indexGreen][indexBlue] += color.b;\n    this._momentsAlpha[indexAlpha][indexRed][indexGreen][indexBlue] += color.a;\n    this._moments[indexAlpha][indexRed][indexGreen][indexBlue] +=\n      this._table[color.r] +\n      this._table[color.g] +\n      this._table[color.b] +\n      this._table[color.a];\n    // }\n  }\n\n  /**\n   * Converts the histogram to a series of _moments.\n   */\n  private *_calculateMoments(): IterableIterator<PaletteQuantizerYieldValue> {\n    const area: number[] = [];\n    const areaRed: number[] = [];\n    const areaGreen: number[] = [];\n    const areaBlue: number[] = [];\n    const areaAlpha: number[] = [];\n    const area2: number[] = [];\n\n    const xarea = createArray3D(this._sideSize, this._sideSize, this._sideSize);\n    const xareaRed = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xareaGreen = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xareaBlue = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xareaAlpha = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    const xarea2 = createArray3D(\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n\n    let trackerProgress = 0;\n    const tracker = new ProgressTracker(\n      this._alphaMaxSideIndex * this._maxSideIndex,\n      99,\n    );\n\n    for (\n      let alphaIndex = 1;\n      alphaIndex <= this._alphaMaxSideIndex;\n      ++alphaIndex\n    ) {\n      fillArray3D<number>(\n        xarea,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaRed,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaGreen,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaBlue,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xareaAlpha,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n      fillArray3D<number>(\n        xarea2,\n        this._sideSize,\n        this._sideSize,\n        this._sideSize,\n        0,\n      );\n\n      for (\n        let redIndex = 1;\n        redIndex <= this._maxSideIndex;\n        ++redIndex, ++trackerProgress\n      ) {\n        if (tracker.shouldNotify(trackerProgress)) {\n          yield {\n            progress: tracker.progress,\n          };\n        }\n\n        fillArray1D<number>(area, this._sideSize, 0);\n        fillArray1D<number>(areaRed, this._sideSize, 0);\n        fillArray1D<number>(areaGreen, this._sideSize, 0);\n        fillArray1D<number>(areaBlue, this._sideSize, 0);\n        fillArray1D<number>(areaAlpha, this._sideSize, 0);\n        fillArray1D<number>(area2, this._sideSize, 0);\n\n        for (\n          let greenIndex = 1;\n          greenIndex <= this._maxSideIndex;\n          ++greenIndex\n        ) {\n          let line = 0;\n          let lineRed = 0;\n          let lineGreen = 0;\n          let lineBlue = 0;\n          let lineAlpha = 0;\n          let line2 = 0.0;\n\n          for (\n            let blueIndex = 1;\n            blueIndex <= this._maxSideIndex;\n            ++blueIndex\n          ) {\n            line += this._weights[alphaIndex][redIndex][greenIndex][blueIndex];\n            lineRed += this._momentsRed[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            lineGreen += this._momentsGreen[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            lineBlue += this._momentsBlue[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            lineAlpha += this._momentsAlpha[alphaIndex][redIndex][greenIndex][\n              blueIndex\n            ];\n            line2 += this._moments[alphaIndex][redIndex][greenIndex][blueIndex];\n\n            area[blueIndex] += line;\n            areaRed[blueIndex] += lineRed;\n            areaGreen[blueIndex] += lineGreen;\n            areaBlue[blueIndex] += lineBlue;\n            areaAlpha[blueIndex] += lineAlpha;\n            area2[blueIndex] += line2;\n\n            xarea[redIndex][greenIndex][blueIndex] =\n              xarea[redIndex - 1][greenIndex][blueIndex] + area[blueIndex];\n            xareaRed[redIndex][greenIndex][blueIndex] =\n              xareaRed[redIndex - 1][greenIndex][blueIndex] +\n              areaRed[blueIndex];\n            xareaGreen[redIndex][greenIndex][blueIndex] =\n              xareaGreen[redIndex - 1][greenIndex][blueIndex] +\n              areaGreen[blueIndex];\n            xareaBlue[redIndex][greenIndex][blueIndex] =\n              xareaBlue[redIndex - 1][greenIndex][blueIndex] +\n              areaBlue[blueIndex];\n            xareaAlpha[redIndex][greenIndex][blueIndex] =\n              xareaAlpha[redIndex - 1][greenIndex][blueIndex] +\n              areaAlpha[blueIndex];\n            xarea2[redIndex][greenIndex][blueIndex] =\n              xarea2[redIndex - 1][greenIndex][blueIndex] + area2[blueIndex];\n\n            this._weights[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._weights[alphaIndex - 1][redIndex][greenIndex][blueIndex] +\n              xarea[redIndex][greenIndex][blueIndex];\n            this._momentsRed[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsRed[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaRed[redIndex][greenIndex][blueIndex];\n            this._momentsGreen[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsGreen[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaGreen[redIndex][greenIndex][blueIndex];\n            this._momentsBlue[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsBlue[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaBlue[redIndex][greenIndex][blueIndex];\n            this._momentsAlpha[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._momentsAlpha[alphaIndex - 1][redIndex][greenIndex][\n                blueIndex\n              ] + xareaAlpha[redIndex][greenIndex][blueIndex];\n            this._moments[alphaIndex][redIndex][greenIndex][blueIndex] =\n              this._moments[alphaIndex - 1][redIndex][greenIndex][blueIndex] +\n              xarea2[redIndex][greenIndex][blueIndex];\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Computes the volume of the cube in a specific moment.\n   */\n  private static _volumeFloat(cube: WuColorCube, moment: number[][][][]) {\n    return (\n      moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n        cube.blueMaximum\n      ] +\n      moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n        cube.blueMaximum\n      ] +\n      moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n        cube.blueMaximum\n      ] +\n      moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n        cube.blueMaximum\n      ] -\n      moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n        cube.blueMaximum\n      ] -\n      (moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n        cube.blueMinimum\n      ] -\n        moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n          cube.blueMinimum\n        ] -\n        moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n          cube.blueMinimum\n        ] +\n        moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n          cube.blueMinimum\n        ] -\n        moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n          cube.blueMinimum\n        ] +\n        moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n          cube.blueMinimum\n        ] +\n        moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n          cube.blueMinimum\n        ] -\n        moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n          cube.blueMinimum\n        ])\n    );\n  }\n\n  /**\n   * Computes the volume of the cube in a specific moment.\n   */\n  private static _volume(cube: WuColorCube, moment: number[][][][]) {\n    return WuQuant._volumeFloat(cube, moment) | 0;\n  }\n\n  /**\n   * Splits the cube in given position][and color direction.\n   */\n  private static _top(\n    cube: WuColorCube,\n    direction: number,\n    position: number,\n    moment: number[][][][],\n  ) {\n    let result;\n    switch (direction) {\n      case WuQuant._alpha:\n        result =\n          moment[position][cube.redMaximum][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[position][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          moment[position][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[position][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (moment[position][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] -\n            moment[position][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] -\n            moment[position][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] +\n            moment[position][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ]);\n        break;\n\n      case WuQuant._red:\n        result =\n          moment[cube.alphaMaximum][position][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMaximum][position][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][position][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][position][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (moment[cube.alphaMaximum][position][cube.greenMaximum][\n            cube.blueMinimum\n          ] -\n            moment[cube.alphaMaximum][position][cube.greenMinimum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][position][cube.greenMaximum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][position][cube.greenMinimum][\n              cube.blueMinimum\n            ]);\n        break;\n\n      case WuQuant._green:\n        result =\n          moment[cube.alphaMaximum][cube.redMaximum][position][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMaximum][cube.redMinimum][position][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMaximum][position][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMinimum][position][\n            cube.blueMaximum\n          ] -\n          (moment[cube.alphaMaximum][cube.redMaximum][position][\n            cube.blueMinimum\n          ] -\n            moment[cube.alphaMaximum][cube.redMinimum][position][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMaximum][position][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][position][\n              cube.blueMinimum\n            ]);\n        break;\n\n      case WuQuant._blue:\n        result =\n          moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n            position\n          ] -\n          moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            position\n          ] -\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            position\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            position\n          ] -\n          (moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            position\n          ] -\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              position\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              position\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              position\n            ]);\n        break;\n      default:\n        throw new Error('impossible');\n    }\n\n    return result | 0;\n  }\n\n  /**\n   * Splits the cube in a given color direction at its minimum.\n   */\n  private static _bottom(\n    cube: WuColorCube,\n    direction: number,\n    moment: number[][][][],\n  ) {\n    switch (direction) {\n      case WuQuant._alpha:\n        return (\n          -moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (-moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      case WuQuant._red:\n        return (\n          -moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (-moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      case WuQuant._green:\n        return (\n          -moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] +\n          moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMaximum\n          ] -\n          (-moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      case WuQuant._blue:\n        return (\n          -moment[cube.alphaMaximum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n          moment[cube.alphaMaximum][cube.redMaximum][cube.greenMinimum][\n            cube.blueMinimum\n          ] +\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMaximum][\n            cube.blueMinimum\n          ] -\n          moment[cube.alphaMaximum][cube.redMinimum][cube.greenMinimum][\n            cube.blueMinimum\n          ] -\n          (-moment[cube.alphaMinimum][cube.redMaximum][cube.greenMaximum][\n            cube.blueMinimum\n          ] +\n            moment[cube.alphaMinimum][cube.redMaximum][cube.greenMinimum][\n              cube.blueMinimum\n            ] +\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMaximum][\n              cube.blueMinimum\n            ] -\n            moment[cube.alphaMinimum][cube.redMinimum][cube.greenMinimum][\n              cube.blueMinimum\n            ])\n        );\n\n      default:\n        // TODO: why here is return 0, and in this._top there is no default at all (now it is throw error)?\n        return 0;\n    }\n  }\n\n  /**\n   * Calculates statistical variance for a given cube.\n   */\n  private _calculateVariance(cube: WuColorCube) {\n    const volumeRed = WuQuant._volume(cube, this._momentsRed);\n    const volumeGreen = WuQuant._volume(cube, this._momentsGreen);\n    const volumeBlue = WuQuant._volume(cube, this._momentsBlue);\n    const volumeAlpha = WuQuant._volume(cube, this._momentsAlpha);\n    const volumeMoment = WuQuant._volumeFloat(cube, this._moments);\n    const volumeWeight = WuQuant._volume(cube, this._weights);\n    const distance =\n      volumeRed * volumeRed +\n      volumeGreen * volumeGreen +\n      volumeBlue * volumeBlue +\n      volumeAlpha * volumeAlpha;\n\n    return volumeMoment - distance / volumeWeight;\n  }\n\n  /**\n   * Finds the optimal (maximal) position for the cut.\n   */\n  private _maximize(\n    cube: WuColorCube,\n    direction: number,\n    first: number,\n    last: number,\n    wholeRed: number,\n    wholeGreen: number,\n    wholeBlue: number,\n    wholeAlpha: number,\n    wholeWeight: number,\n  ) {\n    const bottomRed = WuQuant._bottom(cube, direction, this._momentsRed) | 0;\n    const bottomGreen =\n      WuQuant._bottom(cube, direction, this._momentsGreen) | 0;\n    const bottomBlue = WuQuant._bottom(cube, direction, this._momentsBlue) | 0;\n    const bottomAlpha =\n      WuQuant._bottom(cube, direction, this._momentsAlpha) | 0;\n    const bottomWeight = WuQuant._bottom(cube, direction, this._weights) | 0;\n\n    let result = 0.0;\n    let cutPosition = -1;\n\n    for (let position = first; position < last; ++position) {\n      // determines the cube cut at a certain position\n      let halfRed =\n        bottomRed + WuQuant._top(cube, direction, position, this._momentsRed);\n      let halfGreen =\n        bottomGreen +\n        WuQuant._top(cube, direction, position, this._momentsGreen);\n      let halfBlue =\n        bottomBlue + WuQuant._top(cube, direction, position, this._momentsBlue);\n      let halfAlpha =\n        bottomAlpha +\n        WuQuant._top(cube, direction, position, this._momentsAlpha);\n      let halfWeight =\n        bottomWeight + WuQuant._top(cube, direction, position, this._weights);\n\n      // the cube cannot be cut at bottom (this would lead to empty cube)\n      if (halfWeight !== 0) {\n        let halfDistance =\n          halfRed * halfRed +\n          halfGreen * halfGreen +\n          halfBlue * halfBlue +\n          halfAlpha * halfAlpha;\n        let temp = halfDistance / halfWeight;\n\n        halfRed = wholeRed - halfRed;\n        halfGreen = wholeGreen - halfGreen;\n        halfBlue = wholeBlue - halfBlue;\n        halfAlpha = wholeAlpha - halfAlpha;\n        halfWeight = wholeWeight - halfWeight;\n\n        if (halfWeight !== 0) {\n          halfDistance =\n            halfRed * halfRed +\n            halfGreen * halfGreen +\n            halfBlue * halfBlue +\n            halfAlpha * halfAlpha;\n          temp += halfDistance / halfWeight;\n\n          if (temp > result) {\n            result = temp;\n            cutPosition = position;\n          }\n        }\n      }\n    }\n\n    return { max: result, position: cutPosition };\n  }\n\n  // Cuts a cube with another one.\n  private _cut(first: WuColorCube, second: WuColorCube) {\n    let direction;\n\n    const wholeRed = WuQuant._volume(first, this._momentsRed);\n    const wholeGreen = WuQuant._volume(first, this._momentsGreen);\n    const wholeBlue = WuQuant._volume(first, this._momentsBlue);\n    const wholeAlpha = WuQuant._volume(first, this._momentsAlpha);\n    const wholeWeight = WuQuant._volume(first, this._weights);\n\n    const red = this._maximize(\n      first,\n      WuQuant._red,\n      first.redMinimum + 1,\n      first.redMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n    const green = this._maximize(\n      first,\n      WuQuant._green,\n      first.greenMinimum + 1,\n      first.greenMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n    const blue = this._maximize(\n      first,\n      WuQuant._blue,\n      first.blueMinimum + 1,\n      first.blueMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n    const alpha = this._maximize(\n      first,\n      WuQuant._alpha,\n      first.alphaMinimum + 1,\n      first.alphaMaximum,\n      wholeRed,\n      wholeGreen,\n      wholeBlue,\n      wholeAlpha,\n      wholeWeight,\n    );\n\n    if (\n      alpha.max >= red.max &&\n      alpha.max >= green.max &&\n      alpha.max >= blue.max\n    ) {\n      direction = WuQuant._alpha;\n\n      // cannot split empty cube\n      if (alpha.position < 0) return false;\n    } else if (\n      red.max >= alpha.max &&\n      red.max >= green.max &&\n      red.max >= blue.max\n    ) {\n      direction = WuQuant._red;\n    } else if (\n      green.max >= alpha.max &&\n      green.max >= red.max &&\n      green.max >= blue.max\n    ) {\n      direction = WuQuant._green;\n    } else {\n      direction = WuQuant._blue;\n    }\n\n    second.redMaximum = first.redMaximum;\n    second.greenMaximum = first.greenMaximum;\n    second.blueMaximum = first.blueMaximum;\n    second.alphaMaximum = first.alphaMaximum;\n\n    // cuts in a certain direction\n    // eslint-disable-next-line default-case\n    switch (direction) {\n      case WuQuant._red:\n        second.redMinimum = first.redMaximum = red.position;\n        second.greenMinimum = first.greenMinimum;\n        second.blueMinimum = first.blueMinimum;\n        second.alphaMinimum = first.alphaMinimum;\n        break;\n\n      case WuQuant._green:\n        second.greenMinimum = first.greenMaximum = green.position;\n        second.redMinimum = first.redMinimum;\n        second.blueMinimum = first.blueMinimum;\n        second.alphaMinimum = first.alphaMinimum;\n        break;\n\n      case WuQuant._blue:\n        second.blueMinimum = first.blueMaximum = blue.position;\n        second.redMinimum = first.redMinimum;\n        second.greenMinimum = first.greenMinimum;\n        second.alphaMinimum = first.alphaMinimum;\n        break;\n\n      case WuQuant._alpha:\n        second.alphaMinimum = first.alphaMaximum = alpha.position;\n        second.blueMinimum = first.blueMinimum;\n        second.redMinimum = first.redMinimum;\n        second.greenMinimum = first.greenMinimum;\n        break;\n    }\n\n    // determines the volumes after cut\n    first.volume =\n      (first.redMaximum - first.redMinimum) *\n      (first.greenMaximum - first.greenMinimum) *\n      (first.blueMaximum - first.blueMinimum) *\n      (first.alphaMaximum - first.alphaMinimum);\n    second.volume =\n      (second.redMaximum - second.redMinimum) *\n      (second.greenMaximum - second.greenMinimum) *\n      (second.blueMaximum - second.blueMinimum) *\n      (second.alphaMaximum - second.alphaMinimum);\n\n    // the cut was successful\n    return true;\n  }\n\n  private _initialize(colors: number) {\n    this._colors = colors;\n\n    // creates all the _cubes\n    this._cubes = [];\n\n    // initializes all the _cubes\n    for (let cubeIndex = 0; cubeIndex < colors; cubeIndex++) {\n      this._cubes[cubeIndex] = new WuColorCube();\n    }\n\n    // resets the reference minimums\n    this._cubes[0].redMinimum = 0;\n    this._cubes[0].greenMinimum = 0;\n    this._cubes[0].blueMinimum = 0;\n    this._cubes[0].alphaMinimum = 0;\n\n    // resets the reference maximums\n    this._cubes[0].redMaximum = this._maxSideIndex;\n    this._cubes[0].greenMaximum = this._maxSideIndex;\n    this._cubes[0].blueMaximum = this._maxSideIndex;\n    this._cubes[0].alphaMaximum = this._alphaMaxSideIndex;\n\n    this._weights = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsRed = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsGreen = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsBlue = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._momentsAlpha = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n    this._moments = createArray4D(\n      this._alphaSideSize,\n      this._sideSize,\n      this._sideSize,\n      this._sideSize,\n    );\n\n    this._table = [];\n    for (let tableIndex = 0; tableIndex < 256; ++tableIndex) {\n      this._table[tableIndex] = tableIndex * tableIndex;\n    }\n\n    this._pixels = [];\n  }\n\n  private _setQuality(significantBitsPerChannel = 5) {\n    this._significantBitsPerChannel = significantBitsPerChannel;\n    this._maxSideIndex = 1 << this._significantBitsPerChannel;\n    this._alphaMaxSideIndex = this._maxSideIndex;\n\n    this._sideSize = this._maxSideIndex + 1;\n    this._alphaSideSize = this._alphaMaxSideIndex + 1;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * common.ts - part of Image Quantization Library\n */\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { ImageQuantizerYieldValue } from './imageQuantizerYieldValue';\n\nexport abstract class AbstractImageQuantizer {\n  abstract quantize(\n    pointContainer: PointContainer,\n    palette: Palette,\n  ): IterableIterator<ImageQuantizerYieldValue>;\n\n  quantizeSync(pointContainer: PointContainer, palette: Palette) {\n    for (const value of this.quantize(pointContainer, palette)) {\n      if (value.pointContainer) {\n        return value.pointContainer;\n      }\n    }\n\n    throw new Error('unreachable');\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * nearestColor.ts - part of Image Quantization Library\n */\nimport { AbstractImageQuantizer } from './imageQuantizer';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { ImageQuantizerYieldValue } from './imageQuantizerYieldValue';\nimport { ProgressTracker } from '../utils/progressTracker';\n\nexport class NearestColor extends AbstractImageQuantizer {\n  private _distance: AbstractDistanceCalculator;\n\n  constructor(colorDistanceCalculator: AbstractDistanceCalculator) {\n    super();\n    this._distance = colorDistanceCalculator;\n  }\n\n  /**\n   * Mutates pointContainer\n   */\n  *quantize(\n    pointContainer: PointContainer,\n    palette: Palette,\n  ): IterableIterator<ImageQuantizerYieldValue> {\n    const pointArray = pointContainer.getPointArray();\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n\n    const tracker = new ProgressTracker(height, 99);\n    for (let y = 0; y < height; y++) {\n      if (tracker.shouldNotify(y)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n      for (let x = 0, idx = y * width; x < width; x++, idx++) {\n        // Image pixel\n        const point = pointArray[idx];\n        // Reduced pixel\n        point.from(palette.getNearestColor(this._distance, point));\n      }\n    }\n\n    yield {\n      pointContainer,\n      progress: 100,\n    };\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * ditherErrorDiffusionArray.ts - part of Image Quantization Library\n */\nimport { AbstractImageQuantizer } from './imageQuantizer';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { Point } from '../utils/point';\nimport { inRange0to255Rounded } from '../utils/arithmetic';\nimport { ImageQuantizerYieldValue } from './imageQuantizerYieldValue';\nimport { ProgressTracker } from '../utils/progressTracker';\n\n// TODO: is it the best name for this enum \"kernel\"?\nexport enum ErrorDiffusionArrayKernel {\n  FloydSteinberg = 0,\n  FalseFloydSteinberg,\n  Stucki,\n  Atkinson,\n  Jarvis,\n  Burkes,\n  Sierra,\n  TwoSierra,\n  SierraLite,\n}\n\n// http://www.tannerhelland.com/4660/dithering-eleven-algorithms-source-code/\nexport class ErrorDiffusionArray extends AbstractImageQuantizer {\n  private _minColorDistance: number;\n  private _serpentine: boolean;\n  private _kernel!: number[][];\n  /** true = GIMP, false = XNVIEW */\n  private _calculateErrorLikeGIMP: boolean;\n\n  private _distance: AbstractDistanceCalculator;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    kernel: ErrorDiffusionArrayKernel,\n    serpentine = true,\n    minimumColorDistanceToDither = 0,\n    calculateErrorLikeGIMP = false,\n  ) {\n    super();\n    this._setKernel(kernel);\n\n    this._distance = colorDistanceCalculator;\n    this._minColorDistance = minimumColorDistanceToDither;\n    this._serpentine = serpentine;\n    this._calculateErrorLikeGIMP = calculateErrorLikeGIMP;\n  }\n\n  /**\n   * adapted from http://jsbin.com/iXofIji/2/edit by PAEz\n   * fixed version. it doesn't use image pixels as error storage, also it doesn't have 0.3 + 0.3 + 0.3 + 0.3 = 0 error\n   * Mutates pointContainer\n   */\n  *quantize(\n    pointContainer: PointContainer,\n    palette: Palette,\n  ): IterableIterator<ImageQuantizerYieldValue> {\n    const pointArray = pointContainer.getPointArray();\n    const originalPoint = new Point();\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n    const errorLines: number[][][] = [];\n\n    let dir = 1;\n    let maxErrorLines = 1;\n\n    // initial error lines (number is taken from dithering kernel)\n    for (const kernel of this._kernel) {\n      const kernelErrorLines = kernel[2] + 1;\n      if (maxErrorLines < kernelErrorLines) maxErrorLines = kernelErrorLines;\n    }\n    for (let i = 0; i < maxErrorLines; i++) {\n      this._fillErrorLine((errorLines[i] = []), width);\n    }\n\n    const tracker = new ProgressTracker(height, 99);\n    for (let y = 0; y < height; y++) {\n      if (tracker.shouldNotify(y)) {\n        yield {\n          progress: tracker.progress,\n        };\n      }\n\n      // always serpentine\n      if (this._serpentine) dir *= -1;\n\n      const lni = y * width;\n      const xStart = dir === 1 ? 0 : width - 1;\n      const xEnd = dir === 1 ? width : -1;\n\n      // cyclic shift with erasing\n      this._fillErrorLine(errorLines[0], width);\n      // TODO: why it is needed to cast types here?\n      errorLines.push(errorLines.shift() as number[][]);\n\n      const errorLine = errorLines[0];\n      for (\n        let x = xStart, idx = lni + xStart;\n        x !== xEnd;\n        x += dir, idx += dir\n      ) {\n        // Image pixel\n        const point = pointArray[idx];\n        // originalPoint = new Utils.Point(),\n        const error = errorLine[x];\n\n        originalPoint.from(point);\n\n        const correctedPoint = Point.createByRGBA(\n          inRange0to255Rounded(point.r + error[0]),\n          inRange0to255Rounded(point.g + error[1]),\n          inRange0to255Rounded(point.b + error[2]),\n          inRange0to255Rounded(point.a + error[3]),\n        );\n\n        // Reduced pixel\n        const palettePoint = palette.getNearestColor(\n          this._distance,\n          correctedPoint,\n        );\n        point.from(palettePoint);\n\n        // dithering strength\n        if (this._minColorDistance) {\n          const dist = this._distance.calculateNormalized(point, palettePoint);\n          if (dist < this._minColorDistance) continue;\n        }\n\n        // Component distance\n        let er;\n        let eg;\n        let eb;\n        let ea;\n        if (this._calculateErrorLikeGIMP) {\n          er = correctedPoint.r - palettePoint.r;\n          eg = correctedPoint.g - palettePoint.g;\n          eb = correctedPoint.b - palettePoint.b;\n          ea = correctedPoint.a - palettePoint.a;\n        } else {\n          er = originalPoint.r - palettePoint.r;\n          eg = originalPoint.g - palettePoint.g;\n          eb = originalPoint.b - palettePoint.b;\n          ea = originalPoint.a - palettePoint.a;\n        }\n\n        const dStart = dir === 1 ? 0 : this._kernel.length - 1;\n        const dEnd = dir === 1 ? this._kernel.length : -1;\n\n        for (let i = dStart; i !== dEnd; i += dir) {\n          const x1 = this._kernel[i][1] * dir;\n          const y1 = this._kernel[i][2];\n\n          if (x1 + x >= 0 && x1 + x < width && y1 + y >= 0 && y1 + y < height) {\n            const d = this._kernel[i][0];\n            const e = errorLines[y1][x1 + x];\n\n            e[0] += er * d;\n            e[1] += eg * d;\n            e[2] += eb * d;\n            e[3] += ea * d;\n          }\n        }\n      }\n    }\n\n    yield {\n      pointContainer,\n      progress: 100,\n    };\n  }\n\n  private _fillErrorLine(errorLine: number[][], width: number) {\n    // shrink\n    if (errorLine.length > width) {\n      errorLine.length = width;\n    }\n\n    // reuse existing arrays\n    const l = errorLine.length;\n    for (let i = 0; i < l; i++) {\n      const error = errorLine[i];\n      error[0] = error[1] = error[2] = error[3] = 0;\n    }\n\n    // create missing arrays\n    for (let i = l; i < width; i++) {\n      errorLine[i] = [0.0, 0.0, 0.0, 0.0];\n    }\n  }\n\n  private _setKernel(kernel: ErrorDiffusionArrayKernel) {\n    switch (kernel) {\n      case ErrorDiffusionArrayKernel.FloydSteinberg:\n        this._kernel = [\n          [7 / 16, 1, 0],\n          [3 / 16, -1, 1],\n          [5 / 16, 0, 1],\n          [1 / 16, 1, 1],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.FalseFloydSteinberg:\n        this._kernel = [[3 / 8, 1, 0], [3 / 8, 0, 1], [2 / 8, 1, 1]];\n        break;\n\n      case ErrorDiffusionArrayKernel.Stucki:\n        this._kernel = [\n          [8 / 42, 1, 0],\n          [4 / 42, 2, 0],\n          [2 / 42, -2, 1],\n          [4 / 42, -1, 1],\n          [8 / 42, 0, 1],\n          [4 / 42, 1, 1],\n          [2 / 42, 2, 1],\n          [1 / 42, -2, 2],\n          [2 / 42, -1, 2],\n          [4 / 42, 0, 2],\n          [2 / 42, 1, 2],\n          [1 / 42, 2, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Atkinson:\n        this._kernel = [\n          [1 / 8, 1, 0],\n          [1 / 8, 2, 0],\n          [1 / 8, -1, 1],\n          [1 / 8, 0, 1],\n          [1 / 8, 1, 1],\n          [1 / 8, 0, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Jarvis:\n        this._kernel = [\n          // Jarvis, Judice, and Ninke / JJN?\n          [7 / 48, 1, 0],\n          [5 / 48, 2, 0],\n          [3 / 48, -2, 1],\n          [5 / 48, -1, 1],\n          [7 / 48, 0, 1],\n          [5 / 48, 1, 1],\n          [3 / 48, 2, 1],\n          [1 / 48, -2, 2],\n          [3 / 48, -1, 2],\n          [5 / 48, 0, 2],\n          [3 / 48, 1, 2],\n          [1 / 48, 2, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Burkes:\n        this._kernel = [\n          [8 / 32, 1, 0],\n          [4 / 32, 2, 0],\n          [2 / 32, -2, 1],\n          [4 / 32, -1, 1],\n          [8 / 32, 0, 1],\n          [4 / 32, 1, 1],\n          [2 / 32, 2, 1],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.Sierra:\n        this._kernel = [\n          [5 / 32, 1, 0],\n          [3 / 32, 2, 0],\n          [2 / 32, -2, 1],\n          [4 / 32, -1, 1],\n          [5 / 32, 0, 1],\n          [4 / 32, 1, 1],\n          [2 / 32, 2, 1],\n          [2 / 32, -1, 2],\n          [3 / 32, 0, 2],\n          [2 / 32, 1, 2],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.TwoSierra:\n        this._kernel = [\n          [4 / 16, 1, 0],\n          [3 / 16, 2, 0],\n          [1 / 16, -2, 1],\n          [2 / 16, -1, 1],\n          [3 / 16, 0, 1],\n          [2 / 16, 1, 1],\n          [1 / 16, 2, 1],\n        ];\n        break;\n\n      case ErrorDiffusionArrayKernel.SierraLite:\n        this._kernel = [[2 / 4, 1, 0], [1 / 4, -1, 1], [1 / 4, 0, 1]];\n        break;\n\n      default:\n        throw new Error(`ErrorDiffusionArray: unknown kernel = ${kernel}`);\n    }\n  }\n}\n","/**\n * @preserve\n * MIT License\n *\n * Copyright 2015-2018 Igor Bezkrovnyi\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n * riemersma.ts - part of Image Quantization Library\n */\nimport { AbstractImageQuantizer } from './imageQuantizer';\nimport { hilbertCurve } from './spaceFillingCurves/hilbertCurve';\nimport { AbstractDistanceCalculator } from '../distance/distanceCalculator';\nimport { PointContainer } from '../utils/pointContainer';\nimport { Palette } from '../utils/palette';\nimport { Point } from '../utils/point';\nimport { inRange0to255Rounded } from '../utils/arithmetic';\n\nexport class ErrorDiffusionRiemersma extends AbstractImageQuantizer {\n  private _distance: AbstractDistanceCalculator;\n  private _weights: number[];\n  private _errorQueueSize: number;\n\n  constructor(\n    colorDistanceCalculator: AbstractDistanceCalculator,\n    errorQueueSize = 16,\n    errorPropagation = 1,\n  ) {\n    super();\n    this._distance = colorDistanceCalculator;\n    this._errorQueueSize = errorQueueSize;\n    this._weights = ErrorDiffusionRiemersma._createWeights(\n      errorPropagation,\n      errorQueueSize,\n    );\n  }\n\n  /**\n   * Mutates pointContainer\n   */\n  *quantize(pointContainer: PointContainer, palette: Palette) {\n    const pointArray = pointContainer.getPointArray();\n    const width = pointContainer.getWidth();\n    const height = pointContainer.getHeight();\n    const errorQueue: Array<{\n      r: number;\n      g: number;\n      b: number;\n      a: number;\n    }> = [];\n\n    let head = 0;\n\n    for (let i = 0; i < this._errorQueueSize; i++) {\n      errorQueue[i] = { r: 0, g: 0, b: 0, a: 0 };\n    }\n\n    yield* hilbertCurve(width, height, (x, y) => {\n      const p = pointArray[x + y * width];\n      let { r, g, b, a } = p;\n      for (let i = 0; i < this._errorQueueSize; i++) {\n        const weight = this._weights[i];\n        const e = errorQueue[(i + head) % this._errorQueueSize];\n\n        r += e.r * weight;\n        g += e.g * weight;\n        b += e.b * weight;\n        a += e.a * weight;\n      }\n\n      const correctedPoint = Point.createByRGBA(\n        inRange0to255Rounded(r),\n        inRange0to255Rounded(g),\n        inRange0to255Rounded(b),\n        inRange0to255Rounded(a),\n      );\n\n      const quantizedPoint = palette.getNearestColor(\n        this._distance,\n        correctedPoint,\n      );\n\n      // update head and calculate tail\n      head = (head + 1) % this._errorQueueSize;\n      const tail = (head + this._errorQueueSize - 1) % this._errorQueueSize;\n\n      // update error with new value\n      errorQueue[tail].r = p.r - quantizedPoint.r;\n      errorQueue[tail].g = p.g - quantizedPoint.g;\n      errorQueue[tail].b = p.b - quantizedPoint.b;\n      errorQueue[tail].a = p.a - quantizedPoint.a;\n\n      // update point\n      p.from(quantizedPoint);\n    });\n\n    yield {\n      pointContainer,\n      progress: 100,\n    };\n  }\n\n  private static _createWeights(\n    errorPropagation: number,\n    errorQueueSize: number,\n  ) {\n    const weights = [];\n\n    const multiplier = Math.exp(\n      Math.log(errorQueueSize) / (errorQueueSize - 1),\n    );\n    for (let i = 0, next = 1; i < errorQueueSize; i++) {\n      weights[i] = (((next + 0.5) | 0) / errorQueueSize) * errorPropagation;\n      next *= multiplier;\n    }\n\n    return weights;\n  }\n}\n","import { ProgressTracker } from '../../utils/progressTracker';\nimport { ImageQuantizerYieldValue } from '../imageQuantizerYieldValue';\n\nenum Direction {\n  NONE = 0,\n  UP,\n  LEFT,\n  RIGHT,\n  DOWN,\n}\n\ninterface Data {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  level: number;\n  index: number;\n  tracker: ProgressTracker;\n  callback(x: number, y: number): void;\n}\n\nexport function* hilbertCurve(\n  width: number,\n  height: number,\n  callback: (x: number, y: number) => void,\n) {\n  const maxBound = Math.max(width, height);\n  const level = Math.floor(Math.log(maxBound) / Math.log(2) + 1);\n  const tracker = new ProgressTracker(width * height, 99);\n  const data = {\n    width,\n    height,\n    level,\n    callback,\n    tracker,\n    index: 0,\n    x: 0,\n    y: 0,\n  };\n  yield* walkHilbert(data, Direction.UP);\n  visit(data, Direction.NONE);\n}\n\nfunction* walkHilbert(\n  data: Data,\n  direction: Direction,\n): IterableIterator<ImageQuantizerYieldValue> {\n  if (data.level < 1) return;\n\n  if (data.tracker.shouldNotify(data.index)) {\n    yield { progress: data.tracker.progress };\n  }\n  data.level--;\n  switch (direction) {\n    case Direction.LEFT:\n      yield* walkHilbert(data, Direction.UP);\n      visit(data, Direction.RIGHT);\n      yield* walkHilbert(data, Direction.LEFT);\n      visit(data, Direction.DOWN);\n      yield* walkHilbert(data, Direction.LEFT);\n      visit(data, Direction.LEFT);\n      yield* walkHilbert(data, Direction.DOWN);\n      break;\n\n    case Direction.RIGHT:\n      yield* walkHilbert(data, Direction.DOWN);\n      visit(data, Direction.LEFT);\n      yield* walkHilbert(data, Direction.RIGHT);\n      visit(data, Direction.UP);\n      yield* walkHilbert(data, Direction.RIGHT);\n      visit(data, Direction.RIGHT);\n      yield* walkHilbert(data, Direction.UP);\n      break;\n\n    case Direction.UP:\n      yield* walkHilbert(data, Direction.LEFT);\n      visit(data, Direction.DOWN);\n      yield* walkHilbert(data, Direction.UP);\n      visit(data, Direction.RIGHT);\n      yield* walkHilbert(data, Direction.UP);\n      visit(data, Direction.UP);\n      yield* walkHilbert(data, Direction.RIGHT);\n      break;\n\n    case Direction.DOWN:\n      yield* walkHilbert(data, Direction.RIGHT);\n      visit(data, Direction.UP);\n      yield* walkHilbert(data, Direction.DOWN);\n      visit(data, Direction.LEFT);\n      yield* walkHilbert(data, Direction.DOWN);\n      visit(data, Direction.DOWN);\n      yield* walkHilbert(data, Direction.LEFT);\n      break;\n\n    default:\n      break;\n  }\n  data.level++;\n}\n\nfunction visit(data: Data, direction: Direction) {\n  if (\n    data.x >= 0 &&\n    data.x < data.width &&\n    data.y >= 0 &&\n    data.y < data.height\n  ) {\n    data.callback(data.x, data.y);\n    data.index++;\n  }\n  // eslint-disable-next-line default-case\n  switch (direction) {\n    case Direction.LEFT:\n      data.x--;\n      break;\n    case Direction.RIGHT:\n      data.x++;\n      break;\n    case Direction.UP:\n      data.y--;\n      break;\n    case Direction.DOWN:\n      data.y++;\n      break;\n  }\n}\n","/**\n * @preserve\n * Copyright 2015-2018 Igor Bezkrovnyi\n * All rights reserved. (MIT Licensed)\n *\n * helper.ts - part of Image Quantization Library\n */\nimport 'setimmediate';\nimport * as distance from './distance';\nimport * as image from './image';\nimport * as palette from './palette';\nimport { AbstractDistanceCalculator } from './distance/distanceCalculator';\nimport { PointContainer } from './utils/pointContainer';\nimport { Palette } from './utils/palette';\n\nexport type ColorDistanceFormula =\n  | 'cie94-textiles'\n  | 'cie94-graphic-arts'\n  | 'ciede2000'\n  | 'color-metric'\n  | 'euclidean'\n  | 'euclidean-bt709-noalpha'\n  | 'euclidean-bt709'\n  | 'manhattan'\n  | 'manhattan-bt709'\n  | 'manhattan-nommyde'\n  | 'pngquant';\n\nexport type PaletteQuantization =\n  | 'neuquant'\n  | 'neuquant-float'\n  | 'rgbquant'\n  | 'wuquant';\n\nexport type ImageQuantization =\n  | 'nearest'\n  | 'riemersma'\n  | 'floyd-steinberg'\n  | 'false-floyd-steinberg'\n  | 'stucki'\n  | 'atkinson'\n  | 'jarvis'\n  | 'burkes'\n  | 'sierra'\n  | 'two-sierra'\n  | 'sierra-lite';\n\nexport interface ProgressOptions {\n  onProgress?: (progress: number) => void;\n}\n\nexport interface ApplyPaletteOptions {\n  colorDistanceFormula?: ColorDistanceFormula;\n  imageQuantization?: ImageQuantization;\n}\n\nexport interface BuildPaletteOptions {\n  colorDistanceFormula?: ColorDistanceFormula;\n  paletteQuantization?: PaletteQuantization;\n  colors?: number;\n}\n\nexport function buildPaletteSync(\n  images: PointContainer[],\n  {\n    colorDistanceFormula,\n    paletteQuantization,\n    colors,\n  }: BuildPaletteOptions = {},\n) {\n  const distanceCalculator = colorDistanceFormulaToColorDistance(\n    colorDistanceFormula,\n  );\n  const paletteQuantizer = paletteQuantizationToPaletteQuantizer(\n    distanceCalculator,\n    paletteQuantization,\n    colors,\n  );\n  images.forEach(image => paletteQuantizer.sample(image));\n  return paletteQuantizer.quantizeSync();\n}\n\nexport async function buildPalette(\n  images: PointContainer[],\n  {\n    colorDistanceFormula,\n    paletteQuantization,\n    colors,\n    onProgress,\n  }: BuildPaletteOptions & ProgressOptions = {},\n) {\n  return new Promise<Palette>((resolve, reject) => {\n    const distanceCalculator = colorDistanceFormulaToColorDistance(\n      colorDistanceFormula,\n    );\n    const paletteQuantizer = paletteQuantizationToPaletteQuantizer(\n      distanceCalculator,\n      paletteQuantization,\n      colors,\n    );\n    images.forEach(image => paletteQuantizer.sample(image));\n\n    let palette: Palette;\n    let timerId: NodeJS.Immediate;\n    const iterator = paletteQuantizer.quantize();\n    const next = () => {\n      try {\n        const result = iterator.next();\n        if (result.done) {\n          resolve(palette);\n        } else {\n          if (result.value.palette) palette = result.value.palette;\n          if (onProgress) onProgress(result.value.progress);\n          timerId = setImmediate(next);\n        }\n      } catch (error) {\n        clearImmediate(timerId);\n        reject(error);\n      }\n    };\n    timerId = setImmediate(next);\n  });\n}\n\nexport function applyPaletteSync(\n  image: PointContainer,\n  palette: Palette,\n  { colorDistanceFormula, imageQuantization }: ApplyPaletteOptions = {},\n) {\n  const distanceCalculator = colorDistanceFormulaToColorDistance(\n    colorDistanceFormula,\n  );\n  const imageQuantizer = imageQuantizationToImageQuantizer(\n    distanceCalculator,\n    imageQuantization,\n  );\n  return imageQuantizer.quantizeSync(image, palette);\n}\n\nexport async function applyPalette(\n  image: PointContainer,\n  palette: Palette,\n  {\n    colorDistanceFormula,\n    imageQuantization,\n    onProgress,\n  }: ApplyPaletteOptions & ProgressOptions = {},\n) {\n  return new Promise<PointContainer>((resolve, reject) => {\n    const distanceCalculator = colorDistanceFormulaToColorDistance(\n      colorDistanceFormula,\n    );\n    const imageQuantizer = imageQuantizationToImageQuantizer(\n      distanceCalculator,\n      imageQuantization,\n    );\n\n    let outPointContainer: PointContainer;\n    let timerId: NodeJS.Immediate;\n    const iterator = imageQuantizer.quantize(image, palette);\n    const next = () => {\n      try {\n        const result = iterator.next();\n        if (result.done) {\n          resolve(outPointContainer);\n        } else {\n          if (result.value.pointContainer) {\n            outPointContainer = result.value.pointContainer;\n          }\n          if (onProgress) onProgress(result.value.progress);\n          timerId = setImmediate(next);\n        }\n      } catch (error) {\n        clearImmediate(timerId);\n        reject(error);\n      }\n    };\n    timerId = setImmediate(next);\n  });\n}\n\nfunction colorDistanceFormulaToColorDistance(\n  colorDistanceFormula: ColorDistanceFormula = 'euclidean-bt709',\n) {\n  switch (colorDistanceFormula) {\n    case 'cie94-graphic-arts':\n      return new distance.CIE94GraphicArts();\n    case 'cie94-textiles':\n      return new distance.CIE94Textiles();\n    case 'ciede2000':\n      return new distance.CIEDE2000();\n    case 'color-metric':\n      return new distance.CMetric();\n    case 'euclidean':\n      return new distance.Euclidean();\n    case 'euclidean-bt709':\n      return new distance.EuclideanBT709();\n    case 'euclidean-bt709-noalpha':\n      return new distance.EuclideanBT709NoAlpha();\n    case 'manhattan':\n      return new distance.Manhattan();\n    case 'manhattan-bt709':\n      return new distance.ManhattanBT709();\n    case 'manhattan-nommyde':\n      return new distance.ManhattanNommyde();\n    case 'pngquant':\n      return new distance.PNGQuant();\n    default:\n      throw new Error(`Unknown colorDistanceFormula ${colorDistanceFormula}`);\n  }\n}\n\nfunction imageQuantizationToImageQuantizer(\n  distanceCalculator: AbstractDistanceCalculator,\n  imageQuantization: ImageQuantization = 'floyd-steinberg',\n) {\n  switch (imageQuantization) {\n    case 'nearest':\n      return new image.NearestColor(distanceCalculator);\n    case 'riemersma':\n      return new image.ErrorDiffusionRiemersma(distanceCalculator);\n    case 'floyd-steinberg':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.FloydSteinberg,\n      );\n    case 'false-floyd-steinberg':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.FalseFloydSteinberg,\n      );\n    case 'stucki':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Stucki,\n      );\n    case 'atkinson':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Atkinson,\n      );\n    case 'jarvis':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Jarvis,\n      );\n    case 'burkes':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Burkes,\n      );\n    case 'sierra':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.Sierra,\n      );\n    case 'two-sierra':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.TwoSierra,\n      );\n    case 'sierra-lite':\n      return new image.ErrorDiffusionArray(\n        distanceCalculator,\n        image.ErrorDiffusionArrayKernel.SierraLite,\n      );\n    default:\n      throw new Error(`Unknown imageQuantization ${imageQuantization}`);\n  }\n}\n\nfunction paletteQuantizationToPaletteQuantizer(\n  distanceCalculator: AbstractDistanceCalculator,\n  paletteQuantization: PaletteQuantization = 'wuquant',\n  colors = 256,\n) {\n  switch (paletteQuantization) {\n    case 'neuquant':\n      return new palette.NeuQuant(distanceCalculator, colors);\n    case 'rgbquant':\n      return new palette.RGBQuant(distanceCalculator, colors);\n    case 'wuquant':\n      return new palette.WuQuant(distanceCalculator, colors);\n    case 'neuquant-float':\n      return new palette.NeuQuantFloat(distanceCalculator, colors);\n    default:\n      throw new Error(`Unknown paletteQuantization ${paletteQuantization}`);\n  }\n}\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// Currently in sync with Node.js lib/assert.js\n// https://github.com/nodejs/node/commit/2a51ae424a513ec9a6aa3466baa0cc1d55dd4f3b\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = require('./internal/errors'),\n    _require$codes = _require.codes,\n    ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE,\n    ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;\n\nvar AssertionError = require('./internal/assert/assertion_error');\n\nvar _require2 = require('util/'),\n    inspect = _require2.inspect;\n\nvar _require$types = require('util/').types,\n    isPromise = _require$types.isPromise,\n    isRegExp = _require$types.isRegExp;\n\nvar objectAssign = Object.assign ? Object.assign : require('es6-object-assign').assign;\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar errorCache = new Map();\nvar isDeepEqual;\nvar isDeepStrictEqual;\nvar parseExpressionAt;\nvar findNodeAround;\nvar decoder;\n\nfunction lazyLoadComparison() {\n  var comparison = require('./internal/util/comparisons');\n\n  isDeepEqual = comparison.isDeepEqual;\n  isDeepStrictEqual = comparison.isDeepStrictEqual;\n} // Escape control characters but not \\n and \\t to keep the line breaks and\n// indentation intact.\n// eslint-disable-next-line no-control-regex\n\n\nvar escapeSequencesRegExp = /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f]/g;\nvar meta = [\"\\\\u0000\", \"\\\\u0001\", \"\\\\u0002\", \"\\\\u0003\", \"\\\\u0004\", \"\\\\u0005\", \"\\\\u0006\", \"\\\\u0007\", '\\\\b', '', '', \"\\\\u000b\", '\\\\f', '', \"\\\\u000e\", \"\\\\u000f\", \"\\\\u0010\", \"\\\\u0011\", \"\\\\u0012\", \"\\\\u0013\", \"\\\\u0014\", \"\\\\u0015\", \"\\\\u0016\", \"\\\\u0017\", \"\\\\u0018\", \"\\\\u0019\", \"\\\\u001a\", \"\\\\u001b\", \"\\\\u001c\", \"\\\\u001d\", \"\\\\u001e\", \"\\\\u001f\"];\n\nvar escapeFn = function escapeFn(str) {\n  return meta[str.charCodeAt(0)];\n};\n\nvar warned = false; // The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\nvar NO_EXCEPTION_SENTINEL = {}; // All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided. All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction innerFail(obj) {\n  if (obj.message instanceof Error) throw obj.message;\n  throw new AssertionError(obj);\n}\n\nfunction fail(actual, expected, message, operator, stackStartFn) {\n  var argsLen = arguments.length;\n  var internalMessage;\n\n  if (argsLen === 0) {\n    internalMessage = 'Failed';\n  } else if (argsLen === 1) {\n    message = actual;\n    actual = undefined;\n  } else {\n    if (warned === false) {\n      warned = true;\n      var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);\n      warn('assert.fail() with more than one argument is deprecated. ' + 'Please use assert.strictEqual() instead or only pass a message.', 'DeprecationWarning', 'DEP0094');\n    }\n\n    if (argsLen === 2) operator = '!=';\n  }\n\n  if (message instanceof Error) throw message;\n  var errArgs = {\n    actual: actual,\n    expected: expected,\n    operator: operator === undefined ? 'fail' : operator,\n    stackStartFn: stackStartFn || fail\n  };\n\n  if (message !== undefined) {\n    errArgs.message = message;\n  }\n\n  var err = new AssertionError(errArgs);\n\n  if (internalMessage) {\n    err.message = internalMessage;\n    err.generatedMessage = true;\n  }\n\n  throw err;\n}\n\nassert.fail = fail; // The AssertionError is defined in internal/error.\n\nassert.AssertionError = AssertionError;\n\nfunction innerOk(fn, argLen, value, message) {\n  if (!value) {\n    var generatedMessage = false;\n\n    if (argLen === 0) {\n      generatedMessage = true;\n      message = 'No value argument passed to `assert.ok()`';\n    } else if (message instanceof Error) {\n      throw message;\n    }\n\n    var err = new AssertionError({\n      actual: value,\n      expected: true,\n      message: message,\n      operator: '==',\n      stackStartFn: fn\n    });\n    err.generatedMessage = generatedMessage;\n    throw err;\n  }\n} // Pure assertion tests whether a value is truthy, as determined\n// by !!value.\n\n\nfunction ok() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  innerOk.apply(void 0, [ok, args.length].concat(args));\n}\n\nassert.ok = ok; // The equality assertion tests shallow, coercive equality with ==.\n\n/* eslint-disable no-restricted-properties */\n\nassert.equal = function equal(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual != expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '==',\n      stackStartFn: equal\n    });\n  }\n}; // The non-equality assertion tests for whether two objects are not\n// equal with !=.\n\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual == expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '!=',\n      stackStartFn: notEqual\n    });\n  }\n}; // The equivalence assertion tests a deep equality relation.\n\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepEqual',\n      stackStartFn: deepEqual\n    });\n  }\n}; // The non-equivalence assertion tests for any deep inequality.\n\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepEqual',\n      stackStartFn: notDeepEqual\n    });\n  }\n};\n/* eslint-enable */\n\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepStrictEqual',\n      stackStartFn: deepStrictEqual\n    });\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\n\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepStrictEqual',\n      stackStartFn: notDeepStrictEqual\n    });\n  }\n}\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (!objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'strictEqual',\n      stackStartFn: strictEqual\n    });\n  }\n};\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notStrictEqual',\n      stackStartFn: notStrictEqual\n    });\n  }\n};\n\nvar Comparison = function Comparison(obj, keys, actual) {\n  var _this = this;\n\n  _classCallCheck(this, Comparison);\n\n  keys.forEach(function (key) {\n    if (key in obj) {\n      if (actual !== undefined && typeof actual[key] === 'string' && isRegExp(obj[key]) && obj[key].test(actual[key])) {\n        _this[key] = actual[key];\n      } else {\n        _this[key] = obj[key];\n      }\n    }\n  });\n};\n\nfunction compareExceptionKey(actual, expected, key, message, keys, fn) {\n  if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {\n    if (!message) {\n      // Create placeholder objects to create a nice output.\n      var a = new Comparison(actual, keys);\n      var b = new Comparison(expected, keys, actual);\n      var err = new AssertionError({\n        actual: a,\n        expected: b,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.actual = actual;\n      err.expected = expected;\n      err.operator = fn.name;\n      throw err;\n    }\n\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: fn.name,\n      stackStartFn: fn\n    });\n  }\n}\n\nfunction expectedException(actual, expected, msg, fn) {\n  if (typeof expected !== 'function') {\n    if (isRegExp(expected)) return expected.test(actual); // assert.doesNotThrow does not accept objects.\n\n    if (arguments.length === 2) {\n      throw new ERR_INVALID_ARG_TYPE('expected', ['Function', 'RegExp'], expected);\n    } // Handle primitives properly.\n\n\n    if (_typeof(actual) !== 'object' || actual === null) {\n      var err = new AssertionError({\n        actual: actual,\n        expected: expected,\n        message: msg,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.operator = fn.name;\n      throw err;\n    }\n\n    var keys = Object.keys(expected); // Special handle errors to make sure the name and the message are compared\n    // as well.\n\n    if (expected instanceof Error) {\n      keys.push('name', 'message');\n    } else if (keys.length === 0) {\n      throw new ERR_INVALID_ARG_VALUE('error', expected, 'may not be an empty object');\n    }\n\n    if (isDeepEqual === undefined) lazyLoadComparison();\n    keys.forEach(function (key) {\n      if (typeof actual[key] === 'string' && isRegExp(expected[key]) && expected[key].test(actual[key])) {\n        return;\n      }\n\n      compareExceptionKey(actual, expected, key, msg, keys, fn);\n    });\n    return true;\n  } // Guard instanceof against arrow functions as they don't have a prototype.\n\n\n  if (expected.prototype !== undefined && actual instanceof expected) {\n    return true;\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction getActual(fn) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', 'Function', fn);\n  }\n\n  try {\n    fn();\n  } catch (e) {\n    return e;\n  }\n\n  return NO_EXCEPTION_SENTINEL;\n}\n\nfunction checkIsPromise(obj) {\n  // Accept native ES6 promises and promises that are implemented in a similar\n  // way. Do not accept thenables that use a function as `obj` and that have no\n  // `catch` handler.\n  // TODO: thenables are checked up until they have the correct methods,\n  // but according to documentation, the `then` method should receive\n  // the `fulfill` and `reject` arguments as well or it may be never resolved.\n  return isPromise(obj) || obj !== null && _typeof(obj) === 'object' && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n\nfunction waitForActual(promiseFn) {\n  return Promise.resolve().then(function () {\n    var resultPromise;\n\n    if (typeof promiseFn === 'function') {\n      // Return a rejected promise if `promiseFn` throws synchronously.\n      resultPromise = promiseFn(); // Fail in case no promise is returned.\n\n      if (!checkIsPromise(resultPromise)) {\n        throw new ERR_INVALID_RETURN_VALUE('instance of Promise', 'promiseFn', resultPromise);\n      }\n    } else if (checkIsPromise(promiseFn)) {\n      resultPromise = promiseFn;\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('promiseFn', ['Function', 'Promise'], promiseFn);\n    }\n\n    return Promise.resolve().then(function () {\n      return resultPromise;\n    }).then(function () {\n      return NO_EXCEPTION_SENTINEL;\n    }).catch(function (e) {\n      return e;\n    });\n  });\n}\n\nfunction expectsError(stackStartFn, actual, error, message) {\n  if (typeof error === 'string') {\n    if (arguments.length === 4) {\n      throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n    }\n\n    if (_typeof(actual) === 'object' && actual !== null) {\n      if (actual.message === error) {\n        throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error message \\\"\".concat(actual.message, \"\\\" is identical to the message.\"));\n      }\n    } else if (actual === error) {\n      throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error \\\"\".concat(actual, \"\\\" is identical to the message.\"));\n    }\n\n    message = error;\n    error = undefined;\n  } else if (error != null && _typeof(error) !== 'object' && typeof error !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n  }\n\n  if (actual === NO_EXCEPTION_SENTINEL) {\n    var details = '';\n\n    if (error && error.name) {\n      details += \" (\".concat(error.name, \")\");\n    }\n\n    details += message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'rejects' ? 'rejection' : 'exception';\n    innerFail({\n      actual: undefined,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Missing expected \".concat(fnType).concat(details),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  if (error && !expectedException(actual, error, message, stackStartFn)) {\n    throw actual;\n  }\n}\n\nfunction expectsNoError(stackStartFn, actual, error, message) {\n  if (actual === NO_EXCEPTION_SENTINEL) return;\n\n  if (typeof error === 'string') {\n    message = error;\n    error = undefined;\n  }\n\n  if (!error || expectedException(actual, error)) {\n    var details = message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'doesNotReject' ? 'rejection' : 'exception';\n    innerFail({\n      actual: actual,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Got unwanted \".concat(fnType).concat(details, \"\\n\") + \"Actual message: \\\"\".concat(actual && actual.message, \"\\\"\"),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  throw actual;\n}\n\nassert.throws = function throws(promiseFn) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));\n};\n\nassert.rejects = function rejects(promiseFn) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return waitForActual(promiseFn).then(function (result) {\n    return expectsError.apply(void 0, [rejects, result].concat(args));\n  });\n};\n\nassert.doesNotThrow = function doesNotThrow(fn) {\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));\n};\n\nassert.doesNotReject = function doesNotReject(fn) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  return waitForActual(fn).then(function (result) {\n    return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));\n  });\n};\n\nassert.ifError = function ifError(err) {\n  if (err !== null && err !== undefined) {\n    var message = 'ifError got unwanted exception: ';\n\n    if (_typeof(err) === 'object' && typeof err.message === 'string') {\n      if (err.message.length === 0 && err.constructor) {\n        message += err.constructor.name;\n      } else {\n        message += err.message;\n      }\n    } else {\n      message += inspect(err);\n    }\n\n    var newErr = new AssertionError({\n      actual: err,\n      expected: null,\n      operator: 'ifError',\n      message: message,\n      stackStartFn: ifError\n    }); // Make sure we actually have a stack trace!\n\n    var origStack = err.stack;\n\n    if (typeof origStack === 'string') {\n      // This will remove any duplicated frames from the error frames taken\n      // from within `ifError` and add the original error frames to the newly\n      // created ones.\n      var tmp2 = origStack.split('\\n');\n      tmp2.shift(); // Filter all frames existing in err.stack.\n\n      var tmp1 = newErr.stack.split('\\n');\n\n      for (var i = 0; i < tmp2.length; i++) {\n        // Find the first occurrence of the frame.\n        var pos = tmp1.indexOf(tmp2[i]);\n\n        if (pos !== -1) {\n          // Only keep new frames.\n          tmp1 = tmp1.slice(0, pos);\n          break;\n        }\n      }\n\n      newErr.stack = \"\".concat(tmp1.join('\\n'), \"\\n\").concat(tmp2.join('\\n'));\n    }\n\n    throw newErr;\n  }\n}; // Expose a strict only variant of assert\n\n\nfunction strict() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  innerOk.apply(void 0, [strict, args.length].concat(args));\n}\n\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;","// Currently in sync with Node.js lib/internal/errors.js\n// https://github.com/nodejs/node/commit/3b044962c48fe313905877a96b5d0894a5404f6f\n\n/* eslint node-core/documented-errors: \"error\" */\n\n/* eslint node-core/alphabetize-errors: \"error\" */\n\n/* eslint node-core/prefer-util-format-errors: \"error\" */\n'use strict'; // The whole point behind this internal module is to allow Node.js to no\n// longer be forced to treat every error message change as a semver-major\n// change. The NodeError classes here all expose a `code` property whose\n// value statically and permanently identifies the error. While the error\n// message may change, the code should not.\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar codes = {}; // Lazy loaded\n\nvar assert;\nvar util;\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inherits(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      var _this;\n\n      _classCallCheck(this, NodeError);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(NodeError).call(this, getMessage(arg1, arg2, arg3)));\n      _this.code = code;\n      return _this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_AMBIGUOUS_ARGUMENT', 'The \"%s\" argument is ambiguous. %s', TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  if (assert === undefined) assert = require('../assert');\n  assert(typeof name === 'string', \"'name' must be a string\"); // determiner: 'must be' or 'must not be'\n\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } // TODO(BridgeAR): Improve the output by showing `null` and similar.\n\n\n  msg += \". Received type \".concat(_typeof(actual));\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_VALUE', function (name, value) {\n  var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'is invalid';\n  if (util === undefined) util = require('util/');\n  var inspected = util.inspect(value);\n\n  if (inspected.length > 128) {\n    inspected = \"\".concat(inspected.slice(0, 128), \"...\");\n  }\n\n  return \"The argument '\".concat(name, \"' \").concat(reason, \". Received \").concat(inspected);\n}, TypeError, RangeError);\ncreateErrorType('ERR_INVALID_RETURN_VALUE', function (input, name, value) {\n  var type;\n\n  if (value && value.constructor && value.constructor.name) {\n    type = \"instance of \".concat(value.constructor.name);\n  } else {\n    type = \"type \".concat(_typeof(value));\n  }\n\n  return \"Expected \".concat(input, \" to be returned from the \\\"\").concat(name, \"\\\"\") + \" function but got \".concat(type, \".\");\n}, TypeError);\ncreateErrorType('ERR_MISSING_ARGS', function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (assert === undefined) assert = require('../assert');\n  assert(args.length > 0, 'At least one arg needs to be specified');\n  var msg = 'The ';\n  var len = args.length;\n  args = args.map(function (a) {\n    return \"\\\"\".concat(a, \"\\\"\");\n  });\n\n  switch (len) {\n    case 1:\n      msg += \"\".concat(args[0], \" argument\");\n      break;\n\n    case 2:\n      msg += \"\".concat(args[0], \" and \").concat(args[1], \" arguments\");\n      break;\n\n    default:\n      msg += args.slice(0, len - 1).join(', ');\n      msg += \", and \".concat(args[len - 1], \" arguments\");\n      break;\n  }\n\n  return \"\".concat(msg, \" must be specified\");\n}, TypeError);\nmodule.exports.codes = codes;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof g[typedArray] === 'function') {\n\t\t\tvar arr = new g[typedArray]();\n\t\t\tif (Symbol.toStringTag in arr) {\n\t\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\t\tif (!descriptor) {\n\t\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t\t}\n\t\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Currently in sync with Node.js lib/internal/assert/assertion_error.js\n// https://github.com/nodejs/node/commit/0817840f775032169ddd70c85ac059f18ffcc81c\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _require = require('util/'),\n    inspect = _require.inspect;\n\nvar _require2 = require('../errors'),\n    ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\n\n\nfunction repeat(str, count) {\n  count = Math.floor(count);\n  if (str.length == 0 || count == 0) return '';\n  var maxCount = str.length * count;\n  count = Math.floor(Math.log(count) / Math.log(2));\n\n  while (count) {\n    str += str;\n    count--;\n  }\n\n  str += str.substring(0, maxCount - str.length);\n  return str;\n}\n\nvar blue = '';\nvar green = '';\nvar red = '';\nvar white = '';\nvar kReadableOperator = {\n  deepStrictEqual: 'Expected values to be strictly deep-equal:',\n  strictEqual: 'Expected values to be strictly equal:',\n  strictEqualObject: 'Expected \"actual\" to be reference-equal to \"expected\":',\n  deepEqual: 'Expected values to be loosely deep-equal:',\n  equal: 'Expected values to be loosely equal:',\n  notDeepStrictEqual: 'Expected \"actual\" not to be strictly deep-equal to:',\n  notStrictEqual: 'Expected \"actual\" to be strictly unequal to:',\n  notStrictEqualObject: 'Expected \"actual\" not to be reference-equal to \"expected\":',\n  notDeepEqual: 'Expected \"actual\" not to be loosely deep-equal to:',\n  notEqual: 'Expected \"actual\" to be loosely unequal to:',\n  notIdentical: 'Values identical but not reference-equal:'\n}; // Comparing short primitives should just show === / !== instead of using the\n// diff.\n\nvar kMaxShortLength = 10;\n\nfunction copyError(source) {\n  var keys = Object.keys(source);\n  var target = Object.create(Object.getPrototypeOf(source));\n  keys.forEach(function (key) {\n    target[key] = source[key];\n  });\n  Object.defineProperty(target, 'message', {\n    value: source.message\n  });\n  return target;\n}\n\nfunction inspectValue(val) {\n  // The util.inspect default values could be changed. This makes sure the\n  // error messages contain the necessary information nevertheless.\n  return inspect(val, {\n    compact: false,\n    customInspect: false,\n    depth: 1000,\n    maxArrayLength: Infinity,\n    // Assert compares only enumerable properties (with a few exceptions).\n    showHidden: false,\n    // Having a long line as error is better than wrapping the line for\n    // comparison for now.\n    // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we\n    // have meta information about the inspected properties (i.e., know where\n    // in what line the property starts and ends).\n    breakLength: Infinity,\n    // Assert does not detect proxies currently.\n    showProxy: false,\n    sorted: true,\n    // Inspect getters as we also check them when comparing entries.\n    getters: true\n  });\n}\n\nfunction createErrDiff(actual, expected, operator) {\n  var other = '';\n  var res = '';\n  var lastPos = 0;\n  var end = '';\n  var skipped = false;\n  var actualInspected = inspectValue(actual);\n  var actualLines = actualInspected.split('\\n');\n  var expectedLines = inspectValue(expected).split('\\n');\n  var i = 0;\n  var indicator = ''; // In case both values are objects explicitly mark them as not reference equal\n  // for the `strictEqual` operator.\n\n  if (operator === 'strictEqual' && _typeof(actual) === 'object' && _typeof(expected) === 'object' && actual !== null && expected !== null) {\n    operator = 'strictEqualObject';\n  } // If \"actual\" and \"expected\" fit on a single line and they are not strictly\n  // equal, check further special handling.\n\n\n  if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {\n    var inputLength = actualLines[0].length + expectedLines[0].length; // If the character length of \"actual\" and \"expected\" together is less than\n    // kMaxShortLength and if neither is an object and at least one of them is\n    // not `zero`, use the strict equal comparison to visualize the output.\n\n    if (inputLength <= kMaxShortLength) {\n      if ((_typeof(actual) !== 'object' || actual === null) && (_typeof(expected) !== 'object' || expected === null) && (actual !== 0 || expected !== 0)) {\n        // -0 === +0\n        return \"\".concat(kReadableOperator[operator], \"\\n\\n\") + \"\".concat(actualLines[0], \" !== \").concat(expectedLines[0], \"\\n\");\n      }\n    } else if (operator !== 'strictEqualObject') {\n      // If the stderr is a tty and the input length is lower than the current\n      // columns per line, add a mismatch indicator below the output. If it is\n      // not a tty, use a default value of 80 characters.\n      var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;\n\n      if (inputLength < maxLength) {\n        while (actualLines[0][i] === expectedLines[0][i]) {\n          i++;\n        } // Ignore the first characters.\n\n\n        if (i > 2) {\n          // Add position indicator for the first mismatch in case it is a\n          // single line and the input length is less than the column length.\n          indicator = \"\\n  \".concat(repeat(' ', i), \"^\");\n          i = 0;\n        }\n      }\n    }\n  } // Remove all ending lines that match (this optimizes the output for\n  // readability by reducing the number of total changed lines).\n\n\n  var a = actualLines[actualLines.length - 1];\n  var b = expectedLines[expectedLines.length - 1];\n\n  while (a === b) {\n    if (i++ < 2) {\n      end = \"\\n  \".concat(a).concat(end);\n    } else {\n      other = a;\n    }\n\n    actualLines.pop();\n    expectedLines.pop();\n    if (actualLines.length === 0 || expectedLines.length === 0) break;\n    a = actualLines[actualLines.length - 1];\n    b = expectedLines[expectedLines.length - 1];\n  }\n\n  var maxLines = Math.max(actualLines.length, expectedLines.length); // Strict equal with identical objects that are not identical by reference.\n  // E.g., assert.deepStrictEqual({ a: Symbol() }, { a: Symbol() })\n\n  if (maxLines === 0) {\n    // We have to get the result again. The lines were all removed before.\n    var _actualLines = actualInspected.split('\\n'); // Only remove lines in case it makes sense to collapse those.\n    // TODO: Accept env to always show the full error.\n\n\n    if (_actualLines.length > 30) {\n      _actualLines[26] = \"\".concat(blue, \"...\").concat(white);\n\n      while (_actualLines.length > 27) {\n        _actualLines.pop();\n      }\n    }\n\n    return \"\".concat(kReadableOperator.notIdentical, \"\\n\\n\").concat(_actualLines.join('\\n'), \"\\n\");\n  }\n\n  if (i > 3) {\n    end = \"\\n\".concat(blue, \"...\").concat(white).concat(end);\n    skipped = true;\n  }\n\n  if (other !== '') {\n    end = \"\\n  \".concat(other).concat(end);\n    other = '';\n  }\n\n  var printedLines = 0;\n  var msg = kReadableOperator[operator] + \"\\n\".concat(green, \"+ actual\").concat(white, \" \").concat(red, \"- expected\").concat(white);\n  var skippedMsg = \" \".concat(blue, \"...\").concat(white, \" Lines skipped\");\n\n  for (i = 0; i < maxLines; i++) {\n    // Only extra expected lines exist\n    var cur = i - lastPos;\n\n    if (actualLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(expectedLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(expectedLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the expected line to the cache.\n\n      other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLines[i]);\n      printedLines++; // Only extra actual lines exist\n    } else if (expectedLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(actualLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(actualLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the actual line to the result.\n\n      res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLines[i]);\n      printedLines++; // Lines diverge\n    } else {\n      var expectedLine = expectedLines[i];\n      var actualLine = actualLines[i]; // If the lines diverge, specifically check for lines that only diverge by\n      // a trailing comma. In that case it is actually identical and we should\n      // mark it as such.\n\n      var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ',') || actualLine.slice(0, -1) !== expectedLine); // If the expected line has a trailing comma but is otherwise identical,\n      // add a comma at the end of the actual line. Otherwise the output could\n      // look weird as in:\n      //\n      //   [\n      //     1         // No comma at the end!\n      // +   2\n      //   ]\n      //\n\n      if (divergingLines && endsWith(expectedLine, ',') && expectedLine.slice(0, -1) === actualLine) {\n        divergingLines = false;\n        actualLine += ',';\n      }\n\n      if (divergingLines) {\n        // If the last diverging line is more than one line above and the\n        // current line is at least line three, add some of the former lines and\n        // also add dots to indicate skipped entries.\n        if (cur > 1 && i > 2) {\n          if (cur > 4) {\n            res += \"\\n\".concat(blue, \"...\").concat(white);\n            skipped = true;\n          } else if (cur > 3) {\n            res += \"\\n  \".concat(actualLines[i - 2]);\n            printedLines++;\n          }\n\n          res += \"\\n  \".concat(actualLines[i - 1]);\n          printedLines++;\n        } // Mark the current line as the last diverging one.\n\n\n        lastPos = i; // Add the actual line to the result and cache the expected diverging\n        // line so consecutive diverging lines show up as +++--- and not +-+-+-.\n\n        res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLine);\n        other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLine);\n        printedLines += 2; // Lines are identical\n      } else {\n        // Add all cached information to the result before adding other things\n        // and reset the cache.\n        res += other;\n        other = ''; // If the last diverging line is exactly one line above or if it is the\n        // very first line, add the line to the result.\n\n        if (cur === 1 || i === 0) {\n          res += \"\\n  \".concat(actualLine);\n          printedLines++;\n        }\n      }\n    } // Inspected object to big (Show ~20 rows max)\n\n\n    if (printedLines > 20 && i < maxLines - 2) {\n      return \"\".concat(msg).concat(skippedMsg, \"\\n\").concat(res, \"\\n\").concat(blue, \"...\").concat(white).concat(other, \"\\n\") + \"\".concat(blue, \"...\").concat(white);\n    }\n  }\n\n  return \"\".concat(msg).concat(skipped ? skippedMsg : '', \"\\n\").concat(res).concat(other).concat(end).concat(indicator);\n}\n\nvar AssertionError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(AssertionError, _Error);\n\n  function AssertionError(options) {\n    var _this;\n\n    _classCallCheck(this, AssertionError);\n\n    if (_typeof(options) !== 'object' || options === null) {\n      throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n    }\n\n    var message = options.message,\n        operator = options.operator,\n        stackStartFn = options.stackStartFn;\n    var actual = options.actual,\n        expected = options.expected;\n    var limit = Error.stackTraceLimit;\n    Error.stackTraceLimit = 0;\n\n    if (message != null) {\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, String(message)));\n    } else {\n      if (process.stderr && process.stderr.isTTY) {\n        // Reset on each call to make sure we handle dynamically set environment\n        // variables correct.\n        if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {\n          blue = \"\\x1B[34m\";\n          green = \"\\x1B[32m\";\n          white = \"\\x1B[39m\";\n          red = \"\\x1B[31m\";\n        } else {\n          blue = '';\n          green = '';\n          white = '';\n          red = '';\n        }\n      } // Prevent the error stack from being visible by duplicating the error\n      // in a very close way to the original in case both sides are actually\n      // instances of Error.\n\n\n      if (_typeof(actual) === 'object' && actual !== null && _typeof(expected) === 'object' && expected !== null && 'stack' in actual && actual instanceof Error && 'stack' in expected && expected instanceof Error) {\n        actual = copyError(actual);\n        expected = copyError(expected);\n      }\n\n      if (operator === 'deepStrictEqual' || operator === 'strictEqual') {\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, createErrDiff(actual, expected, operator)));\n      } else if (operator === 'notDeepStrictEqual' || operator === 'notStrictEqual') {\n        // In case the objects are equal but the operator requires unequal, show\n        // the first object and say A equals B\n        var base = kReadableOperator[operator];\n        var res = inspectValue(actual).split('\\n'); // In case \"actual\" is an object, it should not be reference equal.\n\n        if (operator === 'notStrictEqual' && _typeof(actual) === 'object' && actual !== null) {\n          base = kReadableOperator.notStrictEqualObject;\n        } // Only remove lines in case it makes sense to collapse those.\n        // TODO: Accept env to always show the full error.\n\n\n        if (res.length > 30) {\n          res[26] = \"\".concat(blue, \"...\").concat(white);\n\n          while (res.length > 27) {\n            res.pop();\n          }\n        } // Only print a single input.\n\n\n        if (res.length === 1) {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \" \").concat(res[0])));\n        } else {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \"\\n\\n\").concat(res.join('\\n'), \"\\n\")));\n        }\n      } else {\n        var _res = inspectValue(actual);\n\n        var other = '';\n        var knownOperators = kReadableOperator[operator];\n\n        if (operator === 'notDeepEqual' || operator === 'notEqual') {\n          _res = \"\".concat(kReadableOperator[operator], \"\\n\\n\").concat(_res);\n\n          if (_res.length > 1024) {\n            _res = \"\".concat(_res.slice(0, 1021), \"...\");\n          }\n        } else {\n          other = \"\".concat(inspectValue(expected));\n\n          if (_res.length > 512) {\n            _res = \"\".concat(_res.slice(0, 509), \"...\");\n          }\n\n          if (other.length > 512) {\n            other = \"\".concat(other.slice(0, 509), \"...\");\n          }\n\n          if (operator === 'deepEqual' || operator === 'equal') {\n            _res = \"\".concat(knownOperators, \"\\n\\n\").concat(_res, \"\\n\\nshould equal\\n\\n\");\n          } else {\n            other = \" \".concat(operator, \" \").concat(other);\n          }\n        }\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(_res).concat(other)));\n      }\n    }\n\n    Error.stackTraceLimit = limit;\n    _this.generatedMessage = !message;\n    Object.defineProperty(_assertThisInitialized(_this), 'name', {\n      value: 'AssertionError [ERR_ASSERTION]',\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n    _this.code = 'ERR_ASSERTION';\n    _this.actual = actual;\n    _this.expected = expected;\n    _this.operator = operator;\n\n    if (Error.captureStackTrace) {\n      // eslint-disable-next-line no-restricted-syntax\n      Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);\n    } // Create error message including the error code in the name.\n\n\n    _this.stack; // Reset the name.\n\n    _this.name = 'AssertionError';\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(AssertionError, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.name, \" [\").concat(this.code, \"]: \").concat(this.message);\n    }\n  }, {\n    key: inspect.custom,\n    value: function value(recurseTimes, ctx) {\n      // This limits the `actual` and `expected` property default inspection to\n      // the minimum depth. Otherwise those values would be too verbose compared\n      // to the actual error message which contains a combined view of these two\n      // input values.\n      return inspect(this, _objectSpread({}, ctx, {\n        customInspect: false,\n        depth: 0\n      }));\n    }\n  }]);\n\n  return AssertionError;\n}(_wrapNativeSuper(Error));\n\nmodule.exports = AssertionError;","/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","// Currently in sync with Node.js lib/internal/util/comparisons.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar regexFlagsSupported = /a/g.flags !== undefined;\n\nvar arrayFromSet = function arrayFromSet(set) {\n  var array = [];\n  set.forEach(function (value) {\n    return array.push(value);\n  });\n  return array;\n};\n\nvar arrayFromMap = function arrayFromMap(map) {\n  var array = [];\n  map.forEach(function (value, key) {\n    return array.push([key, value]);\n  });\n  return array;\n};\n\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function () {\n  return [];\n};\nvar numberIsNaN = Number.isNaN ? Number.isNaN : require('is-nan');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\nvar propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);\nvar objectToString = uncurryThis(Object.prototype.toString);\n\nvar _require$types = require('util/').types,\n    isAnyArrayBuffer = _require$types.isAnyArrayBuffer,\n    isArrayBufferView = _require$types.isArrayBufferView,\n    isDate = _require$types.isDate,\n    isMap = _require$types.isMap,\n    isRegExp = _require$types.isRegExp,\n    isSet = _require$types.isSet,\n    isNativeError = _require$types.isNativeError,\n    isBoxedPrimitive = _require$types.isBoxedPrimitive,\n    isNumberObject = _require$types.isNumberObject,\n    isStringObject = _require$types.isStringObject,\n    isBooleanObject = _require$types.isBooleanObject,\n    isBigIntObject = _require$types.isBigIntObject,\n    isSymbolObject = _require$types.isSymbolObject,\n    isFloat32Array = _require$types.isFloat32Array,\n    isFloat64Array = _require$types.isFloat64Array;\n\nfunction isNonIndex(key) {\n  if (key.length === 0 || key.length > 10) return true;\n\n  for (var i = 0; i < key.length; i++) {\n    var code = key.charCodeAt(i);\n    if (code < 48 || code > 57) return true;\n  } // The maximum size for an array is 2 ** 32 -1.\n\n\n  return key.length === 10 && key >= Math.pow(2, 32);\n}\n\nfunction getOwnNonIndexProperties(value) {\n  return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));\n} // Taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\n\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n\n  if (y < x) {\n    return 1;\n  }\n\n  return 0;\n}\n\nvar ONLY_ENUMERABLE = undefined;\nvar kStrict = true;\nvar kLoose = false;\nvar kNoIterator = 0;\nvar kIsArray = 1;\nvar kIsSet = 2;\nvar kIsMap = 3; // Check if they have the same source and flags\n\nfunction areSimilarRegExps(a, b) {\n  return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);\n}\n\nfunction areSimilarFloatArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  for (var offset = 0; offset < a.byteLength; offset++) {\n    if (a[offset] !== b[offset]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction areSimilarTypedArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;\n}\n\nfunction areEqualArrayBuffers(buf1, buf2) {\n  return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;\n}\n\nfunction isEqualBoxedPrimitive(val1, val2) {\n  if (isNumberObject(val1)) {\n    return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));\n  }\n\n  if (isStringObject(val1)) {\n    return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);\n  }\n\n  if (isBooleanObject(val1)) {\n    return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);\n  }\n\n  if (isBigIntObject(val1)) {\n    return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);\n  }\n\n  return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);\n} // Notes: Type tags are historical [[Class]] properties that can be set by\n// FunctionTemplate::SetClassName() in C++ or Symbol.toStringTag in JS\n// and retrieved using Object.prototype.toString.call(obj) in JS\n// See https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n// for a list of tags pre-defined in the spec.\n// There are some unspecified tags in the wild too (e.g. typed array tags).\n// Since tags can be altered, they only serve fast failures\n//\n// Typed arrays and buffers are checked by comparing the content in their\n// underlying ArrayBuffer. This optimization requires that it's\n// reasonable to interpret their underlying memory in the same way,\n// which is checked by comparing their type tags.\n// (e.g. a Uint8Array and a Uint16Array with the same memory content\n// could still be different because they will be interpreted differently).\n//\n// For strict comparison, objects should have\n// a) The same built-in type tags\n// b) The same prototypes.\n\n\nfunction innerDeepEqual(val1, val2, strict, memos) {\n  // All identical values are equivalent, as determined by ===.\n  if (val1 === val2) {\n    if (val1 !== 0) return true;\n    return strict ? objectIs(val1, val2) : true;\n  } // Check more closely if val1 and val2 are equal.\n\n\n  if (strict) {\n    if (_typeof(val1) !== 'object') {\n      return typeof val1 === 'number' && numberIsNaN(val1) && numberIsNaN(val2);\n    }\n\n    if (_typeof(val2) !== 'object' || val1 === null || val2 === null) {\n      return false;\n    }\n\n    if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {\n      return false;\n    }\n  } else {\n    if (val1 === null || _typeof(val1) !== 'object') {\n      if (val2 === null || _typeof(val2) !== 'object') {\n        // eslint-disable-next-line eqeqeq\n        return val1 == val2;\n      }\n\n      return false;\n    }\n\n    if (val2 === null || _typeof(val2) !== 'object') {\n      return false;\n    }\n  }\n\n  var val1Tag = objectToString(val1);\n  var val2Tag = objectToString(val2);\n\n  if (val1Tag !== val2Tag) {\n    return false;\n  }\n\n  if (Array.isArray(val1)) {\n    // Check for sparse arrays and general fast path\n    if (val1.length !== val2.length) {\n      return false;\n    }\n\n    var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n    var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsArray, keys1);\n  } // [browserify] This triggers on certain types in IE (Map/Set) so we don't\n  // wan't to early return out of the rest of the checks. However we can check\n  // if the second value is one of these values and the first isn't.\n\n\n  if (val1Tag === '[object Object]') {\n    // return keyCheck(val1, val2, strict, memos, kNoIterator);\n    if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {\n      return false;\n    }\n  }\n\n  if (isDate(val1)) {\n    if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {\n      return false;\n    }\n  } else if (isRegExp(val1)) {\n    if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {\n      return false;\n    }\n  } else if (isNativeError(val1) || val1 instanceof Error) {\n    // Do not compare the stack as it might differ even though the error itself\n    // is otherwise identical.\n    if (val1.message !== val2.message || val1.name !== val2.name) {\n      return false;\n    }\n  } else if (isArrayBufferView(val1)) {\n    if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {\n      if (!areSimilarFloatArrays(val1, val2)) {\n        return false;\n      }\n    } else if (!areSimilarTypedArrays(val1, val2)) {\n      return false;\n    } // Buffer.compare returns true, so val1.length === val2.length. If they both\n    // only contain numeric keys, we don't need to exam further than checking\n    // the symbols.\n\n\n    var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n\n    var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (_keys.length !== _keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);\n  } else if (isSet(val1)) {\n    if (!isSet(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsSet);\n  } else if (isMap(val1)) {\n    if (!isMap(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsMap);\n  } else if (isAnyArrayBuffer(val1)) {\n    if (!areEqualArrayBuffers(val1, val2)) {\n      return false;\n    }\n  } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {\n    return false;\n  }\n\n  return keyCheck(val1, val2, strict, memos, kNoIterator);\n}\n\nfunction getEnumerables(val, keys) {\n  return keys.filter(function (k) {\n    return propertyIsEnumerable(val, k);\n  });\n}\n\nfunction keyCheck(val1, val2, strict, memos, iterationType, aKeys) {\n  // For all remaining Object pairs, including Array, objects and Maps,\n  // equivalence is determined by having:\n  // a) The same number of owned enumerable properties\n  // b) The same set of keys/indexes (although not necessarily the same order)\n  // c) Equivalent values for every corresponding key/index\n  // d) For Sets and Maps, equal contents\n  // Note: this accounts for both named and indexed properties on Arrays.\n  if (arguments.length === 5) {\n    aKeys = Object.keys(val1);\n    var bKeys = Object.keys(val2); // The pair must have the same number of owned properties.\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n  } // Cheap key test\n\n\n  var i = 0;\n\n  for (; i < aKeys.length; i++) {\n    if (!hasOwnProperty(val2, aKeys[i])) {\n      return false;\n    }\n  }\n\n  if (strict && arguments.length === 5) {\n    var symbolKeysA = objectGetOwnPropertySymbols(val1);\n\n    if (symbolKeysA.length !== 0) {\n      var count = 0;\n\n      for (i = 0; i < symbolKeysA.length; i++) {\n        var key = symbolKeysA[i];\n\n        if (propertyIsEnumerable(val1, key)) {\n          if (!propertyIsEnumerable(val2, key)) {\n            return false;\n          }\n\n          aKeys.push(key);\n          count++;\n        } else if (propertyIsEnumerable(val2, key)) {\n          return false;\n        }\n      }\n\n      var symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {\n        return false;\n      }\n    } else {\n      var _symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {\n        return false;\n      }\n    }\n  }\n\n  if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {\n    return true;\n  } // Use memos to handle cycles.\n\n\n  if (memos === undefined) {\n    memos = {\n      val1: new Map(),\n      val2: new Map(),\n      position: 0\n    };\n  } else {\n    // We prevent up to two map.has(x) calls by directly retrieving the value\n    // and checking for undefined. The map can only contain numbers, so it is\n    // safe to check for undefined only.\n    var val2MemoA = memos.val1.get(val1);\n\n    if (val2MemoA !== undefined) {\n      var val2MemoB = memos.val2.get(val2);\n\n      if (val2MemoB !== undefined) {\n        return val2MemoA === val2MemoB;\n      }\n    }\n\n    memos.position++;\n  }\n\n  memos.val1.set(val1, memos.position);\n  memos.val2.set(val2, memos.position);\n  var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);\n  memos.val1.delete(val1);\n  memos.val2.delete(val2);\n  return areEq;\n}\n\nfunction setHasEqualElement(set, val1, strict, memo) {\n  // Go looking.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var val2 = setValues[i];\n\n    if (innerDeepEqual(val1, val2, strict, memo)) {\n      // Remove the matching element to make sure we do not check that again.\n      set.delete(val2);\n      return true;\n    }\n  }\n\n  return false;\n} // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using\n// Sadly it is not possible to detect corresponding values properly in case the\n// type is a string, number, bigint or boolean. The reason is that those values\n// can match lots of different string values (e.g., 1n == '+00001').\n\n\nfunction findLooseMatchingPrimitives(prim) {\n  switch (_typeof(prim)) {\n    case 'undefined':\n      return null;\n\n    case 'object':\n      // Only pass in null as object!\n      return undefined;\n\n    case 'symbol':\n      return false;\n\n    case 'string':\n      prim = +prim;\n    // Loose equal entries exist only if the string is possible to convert to\n    // a regular number and not NaN.\n    // Fall through\n\n    case 'number':\n      if (numberIsNaN(prim)) {\n        return false;\n      }\n\n  }\n\n  return true;\n}\n\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) return altValue;\n  return b.has(altValue) && !a.has(altValue);\n}\n\nfunction mapMightHaveLoosePrim(a, b, prim, item, memo) {\n  var altValue = findLooseMatchingPrimitives(prim);\n\n  if (altValue != null) {\n    return altValue;\n  }\n\n  var curB = b.get(altValue);\n\n  if (curB === undefined && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {\n    return false;\n  }\n\n  return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);\n}\n\nfunction setEquiv(a, b, strict, memo) {\n  // This is a lazily initiated Set of entries which have to be compared\n  // pairwise.\n  var set = null;\n  var aValues = arrayFromSet(a);\n\n  for (var i = 0; i < aValues.length; i++) {\n    var val = aValues[i]; // Note: Checking for the objects first improves the performance for object\n    // heavy sets but it is a minor slow down for primitives. As they are fast\n    // to check this improves the worst case scenario instead.\n\n    if (_typeof(val) === 'object' && val !== null) {\n      if (set === null) {\n        set = new Set();\n      } // If the specified value doesn't exist in the second set its an not null\n      // object (or non strict only: a not matching primitive) we'll need to go\n      // hunting for something thats deep-(strict-)equal to it. To make this\n      // O(n log n) complexity we have to copy these values in a new set first.\n\n\n      set.add(val);\n    } else if (!b.has(val)) {\n      if (strict) return false; // Fast path to detect missing string, symbol, undefined and null values.\n\n      if (!setMightHaveLoosePrim(a, b, val)) {\n        return false;\n      }\n\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(val);\n    }\n  }\n\n  if (set !== null) {\n    var bValues = arrayFromSet(b);\n\n    for (var _i = 0; _i < bValues.length; _i++) {\n      var _val = bValues[_i]; // We have to check if a primitive value is already\n      // matching and only if it's not, go hunting for it.\n\n      if (_typeof(_val) === 'object' && _val !== null) {\n        if (!setHasEqualElement(set, _val, strict, memo)) return false;\n      } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction mapHasEqualEntry(set, map, key1, item1, strict, memo) {\n  // To be able to handle cases like:\n  //   Map([[{}, 'a'], [{}, 'b']]) vs Map([[{}, 'b'], [{}, 'a']])\n  // ... we need to consider *all* matching keys, not just the first we find.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var key2 = setValues[i];\n\n    if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {\n      set.delete(key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction mapEquiv(a, b, strict, memo) {\n  var set = null;\n  var aEntries = arrayFromMap(a);\n\n  for (var i = 0; i < aEntries.length; i++) {\n    var _aEntries$i = _slicedToArray(aEntries[i], 2),\n        key = _aEntries$i[0],\n        item1 = _aEntries$i[1];\n\n    if (_typeof(key) === 'object' && key !== null) {\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(key);\n    } else {\n      // By directly retrieving the value we prevent another b.has(key) check in\n      // almost all possible cases.\n      var item2 = b.get(key);\n\n      if (item2 === undefined && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {\n        if (strict) return false; // Fast path to detect missing string, symbol, undefined and null\n        // keys.\n\n        if (!mapMightHaveLoosePrim(a, b, key, item1, memo)) return false;\n\n        if (set === null) {\n          set = new Set();\n        }\n\n        set.add(key);\n      }\n    }\n  }\n\n  if (set !== null) {\n    var bEntries = arrayFromMap(b);\n\n    for (var _i2 = 0; _i2 < bEntries.length; _i2++) {\n      var _bEntries$_i = _slicedToArray(bEntries[_i2], 2),\n          key = _bEntries$_i[0],\n          item = _bEntries$_i[1];\n\n      if (_typeof(key) === 'object' && key !== null) {\n        if (!mapHasEqualEntry(set, a, key, item, strict, memo)) return false;\n      } else if (!strict && (!a.has(key) || !innerDeepEqual(a.get(key), item, false, memo)) && !mapHasEqualEntry(set, a, key, item, false, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction objEquiv(a, b, strict, keys, memos, iterationType) {\n  // Sets and maps don't have their entries accessible via normal object\n  // properties.\n  var i = 0;\n\n  if (iterationType === kIsSet) {\n    if (!setEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsMap) {\n    if (!mapEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsArray) {\n    for (; i < a.length; i++) {\n      if (hasOwnProperty(a, i)) {\n        if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {\n          return false;\n        }\n      } else if (hasOwnProperty(b, i)) {\n        return false;\n      } else {\n        // Array is sparse.\n        var keysA = Object.keys(a);\n\n        for (; i < keysA.length; i++) {\n          var key = keysA[i];\n\n          if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {\n            return false;\n          }\n        }\n\n        if (keysA.length !== Object.keys(b).length) {\n          return false;\n        }\n\n        return true;\n      }\n    }\n  } // The pair must have equivalent values for every corresponding key.\n  // Possibly expensive deep test:\n\n\n  for (i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n\n    if (!innerDeepEqual(a[_key], b[_key], strict, memos)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isDeepEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kLoose);\n}\n\nfunction isDeepStrictEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kStrict);\n}\n\nmodule.exports = {\n  isDeepEqual: isDeepEqual,\n  isDeepStrictEqual: isDeepStrictEqual\n};","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Number);\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, {\n\t\tisNaN: function testIsNaN() {\n\t\t\treturn Number.isNaN !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","const Selector = {\n  CUSTOMFILE: '.custom-file input[type=\"file\"]',\n  CUSTOMFILELABEL: '.custom-file-label',\n  FORM: 'form',\n  INPUT: 'input',\n}\n\nexport default Selector\n","import Selector from './selector'\n\nconst textNodeType = 3\nconst getDefaultText = (input) => {\n  let defaultText = ''\n\n  const label = input.parentNode.querySelector(Selector.CUSTOMFILELABEL)\n\n  if (label) {\n    defaultText = label.textContent\n  }\n\n  return defaultText\n}\n\nconst findFirstChildNode = (element) => {\n  if (element.childNodes.length > 0) {\n    const childNodes = [].slice.call(element.childNodes)\n\n    for (let i = 0; i < childNodes.length; i++) {\n      const node = childNodes[i]\n      if (node.nodeType !== textNodeType) {\n        return node\n      }\n    }\n  }\n\n  return element\n}\n\nconst restoreDefaultText = (input) => {\n  const defaultText = input.bsCustomFileInput.defaultText\n  const label = input.parentNode.querySelector(Selector.CUSTOMFILELABEL)\n\n  if (label) {\n    const element = findFirstChildNode(label)\n\n    element.textContent = defaultText\n  }\n}\n\nexport {\n  getDefaultText,\n  findFirstChildNode,\n  restoreDefaultText,\n}\n","import { findFirstChildNode, restoreDefaultText } from './util'\nimport Selector from './selector'\n\nconst fileApi = !!window.File\nconst FAKE_PATH = 'fakepath'\nconst FAKE_PATH_SEPARATOR = '\\\\'\n\nconst getSelectedFiles = (input) => {\n  if (input.hasAttribute('multiple') && fileApi) {\n    return [].slice.call(input.files)\n      .map((file) => file.name)\n      .join(', ')\n  }\n\n  if (input.value.indexOf(FAKE_PATH) !== -1) {\n    const splittedValue = input.value.split(FAKE_PATH_SEPARATOR)\n\n    return splittedValue[splittedValue.length - 1]\n  }\n\n  return input.value\n}\n\nfunction handleInputChange() {\n  const label = this.parentNode.querySelector(Selector.CUSTOMFILELABEL)\n\n  if (label) {\n    const element = findFirstChildNode(label)\n    const inputValue = getSelectedFiles(this)\n\n    if (inputValue.length) {\n      element.textContent = inputValue\n    } else {\n      restoreDefaultText(this)\n    }\n  }\n}\n\nfunction handleFormReset() {\n  const customFileList = [].slice.call(this.querySelectorAll(Selector.INPUT))\n    .filter((input) => !!input.bsCustomFileInput)\n\n  for (let i = 0, len = customFileList.length; i < len; i++) {\n    restoreDefaultText(customFileList[i])\n  }\n}\n\nexport {\n  handleInputChange,\n  handleFormReset,\n}\n","import { getDefaultText, restoreDefaultText } from './util'\nimport { handleFormReset, handleInputChange } from './eventHandlers'\nimport Selector from './selector'\n\nconst customProperty = 'bsCustomFileInput'\nconst Event = {\n  FORMRESET   : 'reset',\n  INPUTCHANGE : 'change',\n}\n\nconst bsCustomFileInput = {\n  init(inputSelector = Selector.CUSTOMFILE, formSelector = Selector.FORM) {\n    const customFileInputList = [].slice.call(document.querySelectorAll(inputSelector))\n    const formList = [].slice.call(document.querySelectorAll(formSelector))\n\n    for (let i = 0, len = customFileInputList.length; i < len; i++) {\n      const input = customFileInputList[i]\n\n      Object.defineProperty(input, customProperty, {\n        value: {\n          defaultText: getDefaultText(input),\n        },\n        writable: true,\n      })\n\n      handleInputChange.call(input)\n      input.addEventListener(Event.INPUTCHANGE, handleInputChange)\n    }\n\n    for (let i = 0, len = formList.length; i < len; i++) {\n      formList[i].addEventListener(Event.FORMRESET, handleFormReset)\n      Object.defineProperty(formList[i], customProperty, {\n        value: true,\n        writable: true,\n      })\n    }\n  },\n\n  destroy() {\n    const formList = [].slice.call(document.querySelectorAll(Selector.FORM))\n      .filter((form) => !!form.bsCustomFileInput)\n    const customFileInputList = [].slice.call(document.querySelectorAll(Selector.INPUT))\n      .filter((input) => !!input.bsCustomFileInput)\n\n    for (let i = 0, len = customFileInputList.length; i < len; i++) {\n      const input = customFileInputList[i]\n\n      restoreDefaultText(input)\n      input[customProperty] = undefined\n\n      input.removeEventListener(Event.INPUTCHANGE, handleInputChange)\n    }\n\n    for (let i = 0, len = formList.length; i < len; i++) {\n      formList[i].removeEventListener(Event.FORMRESET, handleFormReset)\n      formList[i][customProperty] = undefined\n    }\n  },\n}\n\nexport default bsCustomFileInput\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import bsCustomFileInput from 'bs-custom-file-input';\nimport { convertImageBlob } from '../lib/convert';\nimport { ImageMode, ImageModeUtil, OutputMode, BINARY_FORMAT_PREFIX } from '../lib/enums';\nimport { saveAs } from 'file-saver';\nimport { resolve } from 'path';\nimport { rejects } from 'assert';\n\nfunction updateNameTextboxes() {\n    const input = $(\"#customFile\")[0];\n    const $nameContainer = $(\".name-container\");\n    const numExistingFields = $nameContainer.children().length;\n    const totalLength = Math.max(numExistingFields, input.files.length);\n    for(var i = 0; i < totalLength; i++) {\n        if(i >= numExistingFields)\n            $nameContainer.append(`<input type=\"text\" name=\"name${i}\" id=\"name${i}\" class=\"form-control\" placeholder=\"Variable name of image ${i+1}\" style=\"height:unset\">`);\n        else if(i >= input.files.length) {\n            $nameContainer.get(0).removeChild($nameContainer.children().get(i));\n        }\n    }\n    $(\".name-row\").css(\"display\", input.files.length > 0 ? \"\" : \"none\");\n}\n\nfunction updateListedBinaryFormats() {\n    const needBinaryFormat = ImageModeUtil.isTrueColor($(\"#cf\").val());\n    $(\"#format\").children(\"option\").each(function() {\n        if(!$(this).val().startsWith(\"bin\")) {\n            /* bail out if not binary format */\n            return;\n        }\n        if($(this).val().startsWith(\"bin_\")) {\n            /* has color code afterward */\n            $(this).prop(\"disabled\", !needBinaryFormat);\n            $(this).prop(\"hidden\", !needBinaryFormat);\n        } else {\n            /* has no color code */\n            $(this).prop(\"disabled\", needBinaryFormat);\n            $(this).prop(\"hidden\", needBinaryFormat);\n        }\n    });\n    /* Don't allow using disabled options */\n    if($(\"#format option:selected\").prop(\"disabled\"))\n        $(\"#format\").val(\"c_array\");\n}\n\n$(document).ready(function () {\n    bsCustomFileInput.init();\n    updateNameTextboxes();\n    updateListedBinaryFormats();\n});\n\n$(\"#customFile\").change(updateNameTextboxes);\n$(\"#cf\").on(\"change\", updateListedBinaryFormats);\n\n$(\"#format\").on(\"change\", function() {\n    const needsDisable = $(\"#format\").val() != \"c_array\";\n    if(needsDisable)\n        $(\"endian-checkbox\").prop(\"checked\", false);\n    $(\"#endian-checkbox\").prop(\"disabled\", needsDisable);\n})\n\n$(\"#convert-button\").on(\"click\", async() => {\n    $(\"#convert-button\").attr(\"disabled\", true);\n    /** @type {HTMLInputElement} */\n    const input = $(\"#customFile\")[0];\n    for(var i = 0; i < input.files.length; i++) {\n        const file = input.files[i];\n        if(file) {\n            const reader = new FileReader();\n            await new Promise((resolve, reject) => {\n                const outputType = $(\"#format\").val();\n                let outputMode, binaryFormat;\n                const requestedCf = ImageMode[$(\"#cf\").val()];\n                if(outputType == \"c_array\")\n                    outputMode = OutputMode.C;\n                else {\n                    outputMode = OutputMode.BIN;\n                    const needBinaryFormat = ImageModeUtil.isTrueColor(requestedCf);\n                    if(needBinaryFormat) {\n                        const binFormatRequest = BINARY_FORMAT_PREFIX + outputType.substring(4).toUpperCase();\n                        binaryFormat = ImageMode[binFormatRequest];\n                        if(typeof binaryFormat == 'undefined')\n                            throw new Error(\"Binary format not found: \" + binFormatRequest);\n                    }\n                }\n                async function doConvert(blob) {\n                    let imageName = $(\"#name\" + i).val();\n                    if (imageName == \"\") {\n                        imageName = file.name.split('.')[0];\n                    }\n\n                    const swapEndian = outputMode == OutputMode.C && document.querySelector(\"#endian-checkbox\").checked;\n                    const imageString = await convertImageBlob(blob, { cf: requestedCf, imageName: imageName, outName: imageName, swapEndian: swapEndian, outputFormat: outputMode, binaryFormat });\n                    console.log(imageString);\n                    var blob = new Blob([ imageString ], {\n                        type: outputMode == OutputMode.BIN ? \"binary/octet-stream\" : \"text/x-c;charset=utf-8\"\n                    });\n                    saveAs(blob, imageName + \".\" + (outputMode == OutputMode.BIN ? \"bin\" : \"c\"));\n                    resolve();\n                }\n                if($(\"#cf\").val().startsWith(\"CF_RAW\")) {\n                    reader.readAsArrayBuffer(file);\n                    reader.onload = function(e) {\n                        console.log(\"loaded\");\n                        /** @type {ArrayBuffer} */\n                        const buf = e.target.result;\n                        doConvert(new Uint8Array(buf));\n                    }\n                } else {\n                    reader.onload = function(e) {\n                        var image = new Image();\n                        image.onload = function() {\n                            console.log(\"loaded\");\n                            doConvert(image);\n                        };\n\n                        image.onerror = function(e) {\n                            reject(e);\n                        };\n                        image.src = e.target.result;\n                    }\n                    reader.readAsDataURL(file);\n                }\n            });\n        }\n    }\n    $(\"#convert-button\").removeAttr(\"disabled\");\n});\n\n/* FIXME: temporary hack to fix setImmediate issue */\nwindow.setImmediate = (fn) => setTimeout(fn, 0);\n"],"names":["Converter","this","cf","$eASID","ImageMode","CF_RAW","CF_RAW_ALPHA","d_array","Array","from","imageData","raw_len","length","str","map","val","i","$parcel$interopDefault","$7hvEJ","$9dARW","join","substr","palette_size","CF_INDEXED_1_BIT","CF_INDEXED_2_BIT","CF_INDEXED_4_BIT","CF_INDEXED_8_BIT","d_out","pointContainer","$3e7ng","PointContainer","fromUint8Array","w","h","palette","$9I7Gb","buildPalette","colors","color_arr","palettePointArray","getPointContainer","getPointArray","paletteColors","point","uint32","i1","push","b","g","r","a","outPointArray","applyPalette","forEach","arrayIndex","index","indexOf","Error","oldColorFormat","needsFormatSwap","outputFormat","OutputMode","BIN","ImageModeUtil","isTrueColor","options","binaryFormat","y","dith_reset","x","conv_px","C","format_to_c_array","$lv_cf","CF_TRUE_COLOR","CF_TRUE_COLOR_ALPHA","CF_TRUE_COLOR_CHROMA","CF_ALPHA_1_BIT","CF_ALPHA_2_BIT","CF_ALPHA_4_BIT","CF_ALPHA_8_BIT","$header_32bit","finalBinary","Uint8Array","buffer","get_c_header","out_name","$c_header","$attr_name","toUpperCase","get_c_footer","$cf","$c_footer","$aKOTy","CF_RAW_CHROMA","array_push","arr","v","isset","undefined","startIndex","alpha","c","ICF_TRUE_COLOR_565","ICF_TRUE_COLOR_565_SWAP","ICF_TRUE_COLOR_332","ICF_TRUE_COLOR_888","dith_next","c8","r_act","g_act","b_act","c16","p","dith","r_nerr","g_nerr","b_nerr","r_earr","g_earr","b_earr","classify_pixel","$lnmFm","value","bits","tmp","c_array","y_end","x_end","console","error","swapEndian","chroma","convertImageBlob","img","options1","c_res_array","bin_res_blob","outName","c_creator","ctx","$cQBfA","createCanvas","width","height","getContext","drawImage","getImageData","data","Promise","all","Object","assign","convert","binaryConv","log","imagePath","loadImage","eval","fs","readFileSync","$1GKm7","parse","name","$d7ce71c8cce1433c$export$2e2bcd8739ae039","$95a73c886b82aa90$export$cd3d1f114b139967","$95a73c886b82aa90$export$fe58198efe02b173","document","createElement","src","resolve","reject","image","cleanup","onload","onerror","$d0575043b0bcf7b7$var$weightRe","RegExp","$d0575043b0bcf7b7$var$styleRe","$d0575043b0bcf7b7$var$variantRe","$d0575043b0bcf7b7$var$stretchRe","$d0575043b0bcf7b7$var$sizeFamilyRe","$d0575043b0bcf7b7$var$cache","module","exports","sizeFamily","exec","font","weight","style","stretch","variant","size","parseFloat","unit","family","replace","substring","$13adabf8a7739a28$var$assertPath","path","TypeError","JSON","stringify","$13adabf8a7739a28$var$normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","slice","$13adabf8a7739a28$var$posix","cwd","resolvedPath","resolvedAbsolute","arguments","$1DUQ0","normalize","isAbsolute","trailingSeparator","joined","arg","relative","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","$13adabf8a7739a28$var$_format","ret","delimiter","win32","posix","$132585caef1f13e2$var$cachedSetTimeout","$132585caef1f13e2$var$cachedClearTimeout","$132585caef1f13e2$var$process","$132585caef1f13e2$var$defaultSetTimout","$132585caef1f13e2$var$defaultClearTimeout","$132585caef1f13e2$var$runTimeout","fun","setTimeout","e","call","clearTimeout","e1","$132585caef1f13e2$var$currentQueue","$132585caef1f13e2$var$queue","$132585caef1f13e2$var$draining","$132585caef1f13e2$var$queueIndex","$132585caef1f13e2$var$cleanUpNextTick","concat","$132585caef1f13e2$var$drainQueue","timeout","len","run","marker","$132585caef1f13e2$var$runClearTimeout","$132585caef1f13e2$var$Item","array","$132585caef1f13e2$var$noop","nextTick","args","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","umask","$5eac276dc09d8c0a$export$8fdc94333f850fd0","$5eac276dc09d8c0a$export$270e6e36ebde1e15","mode","startsWith","$5eac276dc09d8c0a$export$98d0c6b2ee3d39ed","$5eac276dc09d8c0a$export$b8c05b486cf30566","roundToInt","Math","floor","abs","precision","floatCast","require","intCast","pow","isNaN","isFinite","trunc","preRoundPrecision","log10","$f6d0fb294a44ad1d$var$_typeof","$2c7f4c14ab666f5c$var$_typeof","ceil","parseInt","number","toString","input","padLength","padString","padType","padToGo","half","_strPadRepeater","s","collect","count","mixedVar","key","cnt","constructor","hasOwnProperty","$316651c34e85af58$export$8743009a87fcb00f","$316651c34e85af58$export$d141bba7fdc215a3","$316651c34e85af58$export$4a5767248b18ef41","$2c7e0274540f8011$var$correctGamma","n","$2c7e0274540f8011$export$fca6d690f89f5907","z","$8dcdfeec9a342a8a$export$b5ba70b240f8f7f","min","$gxy6k","min3","max","max3","delta","l","$335efa6a9ff05197$export$429f6664de4d6783","PI","$335efa6a9ff05197$export$22cda90bd12095a9","m","$335efa6a9ff05197$export$b393be5a551404be","$335efa6a9ff05197$export$6d279704a4749429","low","high","$335efa6a9ff05197$export$5eb0b6af50caf977","round","$335efa6a9ff05197$export$e89438c49214667d","$335efa6a9ff05197$export$c7d3d1f96a700512","arrayToSort","callback","type","sorted","ord","create","sort","ord2","$eedc416cc908a681$export$1cd42a60c721c525","xyz","$fwj5v","rgb2xyz","$fxEA8","xyz2lab","$b297486dc4cb0f55$var$pivot","$b297486dc4cb0f55$export$f80b0695d2cca109","L","$05cd3c15a93f1d55$var$pivot","$05cd3c15a93f1d55$export$b44d3ebc207ccb62","$be2119e984325cbc$var$correctGamma","$be2119e984325cbc$export$22cbacf088b0f5c6","inRange0to255Rounded","$111b593c14589cef$export$e7127f011d23e988","setWhitePoint","_whitePoint","_maxDistance","calculateRaw","calculateNormalized","colorA","colorB","_setDefaults","$bac07c061ef31bb5$export$e480508b99dd93a3","$86JV2","AbstractDistanceCalculator","r1","g1","b1","a1","r2","g2","b2","a2","lab1","$GsFdM","rgb2lab","inRange0to255","lab2","dL","dA","dB","c1","sqrt","dC","deltaH","dAlpha","_kA","_Kl","_K1","_K2","$bac07c061ef31bb5$export$81bb094e3f22633d","$bac07c061ef31bb5$export$ae7acddce86269cc","$1cd9646612a85ca1$export$6c017bfb366f2dbf","ap","hp","atan2","_deg360InRad","ahp","aCp","aCp_to_7","R_C","_pow25to7","delta_theta","_deg30InRad","exp","_deg275InRad","_deg25InRad","sin","cos","_deg6InRad","_deg63InRad","C1pC2p","h_bar","h1p","h2p","hpSum","_deg180InRad","dhp","dE2","calculateRawInLab","Lab1","Lab2","L1","L2","pow_a_C1_C2_to_7","G","a1p","a2p","C1p","C2p","_calculatehp","dLp","dCp","dHp","_calculate_dHp","_calculate_ahp","aLp_minus_50_square","dCpSC","dHpSH","_calculateT","_calculateRT","degrees2radians","$f7e2434a0d8e6462$export$bc1dbe338b7db412","rmean","dE","$6215193c16174124$export$a7ed6210e4463398","dR","dG","_kR","_kG","_kB","$6215193c16174124$export$e6b4701be0d92392","$6215193c16174124$export$c91ee8fe7e1bae05","$6cFvP","Y","RED","GREEN","BLUE","$6215193c16174124$export$9f449413b7eb5250","$67f55dd68cb974c4$export$27a21b2cb0d08dcd","$67f55dd68cb974c4$export$629a80614180ea94","$67f55dd68cb974c4$export$87575544adca7156","$67f55dd68cb974c4$export$292f30b4313c8567","$1808a69cd0e10f85$export$7ec0afefac0284e7","alphas","_colordifferenceCh","black","white","$d568756f7b2b80b8$export$70df152740e2947f","quantizeSync","quantize","$3b33fecc17458bc6$var$Neuron","toPoint","$Jotol","Point","createByRGBA","subtract","defaultValue","$3b33fecc17458bc6$export$a14dcb64913a57eb","$lCcjo","AbstractPaletteQuantizer","sample","_pointArray","_init","_learn","_buildPalette","progress","_freq","_bias","_radPower","_network","_networkSize","$3b33fecc17458bc6$var$networkBiasShift","_initialBias","sampleFactor","_sampleFactor","pointsNumber","_minpicturebytes","alphadec","pointsToSample","step","_nCycles","_initAlpha","radius","_radiusBias","rad","_radiusBiasShift","_radBias","_prime1","_prime2","_prime3","_prime4","tracker","$bO8IN","ProgressTracker","pointIndex","shouldNotify","neuronIndex","_contest","_alterSingle","_alterNeighbour","_radiusDecrease","j","$lKIVa","Palette","neuron","add","al","lo","hi","k","_alphaRadBias","bestd","bestbiasd","bestpos","bestbiaspos","dist","_distance","biasdist","_initialBiasShift","betafreq","_betaShift","_gammaShift","_beta","_betaGamma","colorDistanceCalculator","super","_alphaBiasShift","_radBiasShift","_alphaRadBiasShift","$5a06f11ed509dfbb$export$364fbd678050ba26","hue","segmentsNumber","seg","mid","$5a06f11ed509dfbb$export$e2fbaa661ec19dbf","color","_pointContainer","setWidth","has","getNearestColor","_getNearestIndex","_nearestPointFromCache","_i32idx","idx","minimalDistance","Number","MAX_VALUE","distance","hslA","$hxFaO","rgb2hsl","hslB","hueA","hueDiff","lA","getLuminosity","lB","satDiff","$9HrsS","setHeight","$839bc814ee6535aa$export$aa228b91e9e8f5cb","getWidth","_width","getHeight","_height","clone","createByUint32","toUint32Array","uint32Array","Uint32Array","toUint8Array","naturalWidth","naturalHeight","canvas","fromHTMLCanvasElement","imgData","fromImageData","uint8Array","fromUint32Array","container","byteOffset","byteLength","BYTES_PER_ELEMENT","$debe332a7d98444e$export$baf26146a414f24a","quadruplet","_loadUINT32","_loadQuadruplet","red","green","blue","_loadRGBA","rgba","useAlphaChannel","$8149854f5861870b$var$HueGroup","num","cols","$8149854f5861870b$export$332cee2a78692576","check","i32","_groupsFull","_numGroups","hg","hueGroup","gr","_stats","_minCols","injectIntoDictionary","histG","col","injectIntoArray","numGroups","minCols","$69449043e454cd01$export$50a55323bc54fb79","current","_last","_step","_progressRange","_range","valueRange","progressRange","steps","$7b727171aec5d1c0$var$NeuronFloat","$7b727171aec5d1c0$export$1ac44bf113e76a86","$7b727171aec5d1c0$var$networkBiasShift","$ae42abe8f94f75c5$var$RemovedColor","$ae42abe8f94f75c5$export$b4d1279f50c64a23","_histogram","idxi32","getImportanceSortedColorsIDXI32","colorArray","usageArray","memDist","palLen","thold","_initialDistance","_colors","pxi","pxj","_distanceIncrement","stableSort","colorIndex","method","$bsxJO","ColorHistogram","$41f496136b9d1143$export$4411783de4adca20","_method","_colorStats1D","_colorStats2D","keys","initialColorsLimit","_initColors","last","freq","pos","_hueStats","pointArray","boxW","_boxSize","boxH","area","boxes","_makeBoxes","box","effc","_boxPixels","histL","_iterateBox","bbox","wid","fn","i0","incr","stepX","stepY","wrem","hrem","xend","yend","boxesArray","_minHueCols","$8k51P","HueStatistics","_hueGroups","$12072f46db04a982$var$createArray1D","dimension1","$12072f46db04a982$var$createArray4D","dimension2","dimension3","dimension4","$12072f46db04a982$var$createArray3D","$12072f46db04a982$var$fillArray3D","$12072f46db04a982$var$fillArray1D","$12072f46db04a982$export$2b25e654b17874ab","$12072f46db04a982$export$d85bc251ce90584a","_addColor","_pixels","_preparePalette","paletteIndex","_sums","sum","_reds","_greens","_blues","_alphas","_calculateMoments","next","volumeVariance","cubeIndex","_cut","_cubes","volume","_calculateVariance","temp","lookupRed","lookupGreen","lookupBlue","lookupAlpha","_volume","_weights","_momentsRed","_momentsGreen","_momentsBlue","_momentsAlpha","bestMatch","bestDistance","lookup","foundRed","foundGreen","foundBlue","foundAlpha","bitsToRemove","_significantBitsPerChannel","indexRed","indexGreen","indexBlue","indexAlpha","_moments","_table","areaRed","areaGreen","areaBlue","areaAlpha","area2","xarea","_sideSize","xareaRed","xareaGreen","xareaBlue","xareaAlpha","xarea2","trackerProgress","_alphaMaxSideIndex","_maxSideIndex","alphaIndex","redIndex","greenIndex","line","lineRed","lineGreen","lineBlue","lineAlpha","line2","blueIndex","static","cube","moment","alphaMaximum","redMaximum","greenMaximum","blueMaximum","greenMinimum","redMinimum","alphaMinimum","blueMinimum","_volumeFloat","direction","position","result","_alpha","_red","_green","_blue","volumeRed","volumeGreen","volumeBlue","volumeAlpha","_maximize","first","wholeRed","wholeGreen","wholeBlue","wholeAlpha","wholeWeight","bottomRed","_bottom","bottomGreen","bottomBlue","bottomAlpha","bottomWeight","cutPosition","halfRed","_top","halfGreen","halfBlue","halfAlpha","halfWeight","halfDistance","second","_initialize","_alphaSideSize","tableIndex","_setQuality","significantBitsPerChannel","$1cf1afc581da8fb9$export$391ba0d40f5d63f4","$60855cee4f58c91a$export$70ee0f0d0123bdb3","$ld5ep","AbstractImageQuantizer","$51e6811fb8dbc8a3$export$8356cd805ac56a5a","$51e6811fb8dbc8a3$export$f3fceb7690a85289","originalPoint","errorLines","maxErrorLines","kernel","_kernel","kernelErrorLines","_fillErrorLine","_serpentine","lni","xStart","xEnd","shift","errorLine","correctedPoint","palettePoint","_minColorDistance","er","eg","eb","ea","_calculateErrorLikeGIMP","dStart","dEnd","x1","y1","d","_setKernel","FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite","serpentine","minimumColorDistanceToDither","calculateErrorLikeGIMP","$18c69d0c548df555$export$9fccad07108e10cd","errorQueue","head","_errorQueueSize","$gkgSb","hilbertCurve","quantizedPoint","tail","errorPropagation","errorQueueSize","weights","multiplier","_createWeights","Direction","$5d43941d77c70919$export$3296febcb4558101","maxBound","$5d43941d77c70919$var$walkHilbert","$5d43941d77c70919$var$Direction","UP","$5d43941d77c70919$var$visit","NONE","level","LEFT","RIGHT","DOWN","$ce592bba46a22127$export$210de7974a8bcbe7","images","colorDistanceFormula","paletteQuantization","onProgress","paletteQuantizer","$ce592bba46a22127$var$paletteQuantizationToPaletteQuantizer","$ce592bba46a22127$var$colorDistanceFormulaToColorDistance","timerId","iterator","done","setImmediate","clearImmediate","$ce592bba46a22127$export$d1a2a691e346564c","imageQuantization","outPointContainer","$ce592bba46a22127$var$imageQuantizationToImageQuantizer","$jbJxx","CIE94GraphicArts","CIE94Textiles","$aujYj","CIEDE2000","$5rGxC","CMetric","$aLX8M","Euclidean","EuclideanBT709","EuclideanBT709NoAlpha","$9aC1d","Manhattan","ManhattanBT709","ManhattanNommyde","$leW35","PNGQuant","distanceCalculator","$8vtkJ","NearestColor","$5Mdp3","ErrorDiffusionRiemersma","$keHIV","ErrorDiffusionArray","ErrorDiffusionArrayKernel","$1kvsa","NeuQuant","$eBm6C","RGBQuant","$heirT","WuQuant","$87BX8","NeuQuantFloat","global","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","process","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","documentElement","script","onreadystatechange","removeChild","appendChild","random","source","addEventListener","attachEvent","Function","task","self","$parcel$global","$f446e475a41629f5$var$_typeof","obj1","Symbol","obj","$f446e475a41629f5$var$isDeepEqual","$f446e475a41629f5$var$isDeepStrictEqual","$f446e475a41629f5$var$_require$codes","codes","$f446e475a41629f5$var$ERR_AMBIGUOUS_ARGUMENT","ERR_AMBIGUOUS_ARGUMENT","$f446e475a41629f5$var$ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_TYPE","$f446e475a41629f5$var$ERR_INVALID_ARG_VALUE","ERR_INVALID_ARG_VALUE","$f446e475a41629f5$var$ERR_INVALID_RETURN_VALUE","ERR_INVALID_RETURN_VALUE","$f446e475a41629f5$var$ERR_MISSING_ARGS","ERR_MISSING_ARGS","$f446e475a41629f5$var$inspect","inspect","types","$f446e475a41629f5$var$isPromise","$f446e475a41629f5$require$_require$types","isPromise","$f446e475a41629f5$var$isRegExp","isRegExp","$f446e475a41629f5$var$objectAssign","parcelRequire","$f446e475a41629f5$var$objectIs","is","Map","$f446e475a41629f5$var$lazyLoadComparison","comparison","isDeepEqual","isDeepStrictEqual","$f446e475a41629f5$var$warned","$f446e475a41629f5$var$assert","$f446e475a41629f5$var$ok","$f446e475a41629f5$var$NO_EXCEPTION_SENTINEL","$f446e475a41629f5$var$innerFail","message","$4T4Hn","$f446e475a41629f5$var$innerOk","argLen","generatedMessage","err","actual","expected","operator","stackStartFn","_len","_key","fail","$f446e475a41629f5$var$fail","internalMessage","argsLen","warn","emitWarning","bind","errArgs","AssertionError","ok","equal","notEqual","deepEqual","notDeepEqual","deepStrictEqual","notDeepStrictEqual","$f446e475a41629f5$var$notDeepStrictEqual","strictEqual","notStrictEqual","$f446e475a41629f5$var$Comparison","Comparison","_this","instance","Constructor","$f446e475a41629f5$var$_classCallCheck","test","$f446e475a41629f5$var$compareExceptionKey","$f446e475a41629f5$var$expectedException","msg","isPrototypeOf","$f446e475a41629f5$var$getActual","$f446e475a41629f5$var$checkIsPromise","then","catch","$f446e475a41629f5$var$waitForActual","promiseFn","resultPromise","$f446e475a41629f5$var$expectsError","details","fnType","$f446e475a41629f5$var$expectsNoError","$f446e475a41629f5$var$strict","_len6","_key6","throws","_len2","_key2","rejects","_len3","_key3","doesNotThrow","_len4","_key4","doesNotReject","_len5","_key5","ifError","newErr","origStack","stack","tmp2","split","tmp1","strict","$36ba52545b2a20d9$export$e45cb6485273080e","$36ba52545b2a20d9$var$_typeof","$36ba52545b2a20d9$var$_possibleConstructorReturn","ReferenceError","$36ba52545b2a20d9$var$_assertThisInitialized","$36ba52545b2a20d9$var$_getPrototypeOf","o1","setPrototypeOf","o","__proto__","$36ba52545b2a20d9$var$_setPrototypeOf","o2","p1","$36ba52545b2a20d9$var$assert","$36ba52545b2a20d9$var$util","$36ba52545b2a20d9$var$codes","$36ba52545b2a20d9$var$createErrorType","Base","NodeError1","_Base","NodeError","arg1","arg2","arg3","$36ba52545b2a20d9$var$_classCallCheck","getMessage","subClass","superClass","writable","configurable","$36ba52545b2a20d9$var$_inherits","$36ba52545b2a20d9$var$oneOf","thing","isArray","String","determiner","search","this_len","$36ba52545b2a20d9$var$endsWith","$36ba52545b2a20d9$var$includes","reason","inspected","RangeError","$cb09ce6e83db6a8b$var$getOwnPropertyDescriptors","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","$cb09ce6e83db6a8b$var$formatRegExp","f","$cb09ce6e83db6a8b$var$isString","objects","$cb09ce6e83db6a8b$var$inspect","_","$cb09ce6e83db6a8b$var$isNull","$cb09ce6e83db6a8b$var$isObject","deprecate","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","$cb09ce6e83db6a8b$var$debugs","$cb09ce6e83db6a8b$var$debugEnvRegex","opts","seen","stylize","$cb09ce6e83db6a8b$var$stylizeNoColor","depth","$cb09ce6e83db6a8b$var$isBoolean","showHidden","_extend","$cb09ce6e83db6a8b$var$isUndefined","customInspect","$cb09ce6e83db6a8b$var$stylizeWithColor","$cb09ce6e83db6a8b$var$formatValue","styleType","styles","recurseTimes","$cb09ce6e83db6a8b$var$isFunction","primitive","simple","$cb09ce6e83db6a8b$var$isNumber","$cb09ce6e83db6a8b$var$formatPrimitive","visibleKeys","hash","$cb09ce6e83db6a8b$var$arrayToHash","getOwnPropertyNames","$cb09ce6e83db6a8b$var$isError","$cb09ce6e83db6a8b$var$formatError","$cb09ce6e83db6a8b$var$isRegExp","$cb09ce6e83db6a8b$var$isDate","Date","output","braces","$cb09ce6e83db6a8b$var$isArray","toUTCString","$cb09ce6e83db6a8b$var$hasOwnProperty","$cb09ce6e83db6a8b$var$formatProperty","match","$cb09ce6e83db6a8b$var$formatArray","pop","numLinesEst","reduce","prev","cur","$cb09ce6e83db6a8b$var$reduceToSingleString","desc","get","set","ar","re","$cb09ce6e83db6a8b$var$objectToString","$cb09ce6e83db6a8b$var$pad","debuglog","pid","bold","italic","underline","inverse","grey","cyan","magenta","yellow","special","boolean","null","string","date","regexp","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isObject","isDate","isError","isNativeError","isFunction","isPrimitive","isBuffer","$cb09ce6e83db6a8b$var$months","$cb09ce6e83db6a8b$var$timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","inherits","origin","$cb09ce6e83db6a8b$var$kCustomPromisifiedSymbol","$cb09ce6e83db6a8b$var$callbackifyOnRejected","cb","newReason","promisify","original","defineProperty","enumerable","promiseResolve","promiseReject","promise","defineProperties","custom","callbackify","callbackified","maybeCb","rej","$a36f8a9411e5bdc7$var$uncurryThis","$a36f8a9411e5bdc7$var$BigIntSupported","BigInt","$a36f8a9411e5bdc7$var$SymbolSupported","$a36f8a9411e5bdc7$var$ObjectToString","$a36f8a9411e5bdc7$var$numberValue","valueOf","$a36f8a9411e5bdc7$var$stringValue","$a36f8a9411e5bdc7$var$booleanValue","Boolean","$a36f8a9411e5bdc7$var$bigIntValue","$a36f8a9411e5bdc7$var$symbolValue","$a36f8a9411e5bdc7$var$checkBoxedPrimitive","prototypeValueOf","$a36f8a9411e5bdc7$var$isMapToString","$a36f8a9411e5bdc7$var$isSetToString","$a36f8a9411e5bdc7$var$isWeakMapToString","$a36f8a9411e5bdc7$var$isWeakSetToString","$a36f8a9411e5bdc7$var$isArrayBufferToString","$a36f8a9411e5bdc7$var$isArrayBuffer","ArrayBuffer","working","$a36f8a9411e5bdc7$var$isDataViewToString","$a36f8a9411e5bdc7$var$isDataView","DataView","isArgumentsObject","$hNBdP","isGeneratorFunction","$bajsH","isTypedArray","$gB4U6","isArrayBufferView","isView","isUint8Array","$8Mi61","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isFloat32Array","isFloat64Array","isBigInt64Array","isBigUint64Array","isMap","Set","isSet","WeakMap","isWeakMap","WeakSet","isWeakSet","isArrayBuffer","isDataView","$a36f8a9411e5bdc7$var$SharedArrayBufferCopy","SharedArrayBuffer","$a36f8a9411e5bdc7$var$isSharedArrayBufferToString","$a36f8a9411e5bdc7$var$isSharedArrayBuffer","$a36f8a9411e5bdc7$var$isNumberObject","$a36f8a9411e5bdc7$var$isStringObject","$a36f8a9411e5bdc7$var$isBooleanObject","$a36f8a9411e5bdc7$var$isBigIntObject","$a36f8a9411e5bdc7$var$isSymbolObject","isSharedArrayBuffer","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isBoxedPrimitive","isAnyArrayBuffer","$cf53e2c5c1b07055$var$hasToStringTag","$cf53e2c5c1b07055$var$$toString","$kMw4Y","$cf53e2c5c1b07055$var$isStandardArguments","toStringTag","$cf53e2c5c1b07055$var$isLegacyArguments","callee","$cf53e2c5c1b07055$var$supportsStandardArguments","isLegacyArguments","$5h6X4","getOwnPropertySymbols","sym","symObj","syms","propertyIsEnumerable","descriptor","$f2112c969146a029$var$$indexOf","$6koMG","$ggFJf","allowMissing","intrinsic","$bd7e826b10dde61d$var$undefined","$bd7e826b10dde61d$var$$SyntaxError","SyntaxError","$bd7e826b10dde61d$var$$Function","$bd7e826b10dde61d$var$$TypeError","$bd7e826b10dde61d$var$getEvalledConstructor","expressionSyntax","$bd7e826b10dde61d$var$$gOPD","$bd7e826b10dde61d$var$throwTypeError","$bd7e826b10dde61d$var$ThrowTypeError","calleeThrows","gOPDthrows","$bd7e826b10dde61d$var$hasSymbols","$bd7e826b10dde61d$var$getProto","$bd7e826b10dde61d$var$needsEval","$bd7e826b10dde61d$var$TypedArray","$bd7e826b10dde61d$var$INTRINSICS","AggregateError","Atomics","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","Proxy","Reflect","Uint8ClampedArray","Uint16Array","URIError","WeakRef","$bd7e826b10dde61d$var$doEval","doEval","gen","$bd7e826b10dde61d$var$LEGACY_ALIASES","$bd7e826b10dde61d$var$$concat","$eWnIb","$bd7e826b10dde61d$var$$spliceApply","splice","$bd7e826b10dde61d$var$$replace","$bd7e826b10dde61d$var$$strSlice","$bd7e826b10dde61d$var$rePropName","$bd7e826b10dde61d$var$reEscapeChar","$bd7e826b10dde61d$var$stringToPath","quote","subString","$bd7e826b10dde61d$var$getBaseIntrinsic","alias","intrinsicName","$3xMpL","parts","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","$5750b863f3b640a7$var$origSymbol","$9slMl","$6e279f61e9908205$var$ERROR_MESSAGE","$6e279f61e9908205$var$slice","$6e279f61e9908205$var$toStr","$6e279f61e9908205$var$funcType","that","target","bound","binder","boundLength","boundArgs","Empty","$49b7d5f7d53199c3$var$$apply","$49b7d5f7d53199c3$var$$call","$49b7d5f7d53199c3$var$$reflectApply","$49b7d5f7d53199c3$var$$gOPD","$49b7d5f7d53199c3$var$$defineProperty","$49b7d5f7d53199c3$var$$max","originalFunction","func","$49b7d5f7d53199c3$var$applyBind","$820fb99ae8221ae8$var$GeneratorFunction","$820fb99ae8221ae8$var$toStr","$820fb99ae8221ae8$var$fnToStr","$820fb99ae8221ae8$var$isFnRegex","$820fb99ae8221ae8$var$hasToStringTag","$820fb99ae8221ae8$var$getProto","generatorFunc","$820fb99ae8221ae8$var$getGeneratorFunc","$6640d7ef42aa2085$var$$toString","$6640d7ef42aa2085$var$hasToStringTag","$6640d7ef42aa2085$var$g","globalThis","$6640d7ef42aa2085$var$typedArrays","$6jFxr","$6640d7ef42aa2085$var$$slice","$6640d7ef42aa2085$var$toStrTags","$6640d7ef42aa2085$var$getPrototypeOf","$hR5S5","$gW7xQ","typedArray","proto","superProto","foundName","getter","$6640d7ef42aa2085$var$tryTypedArrays","$c547ea5e57cd5f0c$var$hasOwn","$c547ea5e57cd5f0c$var$toString","$4994bd196f165a21$var$possibleNames","$4994bd196f165a21$var$g","$cffbf0d3261fa3c8$var$$gOPD","$c153e7d484220bd0$var$$toString","$c153e7d484220bd0$var$hasToStringTag","$c153e7d484220bd0$var$g","$c153e7d484220bd0$var$typedArrays","$c153e7d484220bd0$var$$indexOf","$c153e7d484220bd0$var$$slice","$c153e7d484220bd0$var$toStrTags","$c153e7d484220bd0$var$getPrototypeOf","tag","anyTrue","$c153e7d484220bd0$var$tryTypedArrays","copy","fill","readUInt8","ctor","superCtor","super_","TempCtor","$38eff18d1d7ea795$var$_defineProperty","$38eff18d1d7ea795$var$_defineProperties","props","$38eff18d1d7ea795$var$_possibleConstructorReturn","$38eff18d1d7ea795$var$_typeof","$38eff18d1d7ea795$var$_assertThisInitialized","$38eff18d1d7ea795$var$_wrapNativeSuper","Class1","_cache","Class","Wrapper","$38eff18d1d7ea795$var$_construct","$38eff18d1d7ea795$var$_getPrototypeOf","$38eff18d1d7ea795$var$_setPrototypeOf","$38eff18d1d7ea795$var$isNativeReflectConstruct","construct","sham","Parent1","args1","Class2","Parent","$38eff18d1d7ea795$var$inspect","$38eff18d1d7ea795$var$ERR_INVALID_ARG_TYPE","$38eff18d1d7ea795$var$endsWith","$38eff18d1d7ea795$var$blue","$38eff18d1d7ea795$var$green","$38eff18d1d7ea795$var$red","$38eff18d1d7ea795$var$white","$38eff18d1d7ea795$var$kReadableOperator","strictEqualObject","notStrictEqualObject","notIdentical","$38eff18d1d7ea795$var$copyError","$38eff18d1d7ea795$var$inspectValue","compact","maxArrayLength","Infinity","breakLength","showProxy","getters","$38eff18d1d7ea795$var$createErrDiff","other","lastPos","skipped","actualInspected","actualLines","expectedLines","indicator","inputLength","stderr","isTTY","columns","maxCount","$38eff18d1d7ea795$var$repeat","maxLines","_actualLines","printedLines","skippedMsg","expectedLine","actualLine","divergingLines","$38eff18d1d7ea795$var$AssertionError","_Error","$38eff18d1d7ea795$var$_classCallCheck","limit","stackTraceLimit","getColorDepth","_res","knownOperators","captureStackTrace","protoProps","staticProps","$38eff18d1d7ea795$var$_inherits","ownKeys","filter","$38eff18d1d7ea795$var$_objectSpread","$9f199604ef47a9f3$var$assign","firstSource","nextSource","keysArray","nextIndex","nextKey","polyfill","$73e8227e136d1546$var$polyfill","$jC9uQ","$e19Ut","getPolyfill","implementation","$3qLtH","shim","$fyglE","$a348d891c0944137$var$hasSymbols","$a348d891c0944137$var$toStr","$a348d891c0944137$var$concat","$a348d891c0944137$var$origDefineProperty","$a348d891c0944137$var$supportsDescriptors","$a348d891c0944137$var$arePropertyDescriptorsSupported","$a348d891c0944137$var$defineProperty","object","predicate","$a348d891c0944137$var$defineProperties","predicates","$hUDRT","supportsDescriptors","$d0a697a3b93ba78f$var$slice","$d0a697a3b93ba78f$var$origKeys","$d0a697a3b93ba78f$var$keysShim","$d0a697a3b93ba78f$var$originalKeys","keysWorksWithArguments","$gYks8","$c5b21d6c653dc4b1$var$toStr","isArgs","$65c864633e125e80$var$keysShim","$65c864633e125e80$var$has","$65c864633e125e80$var$toStr","$65c864633e125e80$var$isArgs","$65c864633e125e80$var$isEnumerable","$65c864633e125e80$var$hasDontEnumBug","$65c864633e125e80$var$hasProtoEnumBug","$65c864633e125e80$var$dontEnums","$65c864633e125e80$var$equalsConstructorPrototype","$65c864633e125e80$var$excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","$65c864633e125e80$var$hasAutomationEqualityBug","window","isArguments","theKeys","skipProto","skipConstructor","$65c864633e125e80$var$equalsConstructorPrototypeIfNotBuggy","$27f8a0f8f62c2fd5$var$numberIsNaN","$7e97be9cdba13373$var$_slicedToArray","$7e97be9cdba13373$var$_arrayWithHoles","_arr","_n","_d","_e","_s","_i","$7e97be9cdba13373$var$_iterableToArrayLimit","$7e97be9cdba13373$var$_nonIterableRest","$7e97be9cdba13373$var$_typeof","$7e97be9cdba13373$var$regexFlagsSupported","flags","$7e97be9cdba13373$var$arrayFromSet","$7e97be9cdba13373$var$arrayFromMap","$7e97be9cdba13373$var$objectIs","$7e97be9cdba13373$var$objectGetOwnPropertySymbols","$7e97be9cdba13373$var$numberIsNaN","$7e97be9cdba13373$var$uncurryThis","$7e97be9cdba13373$var$hasOwnProperty","$7e97be9cdba13373$var$propertyIsEnumerable","$7e97be9cdba13373$var$objectToString","$7e97be9cdba13373$var$isAnyArrayBuffer","$7e97be9cdba13373$require$_require$types","$7e97be9cdba13373$var$isArrayBufferView","$7e97be9cdba13373$var$isDate","$7e97be9cdba13373$var$isMap","$7e97be9cdba13373$var$isRegExp","$7e97be9cdba13373$var$isSet","$7e97be9cdba13373$var$isNativeError","$7e97be9cdba13373$var$isBoxedPrimitive","$7e97be9cdba13373$var$isNumberObject","$7e97be9cdba13373$var$isStringObject","$7e97be9cdba13373$var$isBooleanObject","$7e97be9cdba13373$var$isBigIntObject","$7e97be9cdba13373$var$isSymbolObject","$7e97be9cdba13373$var$isFloat32Array","$7e97be9cdba13373$var$isFloat64Array","$7e97be9cdba13373$var$isNonIndex","$7e97be9cdba13373$var$getOwnNonIndexProperties","$7e97be9cdba13373$var$compare","$7e97be9cdba13373$var$innerDeepEqual","val1","val2","memos","buf1","buf2","val1Tag","keys1","keys2","$7e97be9cdba13373$var$keyCheck","getTime","$7e97be9cdba13373$var$areSimilarTypedArrays","offset","$7e97be9cdba13373$var$areSimilarFloatArrays","_keys","_keys2","$7e97be9cdba13373$var$isEqualBoxedPrimitive","$7e97be9cdba13373$var$getEnumerables","iterationType","aKeys","bKeys","symbolKeysA","symbolKeysB","_symbolKeysB","val2MemoA","val2MemoB","areEq","$7e97be9cdba13373$var$objEquiv","delete","$7e97be9cdba13373$var$setHasEqualElement","memo","setValues","$7e97be9cdba13373$var$findLooseMatchingPrimitives","prim","$7e97be9cdba13373$var$setMightHaveLoosePrim","altValue","$7e97be9cdba13373$var$mapMightHaveLoosePrim","item","curB","$7e97be9cdba13373$var$mapHasEqualEntry","key1","item1","key2","aValues","bValues","_val","$7e97be9cdba13373$var$setEquiv","aEntries","_aEntries$i","item2","bEntries","_i2","_bEntries$_i","$7e97be9cdba13373$var$mapEquiv","keysA","$077810041f896567$var$polyfill","$9Pp1U","$kULO0","$ho4ZV","NaN","Selector","getDefaultText","defaultText","label","parentNode","querySelector","textContent","findFirstChildNode","element","childNodes","node","nodeType","restoreDefaultText","bsCustomFileInput","fileApi","File","handleInputChange","inputValue","hasAttribute","files","file","splittedValue","getSelectedFiles","handleFormReset","customFileList","querySelectorAll","customProperty","Event","init","inputSelector","formSelector","customFileInputList","formList","destroy","form","removeEventListener","$d172e789bb9d5081$var$updateNameTextboxes","$","$nameContainer","numExistingFields","children","totalLength","append","css","$d172e789bb9d5081$var$updateListedBinaryFormats","needBinaryFormat","each","$ca514efa36b8bf8b$exports","XMLHttpRequest","open","responseType","response","send","d1","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","f1","navigator","userAgent","saveAs","HTMLAnchorElement","URL","webkitURL","download","rel","href","location","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","Blob","body","innerText","HTMLElement","safari","FileReader","onloadend","readAsDataURL","define","amd","FileSaver","ready","$27f2cf82bab76979$exports","change","needsDisable","async","attr","reader","outputType","outputMode","requestedCf","binFormatRequest","BINARY_FORMAT_PREFIX","doConvert","blob","imageName","checked","imageString","$dicZB","readAsArrayBuffer","buf","Image","removeAttr"],"version":3,"file":"index.7f4624a8.js.map"}